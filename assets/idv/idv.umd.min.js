(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("MPR"),require("Vue"),require("IMDICOMSDK"),require("IMDCSDK"),require("PubSub"),require("IMJSDK")):"function"===typeof define&&define.amd?define(["MPR","Vue","IMDICOMSDK","IMDCSDK","PubSub","IMJSDK"],e):"object"===typeof exports?exports["idv"]=e(require("MPR"),require("Vue"),require("IMDICOMSDK"),require("IMDCSDK"),require("PubSub"),require("IMJSDK")):t["idv"]=e(t["MPR"],t["Vue"],t["IMDICOMSDK"],t["IMDCSDK"],t["PubSub"],t["IMJSDK"])})("undefined"!==typeof self?self:this,(function(t,e,n,r,o,i){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({0:function(t,e){},"0040":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24"},h)},y),c.concat([n("path",{attrs:{d:"M15.5 20.7a.8.8 0 001.1-1.1L9 12l7.6-7.6a.7.7 0 10-1-1l-8.2 8c-.3.4-.3.8 0 1.1l8.1 8.2z"}})]))}}},"00ee":function(t,e,n){var r=n("b622"),o=r("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},"015a":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("0a0d");r({target:"Set",proto:!0,real:!0,forced:o},{deleteAll:function(){return i.apply(this,arguments)}})},"0366":function(t,e,n){var r=n("59ed");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},"0466":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("d066"),a=n("59ed"),s=n("825a"),c=n("4840"),u=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{union:function(t){var e=s(this),n=new(c(e,i("Set")))(e);return u(t,a(n.add),{that:n}),n}})},"04d1":function(t,e,n){var r=n("342f"),o=r.match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},"057f":function(t,e,n){var r=n("fc6a"),o=n("241c").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?s(t):o(r(t))}},"06cf":function(t,e,n){var r=n("83ab"),o=n("d1e7"),i=n("5c6c"),a=n("fc6a"),s=n("a04b"),c=n("5135"),u=n("0cfb"),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e),u)try{return l(t,e)}catch(n){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},"07ac":function(t,e,n){var r=n("23e7"),o=n("6f53").values;r({target:"Object",stat:!0},{values:function(t){return o(t)}})},"0920":function(t,e,n){},"094c":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("d066"),a=n("59ed"),s=n("825a"),c=n("0366"),u=n("4840"),l=n("4acb"),f=n("2266");r({target:"Map",proto:!0,real:!0,forced:o},{mapValues:function(t){var e=s(this),n=l(e),r=c(t,arguments.length>1?arguments[1]:void 0,3),o=new(u(e,i("Map"))),p=a(o.set);return f(n,(function(t,n){p.call(o,t,r(n,t,e))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}})},"0a0d":function(t,e,n){"use strict";var r=n("59ed"),o=n("825a");t.exports=function(){for(var t,e=o(this),n=r(e["delete"]),i=!0,a=0,s=arguments.length;a<s;a++)t=n.call(e,arguments[a]),i=i&&t;return!!i}},"0a44":function(t,e,n){},"0a8d":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("59ed"),a=n("825a"),s=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{isSupersetOf:function(t){var e=a(this),n=i(e.has);return!s(t,(function(t,r){if(!1===n.call(e,t))return r()}),{INTERRUPTED:!0}).stopped}})},"0b25":function(t,e,n){var r=n("a691"),o=n("50c4");t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw RangeError("Wrong length or index");return n}},"0b42":function(t,e,n){var r=n("e8b5"),o=n("68ee"),i=n("861d"),a=n("b622"),s=a("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,o(e)&&(e===Array||r(e.prototype))?e=void 0:i(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?Array:e}},"0b52":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("59ed"),a=n("825a"),s=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{isDisjointFrom:function(t){var e=a(this),n=i(e.has);return!s(t,(function(t,r){if(!0===n.call(e,t))return r()}),{INTERRUPTED:!0}).stopped}})},"0cb2":function(t,e,n){var r=n("7b0b"),o=Math.floor,i="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,c,u,l){var f=n+t.length,p=c.length,d=s;return void 0!==u&&(u=r(u),d=a),i.call(l,d,(function(r,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(f);case"<":a=u[i.slice(1,-1)];break;default:var s=+i;if(0===s)return r;if(s>p){var l=o(s/10);return 0===l?r:l<=p?void 0===c[l-1]?i.charAt(1):c[l-1]+i.charAt(1):r}a=c[s-1]}return void 0===a?"":a}))}},"0cfb":function(t,e,n){var r=n("83ab"),o=n("d039"),i=n("cc12");t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},"0d3b":function(t,e,n){var r=n("d039"),o=n("b622"),i=n("c430"),a=o("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e["delete"]("b"),n+=r+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},"0d51":function(t,e){t.exports=function(t){try{return String(t)}catch(e){return"Object"}}},"0e93":function(t,e,n){"use strict";n("d8a5")},"107c":function(t,e,n){var r=n("d039"),o=n("da84"),i=o.RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},1148:function(t,e,n){"use strict";var r=n("a691"),o=n("577e"),i=n("1d80");t.exports=function(t){var e=o(i(this)),n="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(n+=e);return n}},1179:function(t,e,n){"use strict";n("9c27")},1276:function(t,e,n){"use strict";var r=n("d784"),o=n("44e7"),i=n("825a"),a=n("1d80"),s=n("4840"),c=n("8aa5"),u=n("50c4"),l=n("577e"),f=n("dc4a"),p=n("14c3"),d=n("9263"),h=n("9f7f"),y=n("d039"),v=h.UNSUPPORTED_Y,m=[].push,g=Math.min,b=4294967295,w=!y((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));r("split",(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=l(a(this)),i=void 0===n?b:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);var s,c,u,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,y=new RegExp(t.source,p+"g");while(s=d.call(y,r)){if(c=y.lastIndex,c>h&&(f.push(r.slice(h,s.index)),s.length>1&&s.index<r.length&&m.apply(f,s.slice(1)),u=s[0].length,h=c,f.length>=i))break;y.lastIndex===s.index&&y.lastIndex++}return h===r.length?!u&&y.test("")||f.push(""):f.push(r.slice(h)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),i=void 0==e?void 0:f(e,t);return i?i.call(e,o,n):r.call(l(o),e,n)},function(t,o){var a=i(this),f=l(t),d=n(r,a,f,o,r!==e);if(d.done)return d.value;var h=s(a,RegExp),y=a.unicode,m=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(v?"g":"y"),w=new h(v?"^(?:"+a.source+")":a,m),_=void 0===o?b:o>>>0;if(0===_)return[];if(0===f.length)return null===p(w,f)?[f]:[];var S=0,O=0,I=[];while(O<f.length){w.lastIndex=v?0:O;var E,C=p(w,v?f.slice(O):f);if(null===C||(E=g(u(w.lastIndex+(v?O:0)),f.length))===S)O=c(f,O,y);else{if(I.push(f.slice(S,O)),I.length===_)return I;for(var x=1;x<=C.length-1;x++)if(I.push(C[x]),I.length===_)return I;O=S=E}}return I.push(f.slice(S)),I}]}),!w,v)},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"132e":function(t,e,n){"use strict";n("692b")},"13ec":function(t,e,n){},"143c":function(t,e,n){var r=n("74e8");r("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},1448:function(t,e,n){var r=n("dfb9"),o=n("b6b7");t.exports=function(t,e){return r(o(t),e)}},"144c":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{d:"M4 10.717l6.175 6.272L20 7.011",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})]))}}},"145e":function(t,e,n){"use strict";var r=n("7b0b"),o=n("23cb"),i=n("50c4"),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),s=i(n.length),c=o(t,s),u=o(e,s),l=arguments.length>2?arguments[2]:void 0,f=a((void 0===l?s:o(l,s))-u,s-c),p=1;u<c&&c<u+f&&(p=-1,u+=f-1,c+=f-1);while(f-- >0)u in n?n[c]=n[u]:delete n[c],c+=p,u+=p;return n}},"14c3":function(t,e,n){var r=n("825a"),o=n("1626"),i=n("c6b6"),a=n("9263");t.exports=function(t,e){var n=t.exec;if(o(n)){var s=n.call(t,e);return null!==s&&r(s),s}if("RegExp"===i(t))return a.call(t,e);throw TypeError("RegExp#exec called on incompatible receiver")}},"159b":function(t,e,n){var r=n("da84"),o=n("fdbc"),i=n("785a"),a=n("17c2"),s=n("9112"),c=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var u in o)o[u]&&c(r[u]&&r[u].prototype);c(i)},1608:function(t,e,n){"use strict";n("2164")},1626:function(t,e){t.exports=function(t){return"function"===typeof t}},"16fe":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[{padding:"2px"},f,p],attrs:Object.assign({style:"padding:2px",viewBox:"0 0 19 19",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{d:"M5.3.225a.5.5 0 00-.6 0l-3.667 2.75a.5.5 0 000 .8L5 6.75l4.5-3.375L5.3.225zm4.2 3.15L14 6.75l3.967-2.975a.5.5 0 000-.8L14.3.225a.5.5 0 00-.6 0l-4.2 3.15zM14 6.75l-4.5 3.375L14 13.5l3.967-2.975a.5.5 0 000-.8L14 6.75zm-4.5 3.375L5 6.75 1.033 9.725a.5.5 0 000 .8L5 13.5l4.5-3.375zm.3 1.35a.5.5 0 00-.6 0l-3.667 2.75a.5.5 0 000 .8l3.667 2.75a.5.5 0 00.6 0l3.667-2.75a.5.5 0 000-.8L9.8 11.475z"}})]))}}},"170b":function(t,e,n){"use strict";var r=n("ebb5"),o=n("50c4"),i=n("23cb"),a=n("b6b7"),s=r.aTypedArray,c=r.exportTypedArrayMethod;c("subarray",(function(t,e){var n=s(this),r=n.length,c=i(t,r),u=a(n);return new u(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,o((void 0===e?r:i(e,r))-c))}))},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,o=n("a640"),i=o("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"182d":function(t,e,n){var r=n("f8cd");t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},"189e":function(t,e,n){"use strict";n("adb1")},"19aa":function(t,e){t.exports=function(t,e,n){if(t instanceof e)return t;throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}},"1be4":function(t,e,n){var r=n("d066");t.exports=r("document","documentElement")},"1c46":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21 8.75a.75.75 0 01-.75.75h-3a2.75 2.75 0 01-2.75-2.75v-3a.75.75 0 011.5 0v3c0 .69.56 1.25 1.25 1.25h3a.75.75 0 01.75.75zM6.75 8C7.442 8 8 7.44 8 6.75v-3a.75.75 0 111.5 0v3A2.75 2.75 0 016.75 9.5h-3a.75.75 0 110-1.5h3zM21 15.282a.75.75 0 00-.75-.75h-3a2.75 2.75 0 00-2.75 2.75v3a.75.75 0 001.5 0v-3c0-.69.56-1.25 1.25-1.25h3a.75.75 0 00.75-.75zM6.75 16.031c.691 0 1.25.56 1.25 1.25v3a.75.75 0 001.5 0v-3a2.75 2.75 0 00-2.75-2.75h-3a.75.75 0 100 1.5h3z"}})]))}}},"1c7e":function(t,e,n){var r=n("b622"),o=r("iterator"),i=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){i=!0}};s[o]=function(){return this},Array.from(s,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(c){}return n}},"1cdc":function(t,e,n){var r=n("342f");t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},"1d3f":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{d:"M16.46 9.992l3.79 1.994-8.251 4.771-8.249-4.771 3.656-1.994m9.133 4.399l3.711 2.073-8.251 4.772-8.249-4.772 3.805-2.073m4.444-2.118L3.75 7.504l8.249-4.77 8.251 4.77-8.251 4.769z","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}})]))}}},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1dde":function(t,e,n){var r=n("d039"),o=n("b622"),i=n("2d00"),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1eb5":function(t,e,n){"use strict";n("b6ca")},"1f6c":function(t,e,n){var r,o,i,a;function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}n("e260"),n("d3b7"),n("84c3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("fb2c"),n("20bf"),n("5cc6"),n("8b09"),n("fb6a"),n("c19f"),n("143c"),n("25f0"),n("ac1f"),n("1276"),n("498a"),n("a4d3"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0"),
/*! cornerstone-wado-image-loader - v0.13.3 - 2016-06-02 | (c) 2014 Chris Hafey | https://github.com/chafey/cornerstoneWADOImageLoader */
"undefined"===typeof cornerstone&&(cornerstone={}),"undefined"===typeof cornerstoneWADOImageLoader&&(cornerstoneWADOImageLoader={internal:{options:{beforeSend:function(t){},imageCreated:function(t){}}}}),function(t,e,n){"use strict";function r(t){t.decache=function(){var e=n.parseImageId(t.imageId);n.dataSetCacheManager.unload(e.url)}}function o(e,o,i,a){var s=t.Deferred();return e.then((function(t){var e=n.createImageObject(t,o,i,a);e.then((function(t){r(t),s.resolve(t)}),(function(t){s.reject(t)}))}),(function(t){s.reject(t)})),s}function i(t){return"dicomweb"===t||"wadouri"===t?n.internal.xhrRequest:"dicomfile"===t?n.internal.loadFileRequest:void 0}function a(e){var a=n.parseImageId(e),s=i(a.scheme);if(n.dataSetCacheManager.isLoaded(a.url))return o(n.dataSetCacheManager.load(a.url,s),e,a.frame,a.url);if(void 0!==a.frame)return o(n.dataSetCacheManager.load(a.url,s),e,a.frame,a.url);var c=t.Deferred(),u=s(a.url,e);return u.then((function(t){var o=n.createImageObject(t,e,a.frame);o.then((function(t){r(t),c.resolve(t)}),(function(t){c.reject(t)}))}),(function(t){c.reject(t)})),c}n.internal.loadImage=a}($,cornerstone,cornerstoneWADOImageLoader),function(t){"use strict";function e(e,n,r){var o=e.uint16("x00280006");0===o?t.convertRGBColorByPixel(n,r):t.convertRGBColorByPlane(n,r)}function n(e,n,r){var o=e.uint16("x00280006");0===o?t.convertYBRFullByPixel(n,r):t.convertYBRFullByPlane(n,r)}function r(r,o,i){var a=o.uint16("x00280010"),s=o.uint16("x00280011"),c=o.string("x00280004");r.height=a,r.width=s;var u=r.getContext("2d"),l=u.createImageData(s,a),f=$.Deferred();try{if("RGB"===c)e(o,i,l.data);else if("YBR_RCT"===c)e(o,i,l.data);else if("YBR_ICT"===c)e(o,i,l.data);else if("PALETTE COLOR"===c)t.convertPALETTECOLOR(i,l.data,o);else if("YBR_FULL_422"===c)n(o,i,l.data);else{if("YBR_FULL"!==c)throw"no color space conversion for photometric interpretation "+c;n(o,i,l.data)}return f.resolve(l),f.promise()}catch(p){return f.reject(p),f.promise()}}t.convertColorSpace=r}(cornerstoneWADOImageLoader),function(t){"use strict";function e(t,e,n){var r=n.int16("x00281101",0);r||(r=65536);for(var o=n.int16("x00281101",1),i=n.int16("x00281101",2),a=8===i?0:8,s=n.byteArray.buffer,c=new Uint16Array(s,n.elements.x00281201.dataOffset,r),u=new Uint16Array(s,n.elements.x00281202.dataOffset,r),l=new Uint16Array(s,n.elements.x00281203.dataOffset,r),f=n.uint16("x00280010")*n.uint16("x00280011"),p=0,d=0,h=0;h<f;++h){var y=t[p++];y<o?y=0:y>o+r-1?y=r-1:y-=o,e[d++]=c[y]>>a,e[d++]=u[y]>>a,e[d++]=l[y]>>a,e[d++]=255}}t.convertPALETTECOLOR=e}(cornerstoneWADOImageLoader),function(t){"use strict";function e(t,e){if(void 0===t)throw"decodeRGB: rgbBuffer must not be undefined";if(t.length%3!==0)throw"decodeRGB: rgbBuffer length must be divisible by 3";for(var n=t.length/3,r=0,o=0,i=0;i<n;i++)e[o++]=t[r++],e[o++]=t[r++],e[o++]=t[r++],e[o++]=255}t.convertRGBColorByPixel=e}(cornerstoneWADOImageLoader),function(t){"use strict";function e(t,e){if(void 0===t)throw"decodeRGB: rgbBuffer must not be undefined";if(t.length%3!==0)throw"decodeRGB: rgbBuffer length must be divisible by 3";for(var n=t.length/3,r=0,o=0,i=n,a=2*n,s=0;s<n;s++)e[r++]=t[o++],e[r++]=t[i++],e[r++]=t[a++],e[r++]=255}t.convertRGBColorByPlane=e}(cornerstoneWADOImageLoader),function(t){"use strict";function e(t,e){if(void 0===t)throw"decodeRGB: ybrBuffer must not be undefined";if(t.length%3!==0)throw"decodeRGB: ybrBuffer length must be divisble by 3";for(var n=t.length/3,r=0,o=0,i=0;i<n;i++){var a=t[r++],s=t[r++],c=t[r++];e[o++]=a+1.402*(c-128),e[o++]=a-.34414*(s-128)-.71414*(c-128),e[o++]=a+1.772*(s-128),e[o++]=255}}t.convertYBRFullByPixel=e}(cornerstoneWADOImageLoader),function(t){"use strict";function e(t,e){if(void 0===t)throw"decodeRGB: ybrBuffer must not be undefined";if(t.length%3!==0)throw"decodeRGB: ybrBuffer length must be divisble by 3";for(var n=t.length/3,r=0,o=0,i=n,a=2*n,s=0;s<n;s++){var c=t[o++],u=t[i++],l=t[a++];e[r++]=c+1.402*(l-128),e[r++]=c-.34414*(u-128)-.71414*(l-128),e[r++]=c+1.772*(u-128),e[r++]=255}}t.convertYBRFullByPlane=e}(cornerstoneWADOImageLoader),function(t){"use strict";function e(e){t.internal.options=e}t.configure=e}(cornerstoneWADOImageLoader),function(t){"use strict";function e(e,n,r,o){void 0===r&&(r=0);var i=e.string("x00280004"),a=t.isColorImage(i);return!1===a?t.makeGrayscaleImage(n,e,r,o):t.makeColorImage(n,e,r,o)}t.createImageObject=e}(cornerstoneWADOImageLoader),function(t){"use strict";var e={},n={};function r(t){return void 0!==e[t]}function o(t,r){if(e[t]){var o=$.Deferred();return e[t].cacheCount++,o.resolve(e[t].dataSet),o}if(n[t])return n[t];var i=r(t);return n[t]=i,i.then((function(r){e[t]={dataSet:r,cacheCount:1},delete n[t]}),(function(){})).always((function(){delete n[t]})),i}function i(t){e[t]&&(e[t].cacheCount--,0===e[t].cacheCount&&delete e[t])}function a(){e={},n={}}t.dataSetCacheManager={isLoaded:r,load:o,unload:i,purge:a}}(cornerstoneWADOImageLoader),function(t,e,n){"use strict";function r(t,e){var r=t.uint16("x00280010"),o=t.uint16("x00280011"),i=n.getEncodedImageFrame(t,e),a=new JpxImage;a.parse(i);var s=a.width,c=a.height;if(s!==o)throw"JPEG2000 decoder returned width of "+s+", when "+o+" is expected";if(c!==r)throw"JPEG2000 decoder returned width of "+c+", when "+r+" is expected";var u=a.tiles.length;if(1!==u)throw"JPEG2000 decoder returned a tileCount of "+u+", when 1 is expected";var l=a.tiles[0],f=l.items;return f}var o;function i(t,e,n){var r=o._malloc(t.length);o.writeArrayToMemory(t,r);var i=o._malloc(4),a=o._malloc(4),s=o._malloc(4),c=o._malloc(4),u=o._malloc(4),l=Date.now(),f=o.ccall("jp2_decode","number",["number","number","number","number","number","number","number"],[r,t.length,i,a,s,c,u]);if(0!==f)return console.log("[opj_decode] decoding failed!"),o._free(r),o._free(o.getValue(i,"*")),o._free(s),o._free(c),o._free(a),void o._free(u);var p=o.getValue(i,"*"),d={length:o.getValue(a,"i32"),sx:o.getValue(s,"i32"),sy:o.getValue(c,"i32"),nbChannels:o.getValue(u,"i32"),perf_timetodecode:void 0,pixelData:void 0},h=d.sx*d.sy*d.nbChannels,y=new Uint32Array(o.HEAP32.buffer,p,h);if(1===e)if(Uint8Array.from)d.pixelData=Uint8Array.from(y);else{d.pixelData=new Uint8Array(h);for(var v=0;v<h;v++)d.pixelData[v]=y[v]}else if(n)if(Int16Array.from)d.pixelData=Int16Array.from(y);else{d.pixelData=new Int16Array(h);for(v=0;v<h;v++)d.pixelData[v]=y[v]}else if(Uint16Array.from)d.pixelData=Uint16Array.from(y);else{d.pixelData=new Uint16Array(h);for(v=0;v<h;v++)d.pixelData[v]=y[v]}var m=Date.now();return d.perf_timetodecode=m-l,o._free(r),o._free(i),o._free(p),o._free(a),o._free(s),o._free(c),o._free(u),d}function a(t,e){var r=t.uint16("x00280010"),o=t.uint16("x00280011"),a=n.getEncodedImageFrame(t,e),s=t.uint16("x00280100")<=8?1:2,c=!!t.uint16("x00280103"),u=i(a,s,c),l=u.sx,f=u.sy;if(l!==o)throw"JPEG2000 decoder returned width of "+l+", when "+o+" is expected";if(f!==r)throw"JPEG2000 decoder returned width of "+f+", when "+r+" is expected";return u.pixelData}function s(t,e){if("undefined"!==typeof OpenJPEG&&!o&&(o=OpenJPEG(),!o||!o._jp2_decode))throw"OpenJPEG failed to initialize";if(o&&o._jp2_decode)return a(t,e);if("undefined"!==typeof JpxImage)return r(t,e);throw"No JPEG2000 decoder loaded"}n.decodeJPEG2000=s}($,cornerstone,cornerstoneWADOImageLoader),function(t,e,n){"use strict";function r(t,e){var r=t.uint16("x00280010"),o=t.uint16("x00280011"),i=t.uint16("x00280100"),a=n.getEncodedImageFrame(t,e),s=new u;return s.parse(a),8===i?s.getData(o,r):16===i?s.getData16(o,r):void 0}n.decodeJPEGBaseline=r}($,cornerstone,cornerstoneWADOImageLoader),function(t){"use strict";function e(t){return n(String.fromCharCode.apply(null,Array.prototype.slice.apply(new Uint8Array(t))))}function n(t){var e;try{return decodeURIComponent(escape(t))}catch(n){if(e=n,e instanceof URIError)return t;throw e}}function r(n,r,o){var i=$.Deferred(),a=r.uint16("x00280010"),s=r.uint16("x00280011");n.height=a,n.width=s;var c=t.getEncodedImageFrame(r,o),u=new Blob([c],{type:"image/jpeg"}),l=new FileReader;return void 0===l.readAsBinaryString?l.readAsArrayBuffer(u):l.readAsBinaryString(u),l.onload=function(){var t=new Image;t.onload=function(){var t=n.getContext("2d");t.drawImage(this,0,0);var e=t.getImageData(0,0,s,a);i.resolve(e)},t.onerror=function(t){i.reject(t)},void 0===l.readAsBinaryString?t.src="data:image/jpeg;base64,"+window.btoa(e(l.result)):t.src="data:image/jpeg;base64,"+window.btoa(l.result)},i.promise()}function o(t){var e=t.string("x00020010"),n=t.uint16("x00280100");if(8===n&&"1.2.840.10008.1.2.4.50"===e)return!0}t.decodeJPEGBaseline8Bit=r,t.isJPEGBaseline8Bit=o}(cornerstoneWADOImageLoader),function(t){var e;function n(t){var n=e._malloc(t.length);e.writeArrayToMemory(t,n);var r=e._malloc(4),o=e._malloc(4),i=e._malloc(4),a=e._malloc(4),s=e._malloc(4),c=e._malloc(4),u=e._malloc(4),l=e._malloc(4),f=e._malloc(4),p=e.ccall("jpegls_decode","number",["number","number","number","number","number","number","number","number","number","number","number"],[n,t.length,r,o,i,a,s,c,l,u,f]),d={result:p,width:e.getValue(i,"i32"),height:e.getValue(a,"i32"),bitsPerSample:e.getValue(s,"i32"),stride:e.getValue(c,"i32"),components:e.getValue(l,"i32"),allowedLossyError:e.getValue(u,"i32"),interleaveMode:e.getValue(f,"i32"),pixelData:void 0},h=e.getValue(r,"*");if(d.bitsPerSample<=8){d.pixelData=new Uint8Array(d.width*d.height*d.components);var y=new Uint8Array(e.HEAP8.buffer,h,d.pixelData.length);d.pixelData.set(y)}else{d.pixelData=new Int16Array(d.width*d.height*d.components);var v=new Int16Array(e.HEAP16.buffer,h,d.pixelData.length);d.pixelData.set(v)}return e._free(n),e._free(h),e._free(r),e._free(o),e._free(i),e._free(a),e._free(s),e._free(c),e._free(l),e._free(f),d}function r(r,o){if(CharLS&&!e&&(e=CharLS()),!e||!e._jpegls_decode)throw"No JPEG-LS decoder loaded";var i=r.uint16("x00280010"),a=r.uint16("x00280011"),s=t.getEncodedImageFrame(r,o),c=n(s);if(0!==c.result&&6!==c.result)throw"JPEG-LS decoder failed to decode frame (error code "+c.result+")";if(c.width!==a)throw"JPEG-LS decoder returned width of "+c.width+", when "+a+" is expected";if(c.height!==i)throw"JPEG-LS decoder returned width of "+c.height+", when "+i+" is expected";return c.pixelData}t.decodeJPEGLS=r}(cornerstoneWADOImageLoader),function(t){function e(e,n){var r=e.uint16("x00280100"),o=e.uint16("x00280103"),i=t.getEncodedImageFrame(e,n),a=r<=8?1:2,s=new jpeg.lossless.Decoder,c=s.decode(i.buffer,i.byteOffset,i.length,a);return 0===o?2===a?new Uint16Array(c.buffer):new Uint8Array(c.buffer):new Int16Array(c.buffer)}t.decodeJPEGLossless=e}(cornerstoneWADOImageLoader),function(t){function e(e,o){var i,a=e.uint16("x00280010"),s=e.uint16("x00280011"),c=e.uint16("x00280002"),u=e.elements.x7fe00010,l=dicomParser.readEncapsulatedPixelDataFromFragments(e,u,o),f=t.getPixelFormat(e),p=s*a;return 1===f?(i=new ArrayBuffer(p*c),n(l,i,p,c),new Uint8Array(i)):2===f?(i=new ArrayBuffer(p*c*2),r(l,i,p),new Uint16Array(i)):3===f?(i=new ArrayBuffer(p*c*2),r(l,i,p),new Int16Array(i)):void 0}function n(t,e,n,r){for(var o=new DataView(t.buffer,t.byteOffset),i=new DataView(t.buffer,t.byteOffset),a=new DataView(e),s=0,c=o.getInt32(0,!0),u=0;u<c;++u){s=u;var l=o.getInt32(4*(u+1),!0),f=o.getInt32(4*(u+2),!0);0===f&&(f=t.length);var p=n*c;while(l<f){var d=i.getInt8(l++);if(d>=0&&d<=127)for(var h=0;h<d+1&&s<p;++h)a.setInt8(s,i.getInt8(l++)),s+=r;else if(d<=-1&&d>=-127)for(var y=i.getInt8(l++),v=0;v<1-d&&s<p;++v)a.setInt8(s,y),s+=r}}}function r(t,e,n){for(var r=new DataView(t.buffer,t.byteOffset),o=new DataView(t.buffer,t.byteOffset),i=new DataView(e),a=r.getInt32(0,!0),s=0;s<a;++s){var c=0,u=0===s?1:0,l=r.getInt32(4*(s+1),!0),f=r.getInt32(4*(s+2),!0);0===f&&(f=t.length);while(l<f){var p=o.getInt8(l++);if(p>=0&&p<=127)for(var d=0;d<p+1&&c<n;++d)i.setInt8(2*c+u,o.getInt8(l++)),c++;else if(p<=-1&&p>=-127)for(var h=o.getInt8(l++),y=0;y<1-p&&c<n;++y)i.setInt8(2*c+u,h),c++}}}t.decodeRLE=e}(cornerstoneWADOImageLoader),function(t){"use strict";function e(e,n){var r=e.string("x00020010");if("1.2.840.10008.1.2"===r)return t.extractUncompressedPixels(e,n);if("1.2.840.10008.1.2.1"===r)return t.extractUncompressedPixels(e,n);if("1.2.840.10008.1.2.2"===r)return t.extractUncompressedPixels(e,n,!0);if("1.2.840.10008.1.2.5"===r)return t.decodeRLE(e,n);if("1.2.840.10008.1.2.4.50"===r)return t.decodeJPEGBaseline(e,n);if("1.2.840.10008.1.2.4.51"===r)return t.decodeJPEGBaseline(e,n);if("1.2.840.10008.1.2.4.57"===r)return t.decodeJPEGLossless(e,n);if("1.2.840.10008.1.2.4.70"===r)return t.decodeJPEGLossless(e,n);if("1.2.840.10008.1.2.4.80"===r)return t.decodeJPEGLS(e,n);if("1.2.840.10008.1.2.4.81"===r)return t.decodeJPEGLS(e,n);if("1.2.840.10008.1.2.4.90"===r)return t.decodeJPEG2000(e,n);if("1.2.840.10008.1.2.4.91"===r)return t.decodeJPEG2000(e,n);throw console&&console.log&&console.log("Image cannot be decoded due to Unsupported transfer syntax "+r),"no decoder for transfer syntax "+r}t.decodeTransferSyntax=e}(cornerstoneWADOImageLoader);var c={Unkown:0,Grayscale:1,AdobeRGB:2,RGB:3,CYMK:4},u=function(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,n=799,r=3406,o=2276,i=1567,a=3784,u=5793,l=2896;function f(){}function p(t,e){var n,r,o=0,i=[],a=16;while(a>0&&!t[a-1])a--;i.push({children:[],index:0});var s,c=i[0];for(n=0;n<a;n++){for(r=0;r<t[n];r++){c=i.pop(),c.children[c.index]=e[o];while(c.index>0)c=i.pop();c.index++,i.push(c);while(i.length<=n)i.push(s={children:[],index:0}),c.children[c.index]=s.children,c=s;o++}n+1<a&&(i.push(s={children:[],index:0}),c.children[c.index]=s.children,c=s)}return i[0].children}function d(t,e,n){return 64*((t.blocksPerLine+1)*e+n)}function h(e,n,r,o,i,a,c,u,l){r.precision,r.samplesPerLine,r.scanLines;var f=r.mcusPerLine,p=r.progressive,h=(r.maxH,r.maxV,n),y=0,v=0;function m(){if(v>0)return v--,y>>v&1;if(y=e[n++],255==y){var t=e[n++];if(t)throw"unexpected marker: "+(y<<8|t).toString(16)}return v=7,y>>>7}function g(t){var e,n=t;while(null!==(e=m())){if(n=n[e],"number"===typeof n)return n;if("object"!==s(n))throw"invalid huffman sequence"}return null}function b(t){var e=0;while(t>0){var n=m();if(null===n)return;e=e<<1|n,t--}return e}function w(t){var e=b(t);return e>=1<<t-1?e:e+(-1<<t)+1}function _(e,n){var r=g(e.huffmanTableDC),o=0===r?0:w(r);e.blockData[n]=e.pred+=o;var i=1;while(i<64){var a=g(e.huffmanTableAC),s=15&a,c=a>>4;if(0!==s){i+=c;var u=t[i];e.blockData[n+u]=w(s),i++}else{if(c<15)break;i+=16}}}function S(t,e){var n=g(t.huffmanTableDC),r=0===n?0:w(n)<<l;t.blockData[e]=t.pred+=r}function O(t,e){t.blockData[e]|=m()<<l}var I=0;function E(e,n){if(I>0)I--;else{var r=a,o=c;while(r<=o){var i=g(e.huffmanTableAC),s=15&i,u=i>>4;if(0!==s){r+=u;var f=t[r];e.blockData[n+f]=w(s)*(1<<l),r++}else{if(u<15){I=b(u)+(1<<u)-1;break}r+=16}}}}var C,x=0;function A(e,n){var r=a,o=c,i=0;while(r<=o){var s=t[r];switch(x){case 0:var u=g(e.huffmanTableAC),f=15&u;if(i=u>>4,0===f)i<15?(I=b(i)+(1<<i),x=4):(i=16,x=1);else{if(1!==f)throw"invalid ACn encoding";C=w(f),x=i?2:3}continue;case 1:case 2:e.blockData[n+s]?e.blockData[n+s]+=m()<<l:(i--,0===i&&(x=2==x?3:0));break;case 3:e.blockData[n+s]?e.blockData[n+s]+=m()<<l:(e.blockData[n+s]=C<<l,x=0);break;case 4:e.blockData[n+s]&&(e.blockData[n+s]+=m()<<l);break}r++}4===x&&(I--,0===I&&(x=0))}function P(t,e,n,r,o){var i=n/f|0,a=n%f,s=i*t.v+r,c=a*t.h+o,u=d(t,s,c);e(t,u)}function T(t,e,n){var r=n/t.blocksPerLine|0,o=n%t.blocksPerLine,i=d(t,r,o);e(t,i)}var j,D,k,L,R,M,B=o.length;M=p?0===a?0===u?S:O:0===u?E:A:_;var N,F,U,z,V=0;F=1==B?o[0].blocksPerLine*o[0].blocksPerColumn:f*r.mcusPerColumn,i||(i=F);while(V<F){for(D=0;D<B;D++)o[D].pred=0;if(I=0,1==B)for(j=o[0],R=0;R<i;R++)T(j,M,V),V++;else for(R=0;R<i;R++){for(D=0;D<B;D++)for(j=o[D],U=j.h,z=j.v,k=0;k<z;k++)for(L=0;L<U;L++)P(j,M,V,k,L);V++}if(v=0,N=e[n]<<8|e[n+1],N<=65280)throw"marker was not found";if(!(N>=65488&&N<=65495))break;n+=2}return n-h}function y(t,s,c){var f,p,d,h,y,v,m,g,b,w,_=t.quantizationTable;for(w=0;w<64;w++)c[w]=t.blockData[s+w]*_[w];for(w=0;w<8;++w){var S=8*w;0!==c[1+S]||0!==c[2+S]||0!==c[3+S]||0!==c[4+S]||0!==c[5+S]||0!==c[6+S]||0!==c[7+S]?(f=u*c[0+S]+128>>8,p=u*c[4+S]+128>>8,d=c[2+S],h=c[6+S],y=l*(c[1+S]-c[7+S])+128>>8,g=l*(c[1+S]+c[7+S])+128>>8,v=c[3+S]<<4,m=c[5+S]<<4,b=f-p+1>>1,f=f+p+1>>1,p=b,b=d*a+h*i+128>>8,d=d*i-h*a+128>>8,h=b,b=y-m+1>>1,y=y+m+1>>1,m=b,b=g+v+1>>1,v=g-v+1>>1,g=b,b=f-h+1>>1,f=f+h+1>>1,h=b,b=p-d+1>>1,p=p+d+1>>1,d=b,b=y*o+g*r+2048>>12,y=y*r-g*o+2048>>12,g=b,b=v*n+m*e+2048>>12,v=v*e-m*n+2048>>12,m=b,c[0+S]=f+g,c[7+S]=f-g,c[1+S]=p+m,c[6+S]=p-m,c[2+S]=d+v,c[5+S]=d-v,c[3+S]=h+y,c[4+S]=h-y):(b=u*c[0+S]+512>>10,c[0+S]=b,c[1+S]=b,c[2+S]=b,c[3+S]=b,c[4+S]=b,c[5+S]=b,c[6+S]=b,c[7+S]=b)}for(w=0;w<8;++w){var O=w;0!==c[8+O]||0!==c[16+O]||0!==c[24+O]||0!==c[32+O]||0!==c[40+O]||0!==c[48+O]||0!==c[56+O]?(f=u*c[0+O]+2048>>12,p=u*c[32+O]+2048>>12,d=c[16+O],h=c[48+O],y=l*(c[8+O]-c[56+O])+2048>>12,g=l*(c[8+O]+c[56+O])+2048>>12,v=c[24+O],m=c[40+O],b=f-p+1>>1,f=f+p+1>>1,p=b,b=d*a+h*i+2048>>12,d=d*i-h*a+2048>>12,h=b,b=y-m+1>>1,y=y+m+1>>1,m=b,b=g+v+1>>1,v=g-v+1>>1,g=b,b=f-h+1>>1,f=f+h+1>>1,h=b,b=p-d+1>>1,p=p+d+1>>1,d=b,b=y*o+g*r+2048>>12,y=y*r-g*o+2048>>12,g=b,b=v*n+m*e+2048>>12,v=v*e-m*n+2048>>12,m=b,c[0+O]=f+g,c[56+O]=f-g,c[8+O]=p+m,c[48+O]=p-m,c[16+O]=d+v,c[40+O]=d-v,c[24+O]=h+y,c[32+O]=h-y):(b=u*c[w+0]+8192>>14,c[0+O]=b,c[8+O]=b,c[16+O]=b,c[24+O]=b,c[32+O]=b,c[40+O]=b,c[48+O]=b,c[56+O]=b)}for(w=0;w<64;++w){var I=s+w,E=c[w];E=E<=-2056/t.bitConversion?0:E>=2024/t.bitConversion?255/t.bitConversion:E+2056/t.bitConversion>>4,t.blockData[I]=E}}function v(t,e){for(var n=e.blocksPerLine,r=e.blocksPerColumn,o=new Int32Array(64),i=0;i<r;i++)for(var a=0;a<n;a++){var s=d(e,i,a);y(e,s,o)}return e.blockData}function m(t){return t<=0?0:t>=255?255:0|t}return f.prototype={load:function(t){var e=function(t){this.parse(t),this.onload&&this.onload()}.bind(this);if(t.indexOf("data:")>-1){for(var n=t.indexOf("base64,")+7,r=atob(t.substring(n)),o=new Uint8Array(r.length),i=r.length-1;i>=0;i--)o[i]=r.charCodeAt(i);e(r)}else{var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType="arraybuffer",a.onload=function(){var t=new Uint8Array(a.response);e(t)}.bind(this),a.send(null)}},parse:function(e){function n(){var t=e[s]<<8|e[s+1];return s+=2,t}function r(){var t=n(),r=e.subarray(s,s+t-2);return s+=r.length,r}function o(t){for(var e=Math.ceil(t.samplesPerLine/8/t.maxH),n=Math.ceil(t.scanLines/8/t.maxV),r=0;r<t.components.length;r++){X=t.components[r];var o=Math.ceil(Math.ceil(t.samplesPerLine/8)*X.h/t.maxH),i=Math.ceil(Math.ceil(t.scanLines/8)*X.v/t.maxV),a=e*X.h,s=n*X.v,c=64*s*(a+1);X.blockData=new Int16Array(c),X.blocksPerLine=o,X.blocksPerColumn=i}t.mcusPerLine=e,t.mcusPerColumn=n}var i,a,s=0,u=(e.length,null),l=null,f=[],d=[],y=[],m=n();if(65496!=m)throw"SOI not found";m=n();while(65497!=m){var g,b;switch(m){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var w=r();65504===m&&74===w[0]&&70===w[1]&&73===w[2]&&70===w[3]&&0===w[4]&&(u={version:{major:w[5],minor:w[6]},densityUnits:w[7],xDensity:w[8]<<8|w[9],yDensity:w[10]<<8|w[11],thumbWidth:w[12],thumbHeight:w[13],thumbData:w.subarray(14,14+3*w[12]*w[13])}),65518===m&&65===w[0]&&100===w[1]&&111===w[2]&&98===w[3]&&101===w[4]&&0===w[5]&&(l={version:w[6],flags0:w[7]<<8|w[8],flags1:w[9]<<8|w[10],transformCode:w[11]});break;case 65499:var _=n(),S=_+s-2;while(s<S){var O=e[s++],I=new Int32Array(64);if(O>>4===0)for(g=0;g<64;g++){var E=t[g];I[E]=e[s++]}else{if(O>>4!==1)throw"DQT: invalid table spec";for(g=0;g<64;g++){var C=t[g];I[C]=n()}}f[15&O]=I}break;case 65472:case 65473:case 65474:if(i)throw"Only single frame JPEGs supported";n(),i={},i.extended=65473===m,i.progressive=65474===m,i.precision=e[s++],i.scanLines=n(),i.samplesPerLine=n(),i.components=[],i.componentIds={};var x,A=e[s++],P=0,T=0;for($=0;$<A;$++){x=e[s];var j=e[s+1]>>4,D=15&e[s+1];P<j&&(P=j),T<D&&(T=D);var k=e[s+2];b=i.components.push({h:j,v:D,quantizationTable:f[k],quantizationTableId:k,bitConversion:255/((1<<i.precision)-1)}),i.componentIds[x]=b-1,s+=3}i.maxH=P,i.maxV=T,o(i);break;case 65476:var L=n();for($=2;$<L;){var R=e[s++],M=new Uint8Array(16),B=0;for(g=0;g<16;g++,s++)B+=M[g]=e[s];var N=new Uint8Array(B);for(g=0;g<B;g++,s++)N[g]=e[s];$+=17+B,(R>>4===0?y:d)[15&R]=p(M,N)}break;case 65501:n(),a=n();break;case 65498:n();var F=e[s++],U=[];for($=0;$<F;$++){var z=i.componentIds[e[s++]];X=i.components[z];var V=e[s++];X.huffmanTableDC=y[V>>4],X.huffmanTableAC=d[15&V],U.push(X)}var W=e[s++],H=e[s++],Y=e[s++],G=h(e,s,i,U,a,W,H,Y>>4,15&Y);s+=G;break;default:if(255==e[s-3]&&e[s-2]>=192&&e[s-2]<=254){s-=3;break}throw"unknown JPEG marker "+m.toString(16)}m=n()}switch(this.width=i.samplesPerLine,this.height=i.scanLines,this.jfif=u,this.adobe=l,this.components=[],i.components.length){case 1:this.colorspace=c.Grayscale;break;case 3:this.adobe?this.colorspace=c.AdobeRGB:this.colorspace=c.RGB;break;case 4:this.colorspace=c.CYMK;break;default:this.colorspace=c.Unknown}for(var $=0;$<i.components.length;$++){var X=i.components[$];X.quantizationTable||null===X.quantizationTableId||(X.quantizationTable=f[X.quantizationTableId]),this.components.push({output:v(i,X),scaleX:X.h/i.maxH,scaleY:X.v/i.maxV,blocksPerLine:X.blocksPerLine,blocksPerColumn:X.blocksPerColumn,bitConversion:X.bitConversion})}},getData16:function(t,e){if(1!==this.components.length)throw"Unsupported color mode";var n,r,o,i,a,s,c=this.width/t,u=this.height/e,l=0,f=this.components.length,p=t*e*f,h=new Uint16Array(p),y=new Uint16Array((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn*8);for(s=0;s<f;s++){n=this.components[s];for(var v,m,g,b,w,_=n.blocksPerLine,S=n.blocksPerColumn,O=_<<3,I=0,E=0;E<S;E++)for(var C=E<<3,x=0;x<_;x++){var A=d(n,E,x),P=(l=0,x<<3);for(v=0;v<8;v++){I=(C+v)*O;for(m=0;m<8;m++)y[I+P+m]=n.output[A+l++]}}for(r=n.scaleX*c,o=n.scaleY*u,l=s,a=0;a<e;a++)for(i=0;i<t;i++)b=0|a*o,g=0|i*r,w=b*O+g,h[l]=y[w],l+=f}return h},getData:function(t,e){var n,r,o,i,a,s,c,u,l,f,p,h,y,v,g,b=this.width/t,w=this.height/e,_=0,S=this.components.length,O=t*e*S,I=new Uint8Array(O),E=new Uint8Array((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn*8);for(s=0;s<S;s++){n=this.components[s];for(var C,x,A,P,T,j=n.blocksPerLine,D=n.blocksPerColumn,k=j<<3,L=0,R=0;R<D;R++)for(var M=R<<3,B=0;B<j;B++){var N=d(n,R,B),F=(_=0,B<<3);for(C=0;C<8;C++){L=(M+C)*k;for(x=0;x<8;x++)E[L+F+x]=n.output[N+_++]*n.bitConversion}}for(r=n.scaleX*b,o=n.scaleY*w,_=s,a=0;a<e;a++)for(i=0;i<t;i++)P=0|a*o,A=0|i*r,T=P*k+A,I[_]=E[T],_+=S}switch(S){case 1:case 2:break;case 3:if(g=!0,this.adobe&&this.adobe.transformCode?g=!0:"undefined"!==typeof this.colorTransform&&(g=!!this.colorTransform),g)for(s=0;s<O;s+=S)c=I[s],u=I[s+1],l=I[s+2],h=m(c-179.456+1.402*l),y=m(c+135.459-.344*u-.714*l),v=m(c-226.816+1.772*u),I[s]=h,I[s+1]=y,I[s+2]=v;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";if(g=!1,this.adobe&&this.adobe.transformCode?g=!0:"undefined"!==typeof this.colorTransform&&(g=!!this.colorTransform),g)for(s=0;s<O;s+=S)c=I[s],u=I[s+1],l=I[s+2],f=m(434.456-c-1.402*l),p=m(119.541-c+.344*u+.714*l),c=m(481.816-c-1.772*u),I[s]=f,I[s+1]=p,I[s+2]=c;break;default:throw"Unsupported color mode"}return I}},f}();(function(n){"object"===s(e)&&"undefined"!==typeof t?t.exports=n():(o=[],r=n,i="function"===typeof r?r.apply(e,o):r,void 0===i||(t.exports=i))})((function(){return function t(e,n,r){function o(s,c){if(!n[s]){if(!e[s]){var u="function"==typeof a&&a;if(!c&&u)return a(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};e[s][0].call(f.exports,(function(t){var n=e[s][1][t];return o(n||t)}),f,f.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof a&&a,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.ComponentSpec=r.lossless.ComponentSpec||function(){this.hSamp=0,this.quantTableSel=0,this.vSamp=0};var o=s(e);"undefined"!==o&&e.exports&&(e.exports=r.lossless.ComponentSpec)},{}],2:[function(t,e,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||function(t,e,n){this.buffer=new DataView(t,e,n),this.index=0},r.lossless.DataStream.prototype.get16=function(){var t=this.buffer.getUint16(this.index,!1);return this.index+=2,t},r.lossless.DataStream.prototype.get8=function(){var t=this.buffer.getUint8(this.index);return this.index+=1,t};var o=s(e);"undefined"!==o&&e.exports&&(e.exports=r.lossless.DataStream)},{}],3:[function(t,e,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||("undefined"!==typeof t?t("./data-stream.js"):null),r.lossless.HuffmanTable=r.lossless.HuffmanTable||("undefined"!==typeof t?t("./huffman-table.js"):null),r.lossless.QuantizationTable=r.lossless.QuantizationTable||("undefined"!==typeof t?t("./quantization-table.js"):null),r.lossless.ScanHeader=r.lossless.ScanHeader||("undefined"!==typeof t?t("./scan-header.js"):null),r.lossless.FrameHeader=r.lossless.FrameHeader||("undefined"!==typeof t?t("./frame-header.js"):null),r.lossless.Utils=r.lossless.Utils||("undefined"!==typeof t?t("./utils.js"):null),r.lossless.Decoder=r.lossless.Decoder||function(t,e){this.buffer=t,this.frame=new r.lossless.FrameHeader,this.huffTable=new r.lossless.HuffmanTable,this.quantTable=new r.lossless.QuantizationTable,this.scan=new r.lossless.ScanHeader,this.DU=r.lossless.Utils.createArray(10,4,64),this.HuffTab=r.lossless.Utils.createArray(4,2,12800),this.IDCT_Source=[],this.nBlock=[],this.acTab=r.lossless.Utils.createArray(10,1),this.dcTab=r.lossless.Utils.createArray(10,1),this.qTab=r.lossless.Utils.createArray(10,1),this.marker=0,this.markerIndex=0,this.numComp=0,this.restartInterval=0,this.selection=0,this.xDim=0,this.yDim=0,this.xLoc=0,this.yLoc=0,this.numBytes=0,this.outputData=null,this.restarting=!1,this.mask=0,"undefined"!==typeof e&&(this.numBytes=e)},r.lossless.Decoder.IDCT_P=[0,5,40,16,45,2,7,42,21,56,8,61,18,47,1,4,41,23,58,13,32,24,37,10,63,17,44,3,6,43,20,57,15,34,29,48,53,26,39,9,60,19,46,22,59,12,33,31,50,55,25,36,11,62,14,35,28,49,52,27,38,30,51,54],r.lossless.Decoder.TABLE=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],r.lossless.Decoder.MAX_HUFFMAN_SUBTREE=50,r.lossless.Decoder.MSB=2147483648,r.lossless.Decoder.RESTART_MARKER_BEGIN=65488,r.lossless.Decoder.RESTART_MARKER_END=65495,r.lossless.Decoder.prototype.decompress=function(t,e,n){return this.decode(t,e,n).buffer},r.lossless.Decoder.prototype.decode=function(t,e,n,o){var i,a,s,c,u=0,l=[],f=[],p=[];if("undefined"!==typeof t&&(this.buffer=t),"undefined"!==typeof o&&(this.numBytes=o),this.stream=new r.lossless.DataStream(this.buffer,e,n),this.buffer=null,this.xLoc=0,this.yLoc=0,i=this.stream.get16(),65496!==i)throw new Error("Not a JPEG file");i=this.stream.get16();while(i>>4!==4092||65476===i){switch(i){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,r.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(i>>8!==255)throw new Error("ERROR: format throw new IOException! (decode)")}i=this.stream.get16()}if(i<65472||i>65479)throw new Error("ERROR: could not handle arithmetic code!");this.frame.read(this.stream),i=this.stream.get16();do{while(65498!==i){switch(i){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,r.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(i>>8!==255)throw new Error("ERROR: format throw new IOException! (Parser.decode)")}i=this.stream.get16()}switch(this.precision=this.frame.precision,this.components=this.frame.components,this.numBytes||(this.numBytes=parseInt(Math.ceil(this.precision/8))),1==this.numBytes?this.mask=255:this.mask=65535,this.scan.read(this.stream),this.numComp=this.scan.numComp,this.selection=this.scan.selection,1===this.numBytes?3===this.numComp?(this.getter=this.getValueRGB,this.setter=this.setValueRGB,this.output=this.outputRGB):(this.getter=this.getValue8,this.setter=this.setValue8,this.output=this.outputSingle):(this.getter=this.getValue16,this.setter=this.setValue16,this.output=this.outputSingle),this.selection){case 2:this.selector=this.select2;break;case 3:this.selector=this.select3;break;case 4:this.selector=this.select4;break;case 5:this.selector=this.select5;break;case 6:this.selector=this.select6;break;case 7:this.selector=this.select7;break;default:this.selector=this.select1;break}for(this.scanComps=this.scan.components,this.quantTables=this.quantTable.quantTables,a=0;a<this.numComp;a+=1)s=this.scanComps[a].scanCompSel,this.qTab[a]=this.quantTables[this.components[s].quantTableSel],this.nBlock[a]=this.components[s].vSamp*this.components[s].hSamp,this.dcTab[a]=this.HuffTab[this.scanComps[a].dcTabSel][0],this.acTab[a]=this.HuffTab[this.scanComps[a].acTabSel][1];this.xDim=this.frame.dimX,this.yDim=this.frame.dimY,this.outputData=new DataView(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)),u+=1;while(1){for(f[0]=0,p[0]=0,a=0;a<10;a+=1)l[a]=1<<this.precision-1;if(0===this.restartInterval){i=this.decodeUnit(l,f,p);while(0===i&&this.xLoc<this.xDim&&this.yLoc<this.yDim)this.output(l),i=this.decodeUnit(l,f,p);break}for(c=0;c<this.restartInterval;c+=1)if(this.restarting=0==c,i=this.decodeUnit(l,f,p),this.output(l),0!==i)break;if(0===i&&(0!==this.markerIndex?(i=65280|this.marker,this.markerIndex=0):i=this.stream.get16()),!(i>=r.lossless.Decoder.RESTART_MARKER_BEGIN&&i<=r.lossless.Decoder.RESTART_MARKER_END))break}65500===i&&1===u&&(this.readNumber(),i=this.stream.get16())}while(65497!==i&&this.xLoc<this.xDim&&this.yLoc<this.yDim&&0===u);return this.outputData},r.lossless.Decoder.prototype.decodeUnit=function(t,e,n){return 1==this.numComp?this.decodeSingle(t,e,n):3==this.numComp?this.decodeRGB(t,e,n):-1},r.lossless.Decoder.prototype.select1=function(t){return this.getPreviousX(t)},r.lossless.Decoder.prototype.select2=function(t){return this.getPreviousY(t)},r.lossless.Decoder.prototype.select3=function(t){return this.getPreviousXY(t)},r.lossless.Decoder.prototype.select4=function(t){return this.getPreviousX(t)+this.getPreviousY(t)-this.getPreviousXY(t)},r.lossless.Decoder.prototype.select5=function(t){return this.getPreviousX(t)+(this.getPreviousY(t)-this.getPreviousXY(t)>>1)},r.lossless.Decoder.prototype.select6=function(t){return this.getPreviousY(t)+(this.getPreviousX(t)-this.getPreviousXY(t)>>1)},r.lossless.Decoder.prototype.select7=function(t){return(this.getPreviousX(t)+this.getPreviousY(t))/2},r.lossless.Decoder.prototype.decodeRGB=function(t,e,n){var o,i,a,s,c,u,l,f;for(t[0]=this.selector(0),t[1]=this.selector(1),t[2]=this.selector(2),c=0;c<this.numComp;c+=1)for(s=this.qTab[c],i=this.acTab[c],a=this.dcTab[c],u=0;u<this.nBlock[c];u+=1){for(l=0;l<this.IDCT_Source.length;l+=1)this.IDCT_Source[l]=0;if(o=this.getHuffmanValue(a,e,n),o>=65280)return o;for(t[c]=this.IDCT_Source[0]=t[c]+this.getn(n,o,e,n),this.IDCT_Source[0]*=s[0],f=1;f<64;f+=1){if(o=this.getHuffmanValue(i,e,n),o>=65280)return o;if(f+=o>>4,0===(15&o)){if(o>>4===0)break}else this.IDCT_Source[r.lossless.Decoder.IDCT_P[f]]=this.getn(n,15&o,e,n)*s[f]}}return 0},r.lossless.Decoder.prototype.decodeSingle=function(t,e,n){var o,i,a,s;for(this.restarting?(this.restarting=!1,t[0]=1<<this.frame.precision-1):t[0]=this.selector(),i=0;i<this.nBlock[0];i+=1){if(o=this.getHuffmanValue(this.dcTab[0],e,n),o>=65280)return o;if(a=this.getn(t,o,e,n),s=a>>8,s>=r.lossless.Decoder.RESTART_MARKER_BEGIN&&s<=r.lossless.Decoder.RESTART_MARKER_END)return s;t[0]+=a}return 0},r.lossless.Decoder.prototype.getHuffmanValue=function(t,e,n){var o,i,a;if(a=65535,n[0]<8?(e[0]<<=8,i=this.stream.get8(),255===i&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),e[0]|=i):n[0]-=8,o=t[e[0]>>n[0]],0!==(o&r.lossless.Decoder.MSB)){if(0!==this.markerIndex)return this.markerIndex=0,65280|this.marker;e[0]&=a>>16-n[0],e[0]<<=8,i=this.stream.get8(),255===i&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),e[0]|=i,o=t[256*(255&o)+(e[0]>>n[0])],n[0]+=8}if(n[0]+=8-(o>>8),n[0]<0)throw new Error("index="+n[0]+" temp="+e[0]+" code="+o+" in HuffmanValue()");return n[0]<this.markerIndex?(this.markerIndex=0,65280|this.marker):(e[0]&=a>>16-n[0],255&o)},r.lossless.Decoder.prototype.getn=function(t,e,n,r){var o,i,a,s,c;if(i=1,a=-1,s=65535,0===e)return 0;if(16===e)return t[0]>=0?-32768:32768;if(r[0]-=e,r[0]>=0){if(r[0]<this.markerIndex&&!this.isLastPixel())return this.markerIndex=0,(65280|this.marker)<<8;o=n[0]>>r[0],n[0]&=s>>16-r[0]}else{if(n[0]<<=8,c=this.stream.get8(),255===c&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),n[0]|=c,r[0]+=8,r[0]<0){if(0!==this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;n[0]<<=8,c=this.stream.get8(),255===c&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),n[0]|=c,r[0]+=8}if(r[0]<0)throw new Error("index="+r[0]+" in getn()");if(r[0]<this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;o=n[0]>>r[0],n[0]&=s>>16-r[0]}return o<i<<e-1&&(o+=1+(a<<e)),o},r.lossless.Decoder.prototype.getPreviousX=function(t){return this.xLoc>0?this.getter(this.yLoc*this.xDim+this.xLoc-1,t):this.yLoc>0?this.getPreviousY(t):1<<this.frame.precision-1},r.lossless.Decoder.prototype.getPreviousXY=function(t){return this.xLoc>0&&this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc-1,t):this.getPreviousY(t)},r.lossless.Decoder.prototype.getPreviousY=function(t){return this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc,t):this.getPreviousX(t)},r.lossless.Decoder.prototype.isLastPixel=function(){return this.xLoc===this.xDim-1&&this.yLoc===this.yDim-1},r.lossless.Decoder.prototype.outputSingle=function(t){this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(this.yLoc*this.xDim+this.xLoc,this.mask&t[0]),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},r.lossless.Decoder.prototype.outputRGB=function(t){var e=this.yLoc*this.xDim+this.xLoc;this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(e,t[0],0),this.setter(e,t[1],1),this.setter(e,t[2],2),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},r.lossless.Decoder.prototype.setValue16=function(t,e){this.outputData.setInt16(2*t,e,!0)},r.lossless.Decoder.prototype.getValue16=function(t){return this.outputData.getInt16(2*t,!0)&this.mask},r.lossless.Decoder.prototype.setValue8=function(t,e){this.outputData.setInt8(t,e)},r.lossless.Decoder.prototype.getValue8=function(t){return this.outputData.getInt8(t)&this.mask},r.lossless.Decoder.prototype.setValueRGB=function(t,e,n){this.outputData.setUint8(3*t+n,e)},r.lossless.Decoder.prototype.getValueRGB=function(t,e){return this.outputData.getUint8(3*t+e)},r.lossless.Decoder.prototype.readApp=function(){var t=0,e=this.stream.get16();t+=2;while(t<e)this.stream.get8(),t+=1;return e},r.lossless.Decoder.prototype.readComment=function(){var t,e="",n=0;t=this.stream.get16(),n+=2;while(n<t)e+=this.stream.get8(),n+=1;return e},r.lossless.Decoder.prototype.readNumber=function(){var t=this.stream.get16();if(4!==t)throw new Error("ERROR: Define number format throw new IOException [Ld!=4]");return this.stream.get16()};var o=s(e);"undefined"!==o&&e.exports&&(e.exports=r.lossless.Decoder),"undefined"===typeof window.jpeg&&(window.jpeg=r)},{"./data-stream.js":2,"./frame-header.js":4,"./huffman-table.js":5,"./quantization-table.js":7,"./scan-header.js":9,"./utils.js":10}],4:[function(t,e,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.ComponentSpec=r.lossless.ComponentSpec||("undefined"!==typeof t?t("./component-spec.js"):null),r.lossless.DataStream=r.lossless.DataStream||("undefined"!==typeof t?t("./data-stream.js"):null),r.lossless.FrameHeader=r.lossless.FrameHeader||function(){this.components=[],this.dimX=0,this.dimY=0,this.numComp=0,this.precision=0},r.lossless.FrameHeader.prototype.read=function(t){var e,n,o,i,a=0;for(e=t.get16(),a+=2,this.precision=t.get8(),a+=1,this.dimY=t.get16(),a+=2,this.dimX=t.get16(),a+=2,this.numComp=t.get8(),a+=1,n=1;n<=this.numComp;n+=1){if(a>e)throw new Error("ERROR: frame format error");if(o=t.get8(),a+=1,a>=e)throw new Error("ERROR: frame format error [c>=Lf]");i=t.get8(),a+=1,this.components[o]||(this.components[o]=new r.lossless.ComponentSpec),this.components[o].hSamp=i>>4,this.components[o].vSamp=15&i,this.components[o].quantTableSel=t.get8(),a+=1}if(a!==e)throw new Error("ERROR: frame format error [Lf!=count]");return 1};var o=s(e);"undefined"!==o&&e.exports&&(e.exports=r.lossless.FrameHeader)},{"./component-spec.js":1,"./data-stream.js":2}],5:[function(t,e,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||("undefined"!==typeof t?t("./data-stream.js"):null),r.lossless.Utils=r.lossless.Utils||("undefined"!==typeof t?t("./utils.js"):null),r.lossless.HuffmanTable=r.lossless.HuffmanTable||function(){this.l=r.lossless.Utils.createArray(4,2,16),this.th=[],this.v=r.lossless.Utils.createArray(4,2,16,200),this.tc=r.lossless.Utils.createArray(4,2),this.tc[0][0]=0,this.tc[1][0]=0,this.tc[2][0]=0,this.tc[3][0]=0,this.tc[0][1]=0,this.tc[1][1]=0,this.tc[2][1]=0,this.tc[3][1]=0,this.th[0]=0,this.th[1]=0,this.th[2]=0,this.th[3]=0},r.lossless.HuffmanTable.MSB=2147483648,r.lossless.HuffmanTable.prototype.read=function(t,e){var n,r,o,i,a,s,c=0;n=t.get16(),c+=2;while(c<n){if(r=t.get8(),c+=1,o=15&r,o>3)throw new Error("ERROR: Huffman table ID > 3");if(i=r>>4,i>2)throw new Error("ERROR: Huffman table [Table class > 2 ]");for(this.th[o]=1,this.tc[o][i]=1,a=0;a<16;a+=1)this.l[o][i][a]=t.get8(),c+=1;for(a=0;a<16;a+=1)for(s=0;s<this.l[o][i][a];s+=1){if(c>n)throw new Error("ERROR: Huffman table format error [count>Lh]");this.v[o][i][a][s]=t.get8(),c+=1}}if(c!==n)throw new Error("ERROR: Huffman table format error [count!=Lf]");for(a=0;a<4;a+=1)for(s=0;s<2;s+=1)0!==this.tc[a][s]&&this.buildHuffTable(e[a][s],this.l[a][s],this.v[a][s]);return 1},r.lossless.HuffmanTable.prototype.buildHuffTable=function(t,e,n){var o,i,a,s,c,u;for(i=256,a=0,s=0;s<8;s+=1)for(c=0;c<e[s];c+=1)for(u=0;u<i>>s+1;u+=1)t[a]=n[s][c]|s+1<<8,a+=1;for(s=1;a<256;s+=1,a+=1)t[a]=s|r.lossless.HuffmanTable.MSB;for(o=1,a=0,s=8;s<16;s+=1)for(c=0;c<e[s];c+=1){for(u=0;u<i>>s-7;u+=1)t[256*o+a]=n[s][c]|s+1<<8,a+=1;if(a>=256){if(a>256)throw new Error("ERROR: Huffman table error(1)!");a=0,o+=1}}};var o=s(e);"undefined"!==o&&e.exports&&(e.exports=r.lossless.HuffmanTable)},{"./data-stream.js":2,"./utils.js":10}],6:[function(t,e,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.ComponentSpec=r.lossless.ComponentSpec||("undefined"!==typeof t?t("./component-spec.js"):null),r.lossless.DataStream=r.lossless.DataStream||("undefined"!==typeof t?t("./data-stream.js"):null),r.lossless.Decoder=r.lossless.Decoder||("undefined"!==typeof t?t("./decoder.js"):null),r.lossless.FrameHeader=r.lossless.FrameHeader||("undefined"!==typeof t?t("./frame-header.js"):null),r.lossless.HuffmanTable=r.lossless.HuffmanTable||("undefined"!==typeof t?t("./huffman-table.js"):null),r.lossless.QuantizationTable=r.lossless.QuantizationTable||("undefined"!==typeof t?t("./quantization-table.js"):null),r.lossless.ScanComponent=r.lossless.ScanComponent||("undefined"!==typeof t?t("./scan-component.js"):null),r.lossless.ScanHeader=r.lossless.ScanHeader||("undefined"!==typeof t?t("./scan-header.js"):null),r.lossless.Utils=r.lossless.Utils||("undefined"!==typeof t?t("./utils.js"):null);var o=s(e);"undefined"!==o&&e.exports&&(e.exports=r)},{"./component-spec.js":1,"./data-stream.js":2,"./decoder.js":3,"./frame-header.js":4,"./huffman-table.js":5,"./quantization-table.js":7,"./scan-component.js":8,"./scan-header.js":9,"./utils.js":10}],7:[function(t,e,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||("undefined"!==typeof t?t("./data-stream.js"):null),r.lossless.Utils=r.lossless.Utils||("undefined"!==typeof t?t("./utils.js"):null),r.lossless.QuantizationTable=r.lossless.QuantizationTable||function(){this.precision=[],this.tq=[],this.quantTables=r.lossless.Utils.createArray(4,64),this.tq[0]=0,this.tq[1]=0,this.tq[2]=0,this.tq[3]=0},r.lossless.QuantizationTable.enhanceQuantizationTable=function(t,e){var n;for(n=0;n<8;n+=1)t[e[0+n]]*=90,t[e[32+n]]*=90,t[e[16+n]]*=118,t[e[48+n]]*=49,t[e[40+n]]*=71,t[e[8+n]]*=126,t[e[56+n]]*=25,t[e[24+n]]*=106;for(n=0;n<8;n+=1)t[e[0+8*n]]*=90,t[e[4+8*n]]*=90,t[e[2+8*n]]*=118,t[e[6+8*n]]*=49,t[e[5+8*n]]*=71,t[e[1+8*n]]*=126,t[e[7+8*n]]*=25,t[e[3+8*n]]*=106;for(n=0;n<64;n+=1)t[n]>>=6},r.lossless.QuantizationTable.prototype.read=function(t,e){var n,o,i,a,s=0;n=t.get16(),s+=2;while(s<n){if(o=t.get8(),s+=1,i=15&o,i>3)throw new Error("ERROR: Quantization table ID > 3");if(this.precision[i]=o>>4,0===this.precision[i])this.precision[i]=8;else{if(1!==this.precision[i])throw new Error("ERROR: Quantization table precision error");this.precision[i]=16}if(this.tq[i]=1,8===this.precision[i]){for(a=0;a<64;a+=1){if(s>n)throw new Error("ERROR: Quantization table format error");this.quantTables[i][a]=t.get8(),s+=1}r.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[i],e)}else{for(a=0;a<64;a+=1){if(s>n)throw new Error("ERROR: Quantization table format error");this.quantTables[i][a]=t.get16(),s+=2}r.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[i],e)}}if(s!==n)throw new Error("ERROR: Quantization table error [count!=Lq]");return 1};var o=s(e);"undefined"!==o&&e.exports&&(e.exports=r.lossless.QuantizationTable)},{"./data-stream.js":2,"./utils.js":10}],8:[function(t,e,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.ScanComponent=r.lossless.ScanComponent||function(){this.acTabSel=0,this.dcTabSel=0,this.scanCompSel=0};var o=s(e);"undefined"!==o&&e.exports&&(e.exports=r.lossless.ScanComponent)},{}],9:[function(t,e,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||("undefined"!==typeof t?t("./data-stream.js"):null),r.lossless.ScanComponent=r.lossless.ScanComponent||("undefined"!==typeof t?t("./scan-component.js"):null),r.lossless.ScanHeader=r.lossless.ScanHeader||function(){this.ah=0,this.al=0,this.numComp=0,this.selection=0,this.spectralEnd=0,this.components=[]},r.lossless.ScanHeader.prototype.read=function(t){var e,n,o,i=0;for(e=t.get16(),i+=2,this.numComp=t.get8(),i+=1,n=0;n<this.numComp;n+=1){if(this.components[n]=new r.lossless.ScanComponent,i>e)throw new Error("ERROR: scan header format error");this.components[n].scanCompSel=t.get8(),i+=1,o=t.get8(),i+=1,this.components[n].dcTabSel=o>>4,this.components[n].acTabSel=15&o}if(this.selection=t.get8(),i+=1,this.spectralEnd=t.get8(),i+=1,o=t.get8(),this.ah=o>>4,this.al=15&o,i+=1,i!==e)throw new Error("ERROR: scan header format error [count!=Ns]");return 1};var o=s(e);"undefined"!==o&&e.exports&&(e.exports=r.lossless.ScanHeader)},{"./data-stream.js":2,"./scan-component.js":8}],10:[function(t,e,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.Utils=r.lossless.Utils||{},r.lossless.Utils.createArray=function(t){var e=new Array(t||0),n=t;if(arguments.length>1){var o=Array.prototype.slice.call(arguments,1);while(n--)e[t-1-n]=r.lossless.Utils.createArray.apply(this,o)}return e},r.lossless.Utils.makeCRCTable=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e},r.lossless.Utils.crc32=function(t){for(var e=r.lossless.Utils.crcTable||(r.lossless.Utils.crcTable=r.lossless.Utils.makeCRCTable()),n=-1,o=0;o<t.byteLength;o++)n=n>>>8^e[255&(n^t.getUint8(o))];return(-1^n)>>>0};var o=s(e);"undefined"!==o&&e.exports&&(e.exports=r.lossless.Utils)},{}]},{},[6])(6)})),function(t,e,n){"use strict";function r(t,e,r){var i=n.getPixelFormat(t),a=o(t,e,i,r);return a}function o(t,e,n,r){var o=t.elements.x7fe00010,i=t.uint16("x00280010"),a=t.uint16("x00280011"),s=t.uint16("x00280002"),c=o.dataOffset,u=a*i*s;if(!u)throw"Sanity check failed when calculating the number of pixels";var l=0;if(1===n){if(l=c+e*u,l>=t.byteArray.length)throw"frame exceeds size of pixelData"}else{if(2===n){l=c+e*u*2;for(var f=new Uint8Array(t.byteArray.buffer,l,2*u),p=new Uint16Array(u),d=0;d<u;++d)p[d]=f[2*d]+256*f[2*d+1];return p}if(3===n){if(l=c+e*u*2,l>=t.byteArray.length)throw"frame exceeds size of pixelData";for(f=new Uint8Array(t.byteArray.buffer,l,2*u),p=new Int16Array(u),d=0;d<u;++d)if(1==r){var h=f[2*d]%129*256,y=f[2*d]>128?-1:1;p[d]=y*(f[2*d+1]+h)}else{var v=256*f[2*d]+f[2*d+1];p[d]=(255&v)<<8|v>>8&255}return p}}throw"Unknown pixel format"}n.extractUncompressedPixels=r}($,cornerstone,cornerstoneWADOImageLoader),function(t,e,n){"use strict";function r(t){var e=t.intString("x00280008");return e>1}function o(t){var e=t.intString("x00280008"),n=t.elements.x7fe00010;if(e!=n.fragments.length)return!0}function i(t,e){var n=t.elements.x7fe00010;if(r(t)){if(o(t))throw"multi-frame sop instance with no basic offset table is not currently supported";return dicomParser.readEncapsulatedPixelDataFromFragments(t,n,e)}var i=0,a=n.fragments.length;return dicomParser.readEncapsulatedPixelDataFromFragments(t,n,i,a)}function a(t,e){return t.elements.x7fe00010.basicOffsetTable.length?dicomParser.readEncapsulatedImageFrame(t,t.elements.x7fe00010,e):i(t,e)}n.getEncodedImageFrame=a}($,cornerstone,cornerstoneWADOImageLoader),function(t){"use strict";function e(t){for(var e=65535,n=-32768,r=t.length,o=t,i=0;i<r;i++){var a=o[i];e=e<a?e:a,n=n>a?n:a}return{min:e,max:n}}t.getMinMax=e}(cornerstoneWADOImageLoader),function(t){"use strict";function e(t){var e=t.uint16("x00280103"),n=t.uint16("x00280100");return 0===e&&8===n?1:0===e&&16===n?2:1===e&&16===n?3:void 0}t.getPixelFormat=e}(cornerstoneWADOImageLoader),function(t){"use strict";function e(t){var e=t.string("x00280030");if(e&&e.length>0){var n=e.split("\\");if(parseFloat(n[0])&&parseFloat(n[1]))return{row:parseFloat(n[0]),column:parseFloat(n[1])}}return{row:void 0,column:void 0}}t.getPixelSpacing=e}(cornerstoneWADOImageLoader),function(t){"use strict";function e(t){var e={intercept:0,slope:1};return t.elements.x00281052&&t.elements.x00281053&&(e.intercept=t.floatString("x00281052")||e.intercept,e.slope=t.floatString("x00281053")||e.slope),e}t.getRescaleSlopeAndIntercept=e}(cornerstoneWADOImageLoader),function(t){"use strict";function e(t){var e={windowCenter:void 0,windowWidth:void 0};return t.elements.x00281050&&t.elements.x00281051&&(e.windowCenter=t.floatString("x00281050"),e.windowWidth=t.floatString("x00281051")),e}t.getWindowWidthAndCenter=e}(cornerstoneWADOImageLoader),function(t,e,n){"use strict";e.registerImageLoader("dicomfile",n.internal.loadImage)}($,cornerstone,cornerstoneWADOImageLoader),function(t){"use strict";var e=[];function n(t){var n=e.push(t);return"dicomfile:"+(n-1)}function r(t){return e[t]}function o(t){e[t]=void 0}function i(){e=[]}t.fileManager={add:n,get:r,remove:o,purge:i}}(cornerstoneWADOImageLoader),function(t,e,n){"use strict";function r(e){var r=n.parseImageId(e),o=parseInt(r.url),i=n.fileManager.get(o),a=t.Deferred(),s=new FileReader;return s.onload=function(t){var e=t.target.result,n=new Uint8Array(e),r=dicomParser.parseDicom(n);a.resolve(r)},s.readAsArrayBuffer(i),a.promise()}n.internal.loadFileRequest=r}($,cornerstone,cornerstoneWADOImageLoader),function(t){function e(t,e,n){if(n+t.length>e.length)return!1;for(var r=n,o=0;o<t.length;o++)if(t[o]!==e[r++])return!1;return!0}function n(t){for(var e=new Uint8Array(t.length),n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e}function r(t,r,o){o=o||0;for(var i=n(r),a=o;a<t.length;a++)if(i[0]===t[a]&&e(i,t,a))return a;return-1}t.internal.findIndexOfString=r}(cornerstoneWADOImageLoader),function(t){"use strict";function e(t){for(var e=0;e<t.length;e++)if("--"===t[e].substr(0,2))return t[e]}function n(t){for(var e=0;e<t.length;e++)if("Content-Type:"===t[e].substr(0,13))return t[e].substr(13).trim()}function r(t,e,n){e=e||0,n=n||t.length-e;for(var r="",o=e;o<e+n;o++)r+=String.fromCharCode(t[o]);return r}t.internal.getImageFrame=function(o,i){i=i||"application/octet-stream";var a=$.Deferred(),s=new XMLHttpRequest;return s.responseType="arraybuffer",s.open("get",o,!0),s.setRequestHeader("Accept","multipart/related;type="+i),s.onreadystatechange=function(o){if(4===s.readyState)if(200===s.status){var i=s.response,c=new Uint8Array(s.response),u=t.internal.findIndexOfString(c,"\n\r\n");-1===u&&a.reject("invalid response - no multipart mime header");var l=r(c,0,u),f=l.split("\r\n"),p=e(f);p||a.reject("invalid response - no boundary marker");var d=u+4,h=t.internal.findIndexOfString(c,p,d);-1===h&&a.reject("invalid response - terminating boundary not found");var y=h-d-1;a.resolve({contentType:n(f),arrayBuffer:i,offset:d,length:y})}else a.reject(s.response)},s.send(),a.promise()}}(cornerstoneWADOImageLoader),function(t){"use strict";var e=[];function n(t){var n=e.push(t);return"wadors:"+(n-1)}function r(t){return e[t]}function o(t){e[t]=void 0}function i(){e=[]}t.imageManager={add:n,get:r,remove:o,purge:i}}(cornerstoneWADOImageLoader),function(t,e,n){"use strict";function r(r){var o,i=t.Deferred(),a=r.substring(7),s=n.imageManager.get(a);return void 0===s?(i.reject("unknown imageId"),i.promise()):(n.internal.getImageFrame(s.uri,o).then((function(t){var o;16===s.instance.bitsAllocated?o=0===s.instance.pixelRepresentation?new Uint16Array(t.arrayBuffer,t.offset,t.length/2):new Int16Array(t.arrayBuffer,t.offset,t.length/2):8===s.instance.bitsAllocated&&(o=new Uint8Array(t.arrayBuffer,t.offset,t.length));var a=n.getMinMax(o);s.imageId=r,s.minPixelValue=a.min,s.maxPixelValue=a.max,s.render=e.renderGrayscaleImage,s.getPixelData=function(){return o},i.resolve(s)})).fail((function(t){i.reject(t)})),i.promise())}e.registerImageLoader("wadors",r)}($,cornerstone,cornerstoneWADOImageLoader),function(t,e,n){"use strict";e.registerImageLoader("dicomweb",n.internal.loadImage),e.registerImageLoader("wadouri",n.internal.loadImage)}($,cornerstone,cornerstoneWADOImageLoader),function(t){"use strict";function e(t){return"RGB"===t||"PALETTE COLOR"===t||"YBR_FULL"===t||"YBR_FULL_422"===t||"YBR_PARTIAL_422"===t||"YBR_PARTIAL_420"===t||"YBR_RCT"===t||"YBR_ICT"===t}t.isColorImage=e}(cornerstoneWADOImageLoader),function(t,e,n){"use strict";var r=document.createElement("canvas"),o="";function i(t,e){if(!0===n.isJPEGBaseline8Bit(t))return n.decodeJPEGBaseline8Bit(r,t,e);var o=n.decodeTransferSyntax(t,e);return n.convertColorSpace(r,t,o)}function a(a,s,c,u){var l=n.getPixelSpacing(s),f=s.uint16("x00280010"),p=s.uint16("x00280011"),d=n.getRescaleSlopeAndIntercept(s),h=s.byteArray.length,y=n.getWindowWidthAndCenter(s);o=void 0;var v,m=t.Deferred();try{v=i(s,c)}catch(g){return m.reject(g),m.promise()}return v.then((function(t){function i(){return t.data}function c(){return t}function v(){if(o===a)return r;r.height=f,r.width=p;var e=r.getContext("2d");return e.putImageData(t,0,0),o=a,r}var g={imageId:a,minPixelValue:0,maxPixelValue:255,slope:d.slope,intercept:d.intercept,windowCenter:y.windowCenter,windowWidth:y.windowWidth,render:e.renderColorImage,getPixelData:i,getImageData:c,getCanvas:v,rows:f,columns:p,height:f,width:p,color:!0,columnPixelSpacing:l.column,rowPixelSpacing:l.row,data:s,invert:!1,sizeInBytes:h,sharedCacheKey:u};(void 0===g.windowCenter||isNaN(g.windowCenter)||void 0===g.windowWidth||isNaN(g.windowWidth))&&(g.windowWidth=255,g.windowCenter=128),n.internal.options.imageCreated&&n.internal.options.imageCreated(g),m.resolve(g)}),(function(t){m.reject(t)})),m.promise()}n.makeColorImage=a}($,cornerstone,cornerstoneWADOImageLoader),function(t,e,n){"use strict";function r(t){var e=n.getPixelFormat(t);if(1===e)return 1;if(2===e||3===e)return 2;throw"unknown pixel format"}function o(t,e,n){var r=n.uint16("x00283002",0);0===r&&(r=65535);var o=0;o=0===e?n.uint16("x00283002",1):n.int16("x00283002",1);for(var i=n.uint16("x00283002",2),a={id:"1",firstValueMapped:o,numBitsPerEntry:i,lut:[]},s=0;s<r;s++)a.lut[s]=0===e?n.uint16("x00283006",s):n.int16("x00283006",s);return a}function i(t){var e=t.string("x00080016");return"1.2.840.10008.5.1.4.1.1.12.1"!==e&&"1.2.840.10008.5.1.4.1.1.12.2.1\t"!==e}function a(a,s,c,u){var l=t.Deferred(),f=n.getPixelSpacing(s),p=s.uint16("x00280010"),d=s.uint16("x00280011"),h=n.getRescaleSlopeAndIntercept(s);try{r(s)}catch(C){return l.reject(C),l.promise()}var y,v=s.byteArray.length,m=s.string("x00280004"),g="MONOCHROME1"===m,b=n.getWindowWidthAndCenter(s);try{y=n.decodeTransferSyntax(s,c)}catch(x){return l.reject(x),l.promise()}var w=n.getMinMax(y);function _(){return y}var S={imageId:a,minPixelValue:w.min,maxPixelValue:w.max,slope:h.slope,intercept:h.intercept,windowCenter:b.windowCenter,windowWidth:b.windowWidth,render:e.renderGrayscaleImage,getPixelData:_,rows:p,columns:d,height:p,width:d,color:!1,columnPixelSpacing:f.column,rowPixelSpacing:f.row,data:s,invert:g,sizeInBytes:v,sharedCacheKey:u},O=s.uint16("x00280103");if(s.elements.x00283000&&i(s)&&(S.modalityLUT=o(S,O,s.elements.x00283000.items[0].dataSet)),s.elements.x00283010&&(O=0,S.minPixelValue*S.slope+S.intercept<0&&(O=1),S.voiLUT=o(S,O,s.elements.x00283010.items[0].dataSet)),void 0===S.windowCenter||isNaN(S.windowCenter)||void 0===S.windowWidth||isNaN(S.windowWidth)){var I=S.maxPixelValue*S.slope+S.intercept,E=S.minPixelValue*S.slope+S.intercept;S.windowWidth=I-E,S.windowCenter=(I+E)/2}return n.internal.options.imageCreated&&n.internal.options.imageCreated(S),l.resolve(S),l.promise()}n.makeGrayscaleImage=a}($,cornerstone,cornerstoneWADOImageLoader),function(t){"use strict";function e(t){var e,n=t.indexOf(":"),r=t.substring(n+1),o=r.indexOf("frame=");if(-1!==o){var i=r.substr(o+6);e=parseInt(i),r=r.substr(0,o-1)}return{scheme:t.substr(0,n),url:r,frame:e}}t.parseImageId=e}(cornerstoneWADOImageLoader),function(t){"use strict";t.version="0.13.3"}(cornerstoneWADOImageLoader),function(t,e,n){"use strict";function r(r,o){var i=t.Deferred(),a=new XMLHttpRequest;return a.open("get",r,!0),a.responseType="arraybuffer",n.internal.options.beforeSend(a),a.onreadystatechange=function(t){if(4===a.readyState)if(200===a.status){var e=a.response,n=new Uint8Array(e),r=dicomParser.parseDicom(n);i.resolve(r)}else i.reject(a)},a.onprogress=function(n){if(n.lengthComputable){var r=n.loaded,i=n.total,a=Math.round(r/i*100);t(e).trigger("CornerstoneImageLoadProgress",{imageId:o,loaded:r,total:i,percentComplete:a})}},a.send(),i.promise()}n.internal.xhrRequest=r}($,cornerstone,cornerstoneWADOImageLoader)},"1fb5":function(t,e,n){"use strict";e.byteLength=l,e.toByteArray=p,e.fromByteArray=y;for(var r=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function l(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function f(t,e,n){return 3*(e+n)/4-n}function p(t){var e,n,r=u(t),a=r[0],s=r[1],c=new i(f(t,a,s)),l=0,p=s>0?a-4:a;for(n=0;n<p;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===s&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,c[l++]=255&e),1===s&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c}function d(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function h(t,e,n){for(var r,o=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),o.push(d(r));return o.join("")}function y(t){for(var e,n=t.length,o=n%3,i=[],a=16383,s=0,c=n-o;s<c;s+=a)i.push(h(t,s,s+a>c?c:s+a));return 1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),i.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},"20bf":function(t,e,n){"use strict";var r=n("8aa7"),o=n("ebb5").exportTypedArrayStaticMethod,i=n("a078");o("from",i,r)},"214f":function(t,e,n){"use strict";n("eda2")},2164:function(t,e,n){},"219c":function(t,e,n){"use strict";var r=n("ebb5"),o=n("da84"),i=n("d039"),a=n("59ed"),s=n("50c4"),c=n("addb"),u=n("04d1"),l=n("d998"),f=n("2d00"),p=n("512c"),d=r.aTypedArray,h=r.exportTypedArrayMethod,y=o.Uint16Array,v=y&&y.prototype.sort,m=!!v&&!i((function(){var t=new y(2);t.sort(null),t.sort({})})),g=!!v&&!i((function(){if(f)return f<74;if(u)return u<67;if(l)return!0;if(p)return p<602;var t,e,n=new y(516),r=Array(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(n.sort((function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==r[t])return!0})),b=function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!==n?-1:e!==e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}};h("sort",(function(t){var e=this;if(void 0!==t&&a(t),g)return v.call(e,t);d(e);var n,r=s(e.length),o=Array(r);for(n=0;n<r;n++)o[n]=e[n];for(o=c(e,b(t)),n=0;n<r;n++)e[n]=o[n];return e}),!g||m)},2266:function(t,e,n){var r=n("825a"),o=n("e95a"),i=n("50c4"),a=n("0366"),s=n("9a1f"),c=n("35a1"),u=n("2a62"),l=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var f,p,d,h,y,v,m,g=n&&n.that,b=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_ITERATOR),_=!(!n||!n.INTERRUPTED),S=a(e,g,1+b+_),O=function(t){return f&&u(f,"normal",t),new l(!0,t)},I=function(t){return b?(r(t),_?S(t[0],t[1],O):S(t[0],t[1])):_?S(t,O):S(t)};if(w)f=t;else{if(p=c(t),!p)throw TypeError(String(t)+" is not iterable");if(o(p)){for(d=0,h=i(t.length);h>d;d++)if(y=I(t[d]),y&&y instanceof l)return y;return new l(!1)}f=s(t,p)}v=f.next;while(!(m=v.call(f)).done){try{y=I(m.value)}catch(E){u(f,"throw",E)}if("object"==typeof y&&y&&y instanceof l)return y}return new l(!1)}},"23cb":function(t,e,n){var r=n("a691"),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},"23e7":function(t,e,n){var r=n("da84"),o=n("06cf").f,i=n("9112"),a=n("6eeb"),s=n("ce4e"),c=n("e893"),u=n("94ca");t.exports=function(t,e){var n,l,f,p,d,h,y=t.target,v=t.global,m=t.stat;if(l=v?r:m?r[y]||s(y,{}):(r[y]||{}).prototype,l)for(f in e){if(d=e[f],t.noTargetGet?(h=o(l,f),p=h&&h.value):p=l[f],n=u(v?f:y+(m?".":"#")+f,t.forced),!n&&void 0!==p){if(typeof d===typeof p)continue;c(d,p)}(t.sham||p&&p.sham)&&i(d,"sham",!0),a(l,f,d,t)}}},"241c":function(t,e,n){var r=n("ca84"),o=n("7839"),i=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},2532:function(t,e,n){"use strict";var r=n("23e7"),o=n("5a34"),i=n("1d80"),a=n("577e"),s=n("ab13");r({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~a(i(this)).indexOf(a(o(t)),arguments.length>1?arguments[1]:void 0)}})},"25a1":function(t,e,n){"use strict";var r=n("ebb5"),o=n("d58f").right,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("reduceRight",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},"25f0":function(t,e,n){"use strict";var r=n("5e77").PROPER,o=n("6eeb"),i=n("825a"),a=n("577e"),s=n("d039"),c=n("ad6d"),u="toString",l=RegExp.prototype,f=l[u],p=s((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),d=r&&f.name!=u;(p||d)&&o(RegExp.prototype,u,(function(){var t=i(this),e=a(t.source),n=t.flags,r=a(void 0===n&&t instanceof RegExp&&!("flags"in l)?c.call(t):n);return"/"+e+"/"+r}),{unsafe:!0})},2626:function(t,e,n){"use strict";var r=n("d066"),o=n("9bf2"),i=n("b622"),a=n("83ab"),s=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},"26bb":function(t){t.exports=JSON.parse('{"ui":{"viewer":{"context-menu":{"zoom":"Zoom","pan":"Verschieben","scroll":"Scrollen","open-mpr":"MPR"},"menu":{"cross-ref":"Querverweise","toggle-fullscreen":"Vollbild","toggle-annotation":"Sichtbarkeit von Anmerkungen ein- und ausschalten","toggle-slice-looping":"Schnittbildschleife ein- und ausschalten","scroll":"Scrollen","zoom":"Zoom","translate":"Verschieben","contrast":"Kontrast","reset":"Zurücksetzen","ruler":"Lineal","protractor":"Winkelmesser","layout-1-1":"Eine Zelle","layout-1-2":"Zwei vertikale Zellen","layout-2-1":"Zwei horizontale Zellen","layout-1-3":"Drei vertikale Zellen","layout-3-1":"Drei horizontale Zellen","layout-2-2":"Vier Zellen","sync-series":"Serie synchronisieren","toggle-menu":"Menü","open-mpr":"MPR-Modus aktivieren","windowing":{"title":"Fensterung","options":{"default":"Voreinstellung"},"actions":{"invert":"Umkehren"}},"advanced":{"title":"Erweiterte Einstellungen","options":{"imagery":{"title":"Imaging","options":{"human":"Mensch","vet":"Tiermedizin"}}}}}},"modals":{"import-file-popin":{"title":"Dateien importieren"},"input-from-url":{"inputLabel":"Ihre URL","title":"Von URL importieren","submitButton":"Laden"},"toManyFiles":{"title":"Warnung!","body":"Wenn Sie versuchen, eine große Anzahl von Dateien hochzuladen, kann dies die Anwendung verlangsamen."},"generic":{"cancel":"Abbrechen","accept":"OK"}},"disclaimer":{"title":"Der IMAIOS DICOM Viewer wurde nicht für den klinischen Einsatz geprüft oder zertifiziert. Er ist NICHT als Medizinprodukt zugelassen. Er darf nicht für die Primärdiagnose in der medizinischen Bildgebung verwendet werden.","accept":"Zustimmen"},"use-app":{"title":"IDV ist schneller mit der App.","button":"App verwenden","dismiss":"Ablehnen"},"internet-explorer":{"upgrade-message":{"text":"Verwenden Sie bitte einen anderen Browser wie {edge}, {chrome} oder {firefox}.","edge":"Microsoft Edge","chrome":"Google Chrome","firefox":"Firefox"},"features-not-available":"Einige Funktionen werden in Internet Explorer nicht unterstützt","dismiss":"Ablehnen"}},"voter":{"set-slice-index":{"no-scroll-when-only-one-slice":"Diese Serie enthält nur ein Bild","begin-series":"Anfang der Serie","end-series":"Ende der Serie"}},"idv-placeholder":{"main-text":"Dateien hierher ziehen und ablegen","supported-files-format":"Unterstütztes Format: JPEG, DICOM oder ZIP","text-between-bar":"oder","import-file":"Datei importieren","import-from-url":"Aus einer URL importieren","import-from-dropbox":"Aus Dropbox importieren"},"features":{"v-loading-feedback":{"label":"Laden ..."},"v-import-demo-case":{"label":"Demo-Fall öffnen"},"v-top-bar":{"cancel":"Abbrechen","save":"Speichern"},"v-presentation-mode":{"label":"Zwischen Präsentationsmodi umschalten","title":"Präsentationsmodus"},"channel-explorer":{"title":"Wählen Sie das Album, in dem Sie Ihren Fall veröffentlichen möchten","submit":"Veröffentlichen","back":"Zurückgehen"}},"annotation":{"stroke":"Strichdicke","color":"Farbe"},"action":{"select_album":"Wählen Sie das Album, in dem Sie Ihren Fall veröffentlichen möchten"},"error":{"series-has-no-files":"Beim Laden der Serie \\"{seriesName}\\" ist ein Problem aufgetreten. Bitte versuchen Sie es später noch einmal. Wenn das Problem weiterhin besteht, wenden Sie sich an unser Support-Team."}}')},2705:function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("59ed"),a=n("825a"),s=n("5860"),c=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{reduce:function(t){var e=a(this),n=s(e),r=arguments.length<2,o=r?void 0:arguments[1];if(i(t),c(n,(function(n){r?(r=!1,o=n):o=t(o,n,n,e)}),{IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty set with no initial value");return o}})},"28ea":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.002 7.667a4.333 4.333 0 100 8.666 4.333 4.333 0 000-8.666zM6.17 12a5.833 5.833 0 1111.666 0A5.833 5.833 0 016.17 12zM18.667 12a.75.75 0 01.75-.75h.835a.75.75 0 010 1.5h-.835a.75.75 0 01-.75-.75zM3.003 12a.75.75 0 01.75-.75h.835a.75.75 0 010 1.5h-.835a.75.75 0 01-.75-.75zM12.002 3a.75.75 0 01.75.75v.835a.75.75 0 01-1.5 0V3.75a.75.75 0 01.75-.75zM12.002 18.665a.75.75 0 01.75.75v.835a.75.75 0 01-1.5 0v-.835a.75.75 0 01.75-.75zM18.817 6.13a.75.75 0 01-.08 1.058l-.634.545a.75.75 0 11-.978-1.138l.635-.545a.75.75 0 011.057.08zM6.946 16.348a.75.75 0 01-.08 1.057l-.635.545a.75.75 0 01-.977-1.138l.634-.545a.75.75 0 011.058.08zM17.034 16.361a.75.75 0 011.058-.075l.631.548a.75.75 0 01-.982 1.133l-.632-.548a.75.75 0 01-.075-1.058zM5.192 6.108a.75.75 0 011.058-.075l.632.548a.75.75 0 01-.983 1.133l-.631-.548a.75.75 0 01-.076-1.058z"}}),n("path",{attrs:{d:"M12.002 17.083V6.917a5.083 5.083 0 010 10.166z"}})]))}}},2954:function(t,e,n){"use strict";var r=n("ebb5"),o=n("b6b7"),i=n("d039"),a=r.aTypedArray,s=r.exportTypedArrayMethod,c=[].slice,u=i((function(){new Int8Array(1).slice()}));s("slice",(function(t,e){var n=c.call(a(this),t,e),r=o(this),i=0,s=n.length,u=new r(s);while(s>i)u[i]=n[i++];return u}),u)},"2a62":function(t,e,n){var r=n("825a"),o=n("dc4a");t.exports=function(t,e,n){var i,a;r(t);try{if(i=o(t,"return"),!i){if("throw"===e)throw n;return n}i=i.call(t)}catch(s){a=!0,i=s}if("throw"===e)throw n;if(a)throw i;return r(i),n}},"2a89":function(t,e,n){"use strict";n("9a17")},"2ae0":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 1.999a.75.75 0 01.75.75v6.084a.75.75 0 01-1.5 0V2.749a.75.75 0 01.75-.75zM12 14.411a.75.75 0 01.75.75v6.084a.75.75 0 01-1.5 0V15.16a.75.75 0 01.75-.75zM21.998 11.997a.75.75 0 01-.75.75h-6.084a.75.75 0 110-1.5h6.084a.75.75 0 01.75.75zM9.586 11.997a.75.75 0 01-.75.75H2.752a.75.75 0 110-1.5h6.084a.75.75 0 01.75.75z"}})]))}}},"2b3d":function(t,e,n){"use strict";n("3ca3");var r,o=n("23e7"),i=n("83ab"),a=n("0d3b"),s=n("da84"),c=n("37e8"),u=n("6eeb"),l=n("19aa"),f=n("5135"),p=n("60da"),d=n("4df4"),h=n("6547").codeAt,y=n("5fb2"),v=n("577e"),m=n("d44e"),g=n("9861"),b=n("69f3"),w=s.URL,_=g.URLSearchParams,S=g.getState,O=b.set,I=b.getterFor("URL"),E=Math.floor,C=Math.pow,x="Invalid authority",A="Invalid scheme",P="Invalid host",T="Invalid port",j=/[A-Za-z]/,D=/[\d+-.A-Za-z]/,k=/\d/,L=/^0x/i,R=/^[0-7]+$/,M=/^\d+$/,B=/^[\dA-Fa-f]+$/,N=/[\0\t\n\r #%/:<>?@[\\\]^|]/,F=/[\0\t\n\r #/:<>?@[\\\]^|]/,U=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,z=/[\t\n\r]/g,V=function(t,e){var n,r,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return P;if(n=H(e.slice(1,-1)),!n)return P;t.host=n}else if(Q(t)){if(e=y(e),N.test(e))return P;if(n=W(e),null===n)return P;t.host=n}else{if(F.test(e))return P;for(n="",r=d(e),o=0;o<r.length;o++)n+=Z(r[o],$);t.host=n}},W=function(t){var e,n,r,o,i,a,s,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),e=c.length,e>4)return t;for(n=[],r=0;r<e;r++){if(o=c[r],""==o)return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=L.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?M:8==i?R:B).test(o))return t;a=parseInt(o,i)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=C(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*C(256,3-r);return s},H=function(t){var e,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,p=function(){return t.charAt(f)};if(":"==p()){if(":"!=t.charAt(1))return;f+=2,u++,l=u}while(p()){if(8==u)return;if(":"!=p()){e=n=0;while(n<4&&B.test(p()))e=16*e+parseInt(p(),16),f++,n++;if("."==p()){if(0==n)return;if(f-=n,u>6)return;r=0;while(p()){if(o=null,r>0){if(!("."==p()&&r<4))return;f++}if(!k.test(p()))return;while(k.test(p())){if(i=parseInt(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[u]=256*c[u]+o,r++,2!=r&&4!=r||u++}if(4!=r)return;break}if(":"==p()){if(f++,!p())return}else if(p())return;c[u++]=e}else{if(null!==l)return;f++,u++,l=u}}if(null!==l){a=u-l,u=7;while(0!=u&&a>0)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s}else if(8!=u)return;return c},Y=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e},G=function(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=E(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=Y(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},$={},X=p({},$,{" ":1,'"':1,"<":1,">":1,"`":1}),K=p({},X,{"#":1,"?":1,"{":1,"}":1}),q=p({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Z=function(t,e){var n=h(t,0);return n>32&&n<127&&!f(e,t)?t:encodeURIComponent(t)},J={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(t){return f(J,t.scheme)},tt=function(t){return""!=t.username||""!=t.password},et=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},nt=function(t,e){var n;return 2==t.length&&j.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},rt=function(t){var e;return t.length>1&&nt(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},ot=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&nt(e[0],!0)||e.pop()},it=function(t){return"."===t||"%2e"===t.toLowerCase()},at=function(t){return t=t.toLowerCase(),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},st={},ct={},ut={},lt={},ft={},pt={},dt={},ht={},yt={},vt={},mt={},gt={},bt={},wt={},_t={},St={},Ot={},It={},Et={},Ct={},xt={},At=function(t,e,n,o){var i,a,s,c,u=n||st,l=0,p="",h=!1,y=!1,v=!1;n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(U,"")),e=e.replace(z,""),i=d(e);while(l<=i.length){switch(a=i[l],u){case st:if(!a||!j.test(a)){if(n)return A;u=ut;continue}p+=a.toLowerCase(),u=ct;break;case ct:if(a&&(D.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return A;p="",u=ut,l=0;continue}if(n&&(Q(t)!=f(J,p)||"file"==p&&(tt(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,n)return void(Q(t)&&J[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?u=wt:Q(t)&&o&&o.scheme==t.scheme?u=lt:Q(t)?u=ht:"/"==i[l+1]?(u=ft,l++):(t.cannotBeABaseURL=!0,t.path.push(""),u=Et)}break;case ut:if(!o||o.cannotBeABaseURL&&"#"!=a)return A;if(o.cannotBeABaseURL&&"#"==a){t.scheme=o.scheme,t.path=o.path.slice(),t.query=o.query,t.fragment="",t.cannotBeABaseURL=!0,u=xt;break}u="file"==o.scheme?wt:pt;continue;case lt:if("/"!=a||"/"!=i[l+1]){u=pt;continue}u=yt,l++;break;case ft:if("/"==a){u=vt;break}u=It;continue;case pt:if(t.scheme=o.scheme,a==r)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query;else if("/"==a||"\\"==a&&Q(t))u=dt;else if("?"==a)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query="",u=Ct;else{if("#"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.path.pop(),u=It;continue}t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query,t.fragment="",u=xt}break;case dt:if(!Q(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,u=It;continue}u=vt}else u=yt;break;case ht:if(u=yt,"/"!=a||"/"!=p.charAt(l+1))continue;l++;break;case yt:if("/"!=a&&"\\"!=a){u=vt;continue}break;case vt:if("@"==a){h&&(p="%40"+p),h=!0,s=d(p);for(var m=0;m<s.length;m++){var g=s[m];if(":"!=g||v){var b=Z(g,q);v?t.password+=b:t.username+=b}else v=!0}p=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(t)){if(h&&""==p)return x;l-=d(p).length+1,p="",u=mt}else p+=a;break;case mt:case gt:if(n&&"file"==t.scheme){u=St;continue}if(":"!=a||y){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(t)){if(Q(t)&&""==p)return P;if(n&&""==p&&(tt(t)||null!==t.port))return;if(c=V(t,p),c)return c;if(p="",u=Ot,n)return;continue}"["==a?y=!0:"]"==a&&(y=!1),p+=a}else{if(""==p)return P;if(c=V(t,p),c)return c;if(p="",u=bt,n==gt)return}break;case bt:if(!k.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Q(t)||n){if(""!=p){var w=parseInt(p,10);if(w>65535)return T;t.port=Q(t)&&w===J[t.scheme]?null:w,p=""}if(n)return;u=Ot;continue}return T}p+=a;break;case wt:if(t.scheme="file","/"==a||"\\"==a)u=_t;else{if(!o||"file"!=o.scheme){u=It;continue}if(a==r)t.host=o.host,t.path=o.path.slice(),t.query=o.query;else if("?"==a)t.host=o.host,t.path=o.path.slice(),t.query="",u=Ct;else{if("#"!=a){rt(i.slice(l).join(""))||(t.host=o.host,t.path=o.path.slice(),ot(t)),u=It;continue}t.host=o.host,t.path=o.path.slice(),t.query=o.query,t.fragment="",u=xt}}break;case _t:if("/"==a||"\\"==a){u=St;break}o&&"file"==o.scheme&&!rt(i.slice(l).join(""))&&(nt(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host),u=It;continue;case St:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&nt(p))u=It;else if(""==p){if(t.host="",n)return;u=Ot}else{if(c=V(t,p),c)return c;if("localhost"==t.host&&(t.host=""),n)return;p="",u=Ot}continue}p+=a;break;case Ot:if(Q(t)){if(u=It,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(u=It,"/"!=a))continue}else t.fragment="",u=xt;else t.query="",u=Ct;break;case It:if(a==r||"/"==a||"\\"==a&&Q(t)||!n&&("?"==a||"#"==a)){if(at(p)?(ot(t),"/"==a||"\\"==a&&Q(t)||t.path.push("")):it(p)?"/"==a||"\\"==a&&Q(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&nt(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(a==r||"?"==a||"#"==a))while(t.path.length>1&&""===t.path[0])t.path.shift();"?"==a?(t.query="",u=Ct):"#"==a&&(t.fragment="",u=xt)}else p+=Z(a,K);break;case Et:"?"==a?(t.query="",u=Ct):"#"==a?(t.fragment="",u=xt):a!=r&&(t.path[0]+=Z(a,$));break;case Ct:n||"#"!=a?a!=r&&("'"==a&&Q(t)?t.query+="%27":t.query+="#"==a?"%23":Z(a,$)):(t.fragment="",u=xt);break;case xt:a!=r&&(t.fragment+=Z(a,X));break}l++}},Pt=function(t){var e,n,r=l(this,Pt,"URL"),o=arguments.length>1?arguments[1]:void 0,a=v(t),s=O(r,{type:"URL"});if(void 0!==o)if(o instanceof Pt)e=I(o);else if(n=At(e={},v(o)),n)throw TypeError(n);if(n=At(s,a,null,e),n)throw TypeError(n);var c=s.searchParams=new _,u=S(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},i||(r.href=jt.call(r),r.origin=Dt.call(r),r.protocol=kt.call(r),r.username=Lt.call(r),r.password=Rt.call(r),r.host=Mt.call(r),r.hostname=Bt.call(r),r.port=Nt.call(r),r.pathname=Ft.call(r),r.search=Ut.call(r),r.searchParams=zt.call(r),r.hash=Vt.call(r))},Tt=Pt.prototype,jt=function(){var t=I(this),e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,a=t.path,s=t.query,c=t.fragment,u=e+":";return null!==o?(u+="//",tt(t)&&(u+=n+(r?":"+r:"")+"@"),u+=G(o),null!==i&&(u+=":"+i)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},Dt=function(){var t=I(this),e=t.scheme,n=t.port;if("blob"==e)try{return new Pt(e.path[0]).origin}catch(r){return"null"}return"file"!=e&&Q(t)?e+"://"+G(t.host)+(null!==n?":"+n:""):"null"},kt=function(){return I(this).scheme+":"},Lt=function(){return I(this).username},Rt=function(){return I(this).password},Mt=function(){var t=I(this),e=t.host,n=t.port;return null===e?"":null===n?G(e):G(e)+":"+n},Bt=function(){var t=I(this).host;return null===t?"":G(t)},Nt=function(){var t=I(this).port;return null===t?"":String(t)},Ft=function(){var t=I(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Ut=function(){var t=I(this).query;return t?"?"+t:""},zt=function(){return I(this).searchParams},Vt=function(){var t=I(this).fragment;return t?"#"+t:""},Wt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&c(Tt,{href:Wt(jt,(function(t){var e=I(this),n=v(t),r=At(e,n);if(r)throw TypeError(r);S(e.searchParams).updateSearchParams(e.query)})),origin:Wt(Dt),protocol:Wt(kt,(function(t){var e=I(this);At(e,v(t)+":",st)})),username:Wt(Lt,(function(t){var e=I(this),n=d(v(t));if(!et(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=Z(n[r],q)}})),password:Wt(Rt,(function(t){var e=I(this),n=d(v(t));if(!et(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=Z(n[r],q)}})),host:Wt(Mt,(function(t){var e=I(this);e.cannotBeABaseURL||At(e,v(t),mt)})),hostname:Wt(Bt,(function(t){var e=I(this);e.cannotBeABaseURL||At(e,v(t),gt)})),port:Wt(Nt,(function(t){var e=I(this);et(e)||(t=v(t),""==t?e.port=null:At(e,t,bt))})),pathname:Wt(Ft,(function(t){var e=I(this);e.cannotBeABaseURL||(e.path=[],At(e,v(t),Ot))})),search:Wt(Ut,(function(t){var e=I(this);t=v(t),""==t?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",At(e,t,Ct)),S(e.searchParams).updateSearchParams(e.query)})),searchParams:Wt(zt),hash:Wt(Vt,(function(t){var e=I(this);t=v(t),""!=t?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",At(e,t,xt)):e.fragment=null}))}),u(Tt,"toJSON",(function(){return jt.call(this)}),{enumerable:!0}),u(Tt,"toString",(function(){return jt.call(this)}),{enumerable:!0}),w){var Ht=w.createObjectURL,Yt=w.revokeObjectURL;Ht&&u(Pt,"createObjectURL",(function(t){return Ht.apply(w,arguments)})),Yt&&u(Pt,"revokeObjectURL",(function(t){return Yt.apply(w,arguments)}))}m(Pt,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Pt})},"2bd9":function(t,e,n){"use strict";n("876d")},"2cf4":function(t,e,n){var r,o,i,a,s=n("da84"),c=n("1626"),u=n("d039"),l=n("0366"),f=n("1be4"),p=n("cc12"),d=n("1cdc"),h=n("605d"),y=s.setImmediate,v=s.clearImmediate,m=s.process,g=s.MessageChannel,b=s.Dispatch,w=0,_={},S="onreadystatechange";try{r=s.location}catch(x){}var O=function(t){if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},I=function(t){return function(){O(t)}},E=function(t){O(t.data)},C=function(t){s.postMessage(String(t),r.protocol+"//"+r.host)};y&&v||(y=function(t){var e=[],n=arguments.length,r=1;while(n>r)e.push(arguments[r++]);return _[++w]=function(){(c(t)?t:Function(t)).apply(void 0,e)},o(w),w},v=function(t){delete _[t]},h?o=function(t){m.nextTick(I(t))}:b&&b.now?o=function(t){b.now(I(t))}:g&&!d?(i=new g,a=i.port2,i.port1.onmessage=E,o=l(a.postMessage,a,1)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!u(C)?(o=C,s.addEventListener("message",E,!1)):o=S in p("script")?function(t){f.appendChild(p("script"))[S]=function(){f.removeChild(this),O(t)}}:function(t){setTimeout(I(t),0)}),t.exports={set:y,clear:v}},"2d00":function(t,e,n){var r,o,i=n("da84"),a=n("342f"),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l?(r=l.split("."),o=r[0]<4?1:r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(o=r[1]))),t.exports=o&&+o},"2d6f":function(t,e,n){},"2f62":function(t,e,n){"use strict";(function(t){
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function r(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:r});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,n.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}n.d(e,"b",(function(){return k}));var o="undefined"!==typeof window?window:"undefined"!==typeof t?t:{},i=o.__VUE_DEVTOOLS_GLOBAL_HOOK__;function a(t){i&&(t._devtoolHook=i,i.emit("vuex:init",t),i.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){i.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){i.emit("vuex:action",t,e)}),{prepend:!0}))}function s(t,e){return t.filter(e)[0]}function c(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var n=s(e,(function(e){return e.original===t}));if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach((function(n){r[n]=c(t[n],e)})),r}function u(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function l(t){return null!==t&&"object"===typeof t}function f(t){return t&&"function"===typeof t.then}function p(t,e){return function(){return t(e)}}var d=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},h={namespaced:{configurable:!0}};h.namespaced.get=function(){return!!this._rawModule.namespaced},d.prototype.addChild=function(t,e){this._children[t]=e},d.prototype.removeChild=function(t){delete this._children[t]},d.prototype.getChild=function(t){return this._children[t]},d.prototype.hasChild=function(t){return t in this._children},d.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},d.prototype.forEachChild=function(t){u(this._children,t)},d.prototype.forEachGetter=function(t){this._rawModule.getters&&u(this._rawModule.getters,t)},d.prototype.forEachAction=function(t){this._rawModule.actions&&u(this._rawModule.actions,t)},d.prototype.forEachMutation=function(t){this._rawModule.mutations&&u(this._rawModule.mutations,t)},Object.defineProperties(d.prototype,h);var y=function(t){this.register([],t,!1)};function v(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;v(t.concat(r),e.getChild(r),n.modules[r])}}y.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},y.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},y.prototype.update=function(t){v([],this.root,t)},y.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var o=new d(e,n);if(0===t.length)this.root=o;else{var i=this.get(t.slice(0,-1));i.addChild(t[t.length-1],o)}e.modules&&u(e.modules,(function(e,o){r.register(t.concat(o),e,n)}))},y.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},y.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var m;var g=function(t){var e=this;void 0===t&&(t={}),!m&&"undefined"!==typeof window&&window.Vue&&D(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new y(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new m,this._makeLocalGettersCache=Object.create(null);var o=this,i=this,s=i.dispatch,c=i.commit;this.dispatch=function(t,e){return s.call(o,t,e)},this.commit=function(t,e,n){return c.call(o,t,e,n)},this.strict=r;var u=this._modules.root.state;O(this,u,[],this._modules.root),S(this,u),n.forEach((function(t){return t(e)}));var l=void 0!==t.devtools?t.devtools:m.config.devtools;l&&a(this)},b={state:{configurable:!0}};function w(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function _(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;O(t,n,[],t._modules.root,!0),S(t,n,e)}function S(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,i={};u(o,(function(e,n){i[n]=p(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var a=m.config.silent;m.config.silent=!0,t._vm=new m({data:{$$state:e},computed:i}),m.config.silent=a,t.strict&&P(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),m.nextTick((function(){return r.$destroy()})))}function O(t,e,n,r,o){var i=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!i&&!o){var s=T(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit((function(){m.set(s,c,r.state)}))}var u=r.context=I(t,a,n);r.forEachMutation((function(e,n){var r=a+n;C(t,r,e,u)})),r.forEachAction((function(e,n){var r=e.root?n:a+n,o=e.handler||e;x(t,r,o,u)})),r.forEachGetter((function(e,n){var r=a+n;A(t,r,e,u)})),r.forEachChild((function(r,i){O(t,e,n.concat(i),r,o)}))}function I(t,e,n){var r=""===e,o={dispatch:r?t.dispatch:function(n,r,o){var i=j(n,r,o),a=i.payload,s=i.options,c=i.type;return s&&s.root||(c=e+c),t.dispatch(c,a)},commit:r?t.commit:function(n,r,o){var i=j(n,r,o),a=i.payload,s=i.options,c=i.type;s&&s.root||(c=e+c),t.commit(c,a,s)}};return Object.defineProperties(o,{getters:{get:r?function(){return t.getters}:function(){return E(t,e)}},state:{get:function(){return T(t.state,n)}}}),o}function E(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(o){if(o.slice(0,r)===e){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[o]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function C(t,e,n,r){var o=t._mutations[e]||(t._mutations[e]=[]);o.push((function(e){n.call(t,r.state,e)}))}function x(t,e,n,r){var o=t._actions[e]||(t._actions[e]=[]);o.push((function(e){var o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return f(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}function A(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function P(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function T(t,e){return e.reduce((function(t,e){return t[e]}),t)}function j(t,e,n){return l(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function D(t){m&&t===m||(m=t,r(m))}b.state.get=function(){return this._vm._data.$$state},b.state.set=function(t){0},g.prototype.commit=function(t,e,n){var r=this,o=j(t,e,n),i=o.type,a=o.payload,s=(o.options,{type:i,payload:a}),c=this._mutations[i];c&&(this._withCommit((function(){c.forEach((function(t){t(a)}))})),this._subscribers.slice().forEach((function(t){return t(s,r.state)})))},g.prototype.dispatch=function(t,e){var n=this,r=j(t,e),o=r.type,i=r.payload,a={type:o,payload:i},s=this._actions[o];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(a,n.state)}))}catch(u){0}var c=s.length>1?Promise.all(s.map((function(t){return t(i)}))):s[0](i);return new Promise((function(t,e){c.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,n.state)}))}catch(u){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(a,n.state,t)}))}catch(u){0}e(t)}))}))}},g.prototype.subscribe=function(t,e){return w(t,this._subscribers,e)},g.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return w(n,this._actionSubscribers,e)},g.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},g.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},g.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),O(this,this.state,t,this._modules.get(t),n.preserveState),S(this,this.state)},g.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=T(e.state,t.slice(0,-1));m.delete(n,t[t.length-1])})),_(this)},g.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},g.prototype.hotUpdate=function(t){this._modules.update(t),_(this,!0)},g.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(g.prototype,b);var k=U((function(t,e){var n={};return N(e).forEach((function(e){var r=e.key,o=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=z(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof o?o.call(this,e,n):e[o]},n[r].vuex=!0})),n})),L=U((function(t,e){var n={};return N(e).forEach((function(e){var r=e.key,o=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var i=z(this.$store,"mapMutations",t);if(!i)return;r=i.context.commit}return"function"===typeof o?o.apply(this,[r].concat(e)):r.apply(this.$store,[o].concat(e))}})),n})),R=U((function(t,e){var n={};return N(e).forEach((function(e){var r=e.key,o=e.val;o=t+o,n[r]=function(){if(!t||z(this.$store,"mapGetters",t))return this.$store.getters[o]},n[r].vuex=!0})),n})),M=U((function(t,e){var n={};return N(e).forEach((function(e){var r=e.key,o=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var i=z(this.$store,"mapActions",t);if(!i)return;r=i.context.dispatch}return"function"===typeof o?o.apply(this,[r].concat(e)):r.apply(this.$store,[o].concat(e))}})),n})),B=function(t){return{mapState:k.bind(null,t),mapGetters:R.bind(null,t),mapMutations:L.bind(null,t),mapActions:M.bind(null,t)}};function N(t){return F(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function F(t){return Array.isArray(t)||l(t)}function U(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function z(t,e,n){var r=t._modulesNamespaceMap[n];return r}function V(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var r=t.transformer;void 0===r&&(r=function(t){return t});var o=t.mutationTransformer;void 0===o&&(o=function(t){return t});var i=t.actionFilter;void 0===i&&(i=function(t,e){return!0});var a=t.actionTransformer;void 0===a&&(a=function(t){return t});var s=t.logMutations;void 0===s&&(s=!0);var u=t.logActions;void 0===u&&(u=!0);var l=t.logger;return void 0===l&&(l=console),function(t){var f=c(t.state);"undefined"!==typeof l&&(s&&t.subscribe((function(t,i){var a=c(i);if(n(t,f,a)){var s=Y(),u=o(t),p="mutation "+t.type+s;W(l,p,e),l.log("%c prev state","color: #9E9E9E; font-weight: bold",r(f)),l.log("%c mutation","color: #03A9F4; font-weight: bold",u),l.log("%c next state","color: #4CAF50; font-weight: bold",r(a)),H(l)}f=a})),u&&t.subscribeAction((function(t,n){if(i(t,n)){var r=Y(),o=a(t),s="action "+t.type+r;W(l,s,e),l.log("%c action","color: #03A9F4; font-weight: bold",o),H(l)}})))}}function W(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch(o){t.log(e)}}function H(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function Y(){var t=new Date;return" @ "+$(t.getHours(),2)+":"+$(t.getMinutes(),2)+":"+$(t.getSeconds(),2)+"."+$(t.getMilliseconds(),3)}function G(t,e){return new Array(e+1).join(t)}function $(t,e){return G("0",e-t.toString().length)+t}var X={Store:g,install:D,version:"3.6.2",mapState:k,mapMutations:L,mapGetters:R,mapActions:M,createNamespacedHelpers:B,createLogger:V};e["a"]=X}).call(this,n("c8ba"))},3015:function(t,e,n){},3211:function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.698 10.41a.76.76 0 000-1.067L8.155 7.78H14.852c2.752 0 4.94 2.07 4.587 4.516a9.134 9.134 0 01-.333 1.502.75.75 0 001.427.464c.18-.553.304-1.152.391-1.752.521-3.618-2.698-6.23-6.072-6.23H8.155L9.698 4.72a.76.76 0 000-1.067.74.74 0 00-1.054 0L5.832 6.498a.748.748 0 000 1.067l2.812 2.844a.74.74 0 001.054 0zm-5.13 1.36c-.37 2.406 1.797 4.449 4.534 4.449H15.845l-1.543-1.562a.76.76 0 010-1.066.74.74 0 011.055 0l2.812 2.844a.748.748 0 010 1.067l-2.813 2.845a.74.74 0 01-1.054 0 .76.76 0 010-1.067l1.543-1.561H9.102c-3.34 0-6.57-2.575-6.016-6.176.096-.625.237-1.25.443-1.827a.75.75 0 011.412.506 8.469 8.469 0 00-.373 1.549z"}})]))}}},3280:function(t,e,n){"use strict";var r=n("ebb5"),o=n("e58c"),i=r.aTypedArray,a=r.exportTypedArrayMethod;a("lastIndexOf",(function(t){return o.apply(i(this),arguments)}))},"335e":function(t){t.exports=JSON.parse('{"ui":{"viewer":{"context-menu":{"zoom":"放大","pan":"拖动","scroll":"滚动","open-mpr":"多平面重建"},"menu":{"cross-ref":"交叉引用","toggle-fullscreen":"全屏幕","toggle-annotation":"切换注释可见性","toggle-slice-looping":"切换切片循环","scroll":"滚动","zoom":"放大","translate":"拖动","contrast":"对比","reset":"重设","ruler":"尺子","protractor":"量角器","layout-1-1":"1个单元格","layout-1-2":"两个垂直单元格","layout-2-1":"两个水平单元格","layout-1-3":"三个垂直单元格","layout-3-1":"三个水平单元格","layout-2-2":"四个单元格","sync-series":"同步系列","toggle-menu":"目录","open-mpr":"启用 MPR 模式","windowing":{"title":"窗口设置","options":{"default":"预设"},"actions":{"invert":"倒置"}},"advanced":{"title":"进阶设定","options":{"imagery":{"title":"Imaging","options":{"human":"人类","vet":"动物"}}}}}},"modals":{"import-file-popin":{"title":"上传档案"},"input-from-url":{"inputLabel":"您的链接","title":"从链接导入","submitButton":"导入"},"toManyFiles":{"title":"警告!","body":"您正在尝试上传大量文件，可能会减慢应用程序的速度。"},"generic":{"cancel":"取消","accept":"OK"}},"disclaimer":{"title":"IMAIOS DICOM Viewer 尚未经过临床使用测试或认证。 它未被批准为医疗器械，不能用于医学影像的初步诊断。","accept":"同意"},"use-app":{"title":"使用IDV的app版本会更快。","button":"使用app","dismiss":"关闭"},"internet-explorer":{"upgrade-message":{"text":"请使用其他浏览器，例如 {edge}、{chrome} 或 {firefox}。","edge":"Microsoft Edge","chrome":"Google Chrome","firefox":"Firefox"},"features-not-available":"Internet Explorer 不支持某些功能","dismiss":"关闭"}},"voter":{"set-slice-index":{"no-scroll-when-only-one-slice":"此系列只有一张图片","begin-series":"系列的开始","end-series":"系列的最后"}},"idv-placeholder":{"main-text":"将文件拖放到此处","supported-files-format":"支持的格式：JPEG、DICOM 或 ZIP","text-between-bar":"或","import-file":"上传一个档案","import-from-url":"从链接导入","import-from-dropbox":"从dropbox导入"},"features":{"v-loading-feedback":{"label":"载入中 ..."},"v-import-demo-case":{"label":"打开示范例子"},"v-top-bar":{"cancel":"取消","save":"保存"},"v-presentation-mode":{"label":"切换演示模式","title":"演示模式"},"channel-explorer":{"title":"选择您要发布案例的相册","submit":"发布","back":"返回"}},"annotation":{"stroke":"线条粗细","color":"颜色"},"action":{"select_album":"选择您要发布案例的相册"},"error":{"series-has-no-files":"加载系列“{seriesName}”时出现问题。 请稍后再试。如果问题依然存在，请联系我们的支援团队。"}}')},"338e":function(t,e,n){"use strict";n("b38f")},"342f":function(t,e,n){var r=n("d066");t.exports=r("navigator","userAgent")||""},3486:function(t,e,n){"use strict";n("9c0f")},"34e2":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.68 13.148a.75.75 0 011.056 1.064l-3.22 3.195a.75.75 0 01-1.059-.002L8.262 14.21a.75.75 0 011.06-1.06l1.91 1.91V4.367a.75.75 0 011.5 0v10.712l1.947-1.931z"}}),n("path",{attrs:{d:"M3.719 20.844h-.75c0 .414.336.75.75.75v-.75zm16.562 0v.75a.75.75 0 00.75-.75h-.75zm.75-3.219a.75.75 0 10-1.5 0h1.5zm-16.562 0a.75.75 0 00-1.5 0h1.5zm-.75 3.969H20.28v-1.5H3.72v1.5zm17.312-.75v-3.219h-1.5v3.219h1.5zm-16.562 0v-3.219h-1.5v3.219h1.5z"}})]))}}},"350e":function(t,e,n){"use strict";n("cd7e")},"35a1":function(t,e,n){var r=n("f5df"),o=n("dc4a"),i=n("3f8c"),a=n("b622"),s=a("iterator");t.exports=function(t){if(void 0!=t)return o(t,s)||o(t,"@@iterator")||i[r(t)]}},"36a8":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 42 41",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{d:"M41.166 21.47c0-3.224-.835-6.258-2.276-8.913C45.148-1.476 32.253.61 31.494.61c-2.655.53-5.31 1.384-7.585 2.465-8.724-.104-16.31 4.551-18.775 14.223 4.552-5.12 7.775-7.206 9.672-7.965-.398.36-.797.74-1.195 1.119-3.034 3.034-5.5 6.068-7.585 9.292-1.612 2.845-3.414 5.31-4.362 8.534-5.12 18.585 10.999 10.81 13.275 9.482 2.465 1.214 5.12 1.877 8.154 1.877 7.965 0 14.792-5.12 17.257-12.137H30.68c-4.552 7.207-15.361 3.983-15.74-3.792h26.17c.098-.778.151-1.555.151-2.276l-.094.038zM37.752 3.454c1.574 1.062 2.845 2.655.664 8.344-2.086-3.413-5.12-6.068-8.913-7.396 1.688-.815 5.879-2.465 8.344-.948h-.095zM4.186 37.78c-1.29-1.309-1.517-4.552 1.328-10.43 1.422 4.172 4.361 7.585 7.964 9.671-1.84 1.005-6.637 3.224-9.292.626v.133zm10.62-18.964c.146-4.172 3.793-7.586 8.344-7.586 4.551 0 8.155 3.414 8.344 7.586H14.806z"}})]))}}},"37e8":function(t,e,n){var r=n("83ab"),o=n("9bf2"),i=n("825a"),a=n("df75");t.exports=r?Object.defineProperties:function(t,e){i(t);var n,r=a(e),s=r.length,c=0;while(s>c)o.f(t,n=r[c++],e[n]);return t}},"37f9":function(t,e,n){"use strict";n("eadb")},3932:function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{d:"M20.75 20.009a.25.25 0 00.25-.25v-.5a.25.25 0 00-.25-.25H3.25a.25.25 0 00-.25.25v.5c0 .138.112.25.25.25h17.5zM20.5 12.997a.5.5 0 00.5-.5v-2a.5.5 0 00-.5-.5h-17a.5.5 0 00-.5.5v2a.5.5 0 00.5.5h17zM21 7.485a.5.5 0 01-.5.5h-17a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5h17a.5.5 0 01.5.5v3zM20.75 16.978a.25.25 0 00.25-.25v-1.5a.25.25 0 00-.25-.25H3.25a.25.25 0 00-.25.25v1.5c0 .138.112.25.25.25h17.5z"}})]))}}},"3a69":function(t){t.exports=JSON.parse('{"ui":{"viewer":{"context-menu":{"zoom":"Agrandir / Réduire","pan":"Déplacer","scroll":"Défiler","open-mpr":"Activer le mode MPR"},"menu":{"cross-ref":"Cross references","toggle-fullscreen":"Plein écran","toggle-annotation":"Afficher les annotations","toggle-slice-looping":"Activer/Désactiver le défilement infini","scroll":"Scroll","zoom":"Zoom","translate":"Déplacement","contrast":"Contrast","reset":"Réinitialiser","ruler":"Règle","protractor":"Rapporteur","layout-1-1":"Une cellule","layout-1-2":"Deux cellules verticales","layout-2-1":"Deux cellules horizontales","layout-1-3":"Trois cellules verticales","layout-3-1":"Trois cellules horizontales","layout-2-2":"Quatre cellules","sync-series":"Synchroniser les séries","toggle-menu":"Menu","open-mpr":"Activer le mode MPR","windowing":{"title":"Fenêtrage","options":{"default":"Défaut"},"actions":{"invert":"Inverser"}},"advanced":{"title":"Parametres avancés","options":{"imagery":{"title":"Imagerie","options":{"human":"Humain","vet":"Vétérinaire"}}}}}},"modals":{"import-file-popin":{"title":"Importer des fichiers"},"input-from-url":{"inputLabel":"Votre URL","title":"Charger depuis une URL","submitButton":"Charger"},"toManyFiles":{"title":"Attention !","body":"Vous chargez beaucoup de fichiers simultanément, cela peut mener à des ralentissements."},"generic":{"cancel":"Annuler","accept":"OK"}},"disclaimer":{"title":"IMAIOS DICOM Viewer n\'a pas été testé ou homologué pour un usage médical. Il n\'est PAS approuvé en tant que dispositif médical. Il ne peut être utilisé à des fins de diagnostic en imagerie médicale.","accept":"J\'ai compris"},"use-app":{"title":"IDV sera plus performant si vous utilisez notre application.","button":"Utiliser l’application","dismiss":"Ignorer"},"internet-explorer":{"upgrade-message":{"text":"Veuillez utiliser un autre navigateur tel que {edge}, {chrome} ou {firefox}.","edge":"Microsoft Edge","chrome":"Google Chrome","firefox":"Firefox"},"features-not-available":"Certaines fonctionnalités ne sont pas supportées sur Internet Explorer","dismiss":"Ignorer"}},"voter":{"set-slice-index":{"no-scroll-when-only-one-slice":"Cette série ne comporte qu\'une image","begin-series":"Début de la série","end-series":"Fin de la série"}},"idv-placeholder":{"main-text":"Glisser et déposer vos fichiers ici","supported-files-format":"Format supportés JPEG, DICOM ou ZIP","text-between-bar":"ou","import-file":"Importer un fichier","import-from-url":"Importer depuis une url","import-from-dropbox":"Importer depuis dropbox"},"features":{"v-loading-feedback":{"label":"Chargement en cours ..."},"v-import-demo-case":{"label":"Ouvrir un cas de démonstration"},"v-top-bar":{"cancel":"Annuler","save":"Enregistrer"},"v-presentation-mode":{"label":"Mode présentation","title":"Mode présentation"},"channel-explorer":{"title":"Choississez l’album dans lequel vous souhaitez publier votre cas","submit":"Publier","back":"Retour"}},"annotation":{"stroke":"Epaisseur de trait","color":"Couleur"},"action":{"select_album":"Choississez l’album dans lequel vous souhaitez publier votre cas"},"error":{"series-has-no-files":"Nous avons rencontré un problème lors du chargement de la série \\"{seriesName}\\". Réessayer plus tard et si le problème persiste contacter notre équipe de support."}}')},"3a7b":function(t,e,n){"use strict";var r=n("ebb5"),o=n("b727").findIndex,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("findIndex",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},"3abf":function(t,e,n){},"3b17":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{stroke:"currentColor","stroke-width":"2","stroke-linecap":"round",d:"M12.512 8.013h-7.23"}}),n("path",{attrs:{d:"M8.082 12.588l-4.59-4.586 4.586-4.59",stroke:"currentColor","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.376 13.295a1 1 0 001.413-1.415L5.92 9.013h6.593a1 1 0 100-2H5.894L8.785 4.12A1 1 0 007.37 2.706l-4.585 4.59a1 1 0 000 1.414l4.59 4.585z",fill:"currentColor"}})]))}}},"3bbe":function(t,e,n){var r=n("1626");t.exports=function(t){if("object"===typeof t||r(t))return t;throw TypeError("Can't set "+String(t)+" as a prototype")}},"3c5d":function(t,e,n){"use strict";var r=n("ebb5"),o=n("50c4"),i=n("182d"),a=n("7b0b"),s=n("d039"),c=r.aTypedArray,u=r.exportTypedArrayMethod,l=s((function(){new Int8Array(1).set({})}));u("set",(function(t){c(this);var e=i(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(t),s=o(r.length),u=0;if(s+e>n)throw RangeError("Wrong length");while(u<s)this[e+u]=r[u++]}),l)},"3ca3":function(t,e,n){"use strict";var r=n("6547").charAt,o=n("577e"),i=n("69f3"),a=n("7dd0"),s="String Iterator",c=i.set,u=i.getterFor(s);a(String,"String",(function(t){c(this,{type:s,string:o(t),index:0})}),(function(){var t,e=u(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},"3cbd":function(t,e,n){},"3ef7":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.753 3.742c0-.967.783-1.75 1.75-1.75h5.265c.966 0 1.75.783 1.75 1.75v16.511a1.75 1.75 0 01-1.75 1.75H9.503a1.75 1.75 0 01-1.75-1.75V3.742zm1.75-.25a.25.25 0 00-.25.25v16.511c0 .138.112.25.25.25h5.265a.25.25 0 00.25-.25V3.742a.25.25 0 00-.25-.25H9.503z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.79 5.464a.5.5 0 01.5-.5h2.17a.5.5 0 010 1h-2.17a.5.5 0 01-.5-.5zM13.562 8.634a.5.5 0 01.5-.5h1.706a.5.5 0 010 1h-1.706a.5.5 0 01-.5-.5zM12.79 11.858a.5.5 0 01.5-.5h2.17a.5.5 0 010 1h-2.17a.5.5 0 01-.5-.5zM13.562 15.028a.5.5 0 01.5-.5h1.706a.5.5 0 110 1h-1.706a.5.5 0 01-.5-.5zM12.79 18.186a.5.5 0 01.5-.5h2.17a.5.5 0 110 1h-2.17a.5.5 0 01-.5-.5zM11.368 1.992v20.011h-1.5V1.992h1.5z"}})]))}}},"3f8c":function(t,e){t.exports={}},"3fcc":function(t,e,n){"use strict";var r=n("ebb5"),o=n("b727").map,i=n("b6b7"),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("map",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(i(t))(e)}))}))},"408a":function(t,e){var n=1..valueOf;t.exports=function(t){return n.call(t)}},"428f":function(t,e,n){var r=n("da84");t.exports=r},4362:function(t,e,n){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,r="/";e.cwd=function(){return r},e.chdir=function(e){t||(t=n("df7c")),r=t.resolve(e,r)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"43b3":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("825a"),a=n("4acb"),s=n("8b85"),c=n("2266");r({target:"Map",proto:!0,real:!0,forced:o},{includes:function(t){return c(a(i(this)),(function(e,n,r){if(s(n,t))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},"44ad":function(t,e,n){var r=n("d039"),o=n("c6b6"),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},"44be":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{d:"M3 7.21l3.86 3.86L13 4.93",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]))}}},"44d2":function(t,e,n){var r=n("b622"),o=n("7c73"),i=n("9bf2"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),t.exports=function(t){s[a][t]=!0}},"44de":function(t,e,n){var r=n("da84");t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},"44e7":function(t,e,n){var r=n("861d"),o=n("c6b6"),i=n("b622"),a=i("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},4501:function(t,e,n){},"466d":function(t,e,n){"use strict";var r=n("d784"),o=n("825a"),i=n("50c4"),a=n("577e"),s=n("1d80"),c=n("dc4a"),u=n("8aa5"),l=n("14c3");r("match",(function(t,e,n){return[function(e){var n=s(this),r=void 0==e?void 0:c(e,t);return r?r.call(e,n):new RegExp(e)[t](a(n))},function(t){var r=o(this),s=a(t),c=n(e,r,s);if(c.done)return c.value;if(!r.global)return l(r,s);var f=r.unicode;r.lastIndex=0;var p,d=[],h=0;while(null!==(p=l(r,s))){var y=a(p[0]);d[h]=y,""===y&&(r.lastIndex=u(s,i(r.lastIndex),f)),h++}return 0===h?null:d}]}))},"477f":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("825a"),a=n("0366"),s=n("4acb"),c=n("2266");r({target:"Map",proto:!0,real:!0,forced:o},{every:function(t){var e=i(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return!c(n,(function(t,n,o){if(!r(n,t,e))return o()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},4840:function(t,e,n){var r=n("825a"),o=n("5087"),i=n("b622"),a=i("species");t.exports=function(t,e){var n,i=r(t).constructor;return void 0===i||void 0==(n=r(i)[a])?e:o(n)}},"485a":function(t,e,n){var r=n("1626"),o=n("861d");t.exports=function(t,e){var n,i;if("string"===e&&r(n=t.toString)&&!o(i=n.call(t)))return i;if(r(n=t.valueOf)&&!o(i=n.call(t)))return i;if("string"!==e&&r(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},4930:function(t,e,n){var r=n("2d00"),o=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"498a":function(t,e,n){"use strict";var r=n("23e7"),o=n("58a8").trim,i=n("c8d2");r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return o(this)}})},"4a2e":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("d066"),a=n("59ed"),s=n("825a"),c=n("4840"),u=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{symmetricDifference:function(t){var e=s(this),n=new(c(e,i("Set")))(e),r=a(n["delete"]),o=a(n.add);return u(t,(function(t){r.call(n,t)||o.call(n,t)})),n}})},"4acb":function(t,e){t.exports=function(t){return Map.prototype.entries.call(t)}},"4d30":function(t,e,n){},"4d64":function(t,e,n){var r=n("fc6a"),o=n("50c4"),i=n("23cb"),a=function(t){return function(e,n,a){var s,c=r(e),u=o(c.length),l=i(a,u);if(t&&n!=n){while(u>l)if(s=c[l++],s!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"4de4":function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").filter,i=n("1dde"),a=i("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var r=n("0366"),o=n("7b0b"),i=n("9bdd"),a=n("e95a"),s=n("68ee"),c=n("50c4"),u=n("8418"),l=n("9a1f"),f=n("35a1");t.exports=function(t){var e=o(t),n=s(this),p=arguments.length,d=p>1?arguments[1]:void 0,h=void 0!==d;h&&(d=r(d,p>2?arguments[2]:void 0,2));var y,v,m,g,b,w,_=f(e),S=0;if(!_||this==Array&&a(_))for(y=c(e.length),v=n?new this(y):Array(y);y>S;S++)w=h?d(e[S],S):e[S],u(v,S,w);else for(g=l(e,_),b=g.next,v=n?new this:[];!(m=b.call(g)).done;S++)w=h?i(g,d,[m.value,S],!0):m.value,u(v,S,w);return v.length=S,v}},"4e16":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("825a"),a=n("0366"),s=n("4acb"),c=n("2266");r({target:"Map",proto:!0,real:!0,forced:o},{some:function(t){var e=i(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(t,n,o){if(r(n,t,e))return o()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},"4e82":function(t,e,n){"use strict";var r=n("23e7"),o=n("59ed"),i=n("7b0b"),a=n("50c4"),s=n("577e"),c=n("d039"),u=n("addb"),l=n("a640"),f=n("04d1"),p=n("d998"),d=n("2d00"),h=n("512c"),y=[],v=y.sort,m=c((function(){y.sort(void 0)})),g=c((function(){y.sort(null)})),b=l("sort"),w=!c((function(){if(d)return d<70;if(!(f&&f>3)){if(p)return!0;if(h)return h<603;var t,e,n,r,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)y.push({k:e+r,v:n})}for(y.sort((function(t,e){return e.v-t.v})),r=0;r<y.length;r++)e=y[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}})),_=m||!g||!b||!w,S=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:s(e)>s(n)?1:-1}};r({target:"Array",proto:!0,forced:_},{sort:function(t){void 0!==t&&o(t);var e=i(this);if(w)return void 0===t?v.call(e):v.call(e,t);var n,r,s=[],c=a(e.length);for(r=0;r<c;r++)r in e&&s.push(e[r]);s=u(s,S(t)),n=s.length,r=0;while(r<n)e[r]=s[r++];while(r<c)delete e[r++];return e}})},"4ec9":function(t,e,n){"use strict";var r=n("6d61"),o=n("6566");t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},"4fad":function(t,e,n){var r=n("23e7"),o=n("6f53").entries;r({target:"Object",stat:!0},{entries:function(t){return o(t)}})},"4fbc":function(t,e,n){},5087:function(t,e,n){var r=n("68ee"),o=n("0d51");t.exports=function(t){if(r(t))return t;throw TypeError(o(t)+" is not a constructor")}},"50c4":function(t,e,n){var r=n("a691"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},"512c":function(t,e,n){var r=n("342f"),o=r.match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},5135:function(t,e,n){var r=n("7b0b"),o={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return o.call(r(t),e)}},5166:function(t,e,n){},5257:function(e,n){e.exports=t},5319:function(t,e,n){"use strict";var r=n("d784"),o=n("d039"),i=n("825a"),a=n("1626"),s=n("a691"),c=n("50c4"),u=n("577e"),l=n("1d80"),f=n("8aa5"),p=n("dc4a"),d=n("0cb2"),h=n("14c3"),y=n("b622"),v=y("replace"),m=Math.max,g=Math.min,b=function(t){return void 0===t?t:String(t)},w=function(){return"$0"==="a".replace(/./,"$0")}(),_=function(){return!!/./[v]&&""===/./[v]("a","$0")}(),S=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));r("replace",(function(t,e,n){var r=_?"$":"$0";return[function(t,n){var r=l(this),o=void 0==t?void 0:p(t,v);return o?o.call(t,r,n):e.call(u(r),t,n)},function(t,o){var l=i(this),p=u(t);if("string"===typeof o&&-1===o.indexOf(r)&&-1===o.indexOf("$<")){var y=n(e,l,p,o);if(y.done)return y.value}var v=a(o);v||(o=u(o));var w=l.global;if(w){var _=l.unicode;l.lastIndex=0}var S=[];while(1){var O=h(l,p);if(null===O)break;if(S.push(O),!w)break;var I=u(O[0]);""===I&&(l.lastIndex=f(p,c(l.lastIndex),_))}for(var E="",C=0,x=0;x<S.length;x++){O=S[x];for(var A=u(O[0]),P=m(g(s(O.index),p.length),0),T=[],j=1;j<O.length;j++)T.push(b(O[j]));var D=O.groups;if(v){var k=[A].concat(T,P,p);void 0!==D&&k.push(D);var L=u(o.apply(void 0,k))}else L=d(A,p,P,T,D,o);P>=C&&(E+=p.slice(C,P)+L,C=P+A.length)}return E+p.slice(C)}]}),!S||!w||_)},"53cf":function(t,e,n){},"54ec":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("825a"),a=n("59ed"),s=n("4acb"),c=n("2266");r({target:"Map",proto:!0,real:!0,forced:o},{reduce:function(t){var e=i(this),n=s(e),r=arguments.length<2,o=r?void 0:arguments[1];if(a(t),c(n,(function(n,i){r?(r=!1,o=i):o=t(o,i,n,e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty map with no initial value");return o}})},5512:function(t,e,n){"use strict";n("a128")},"567a":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("825a"),a=n("4acb"),s=n("2266");r({target:"Map",proto:!0,real:!0,forced:o},{keyOf:function(t){return s(a(i(this)),(function(e,n,r){if(n===t)return r(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},5692:function(t,e,n){var r=n("c430"),o=n("c6cd");(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.18.1",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,n){var r=n("d066"),o=n("241c"),i=n("7418"),a=n("825a");t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},"577e":function(t,e,n){var r=n("f5df");t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)}},5860:function(t,e){t.exports=function(t){return Set.prototype.values.call(t)}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),o=n("577e"),i=n("5899"),a="["+i+"]",s=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),u=function(t){return function(e){var n=o(r(e));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},5935:function(t,e,n){},"59ed":function(t,e,n){var r=n("1626"),o=n("0d51");t.exports=function(t){if(r(t))return t;throw TypeError(o(t)+" is not a function")}},"5a1e":function(t,e,n){},"5a34":function(t,e,n){var r=n("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5b81":function(t,e,n){"use strict";var r=n("23e7"),o=n("1d80"),i=n("1626"),a=n("44e7"),s=n("577e"),c=n("dc4a"),u=n("ad6d"),l=n("0cb2"),f=n("b622"),p=n("c430"),d=f("replace"),h=RegExp.prototype,y=Math.max,v=function(t,e,n){return n>t.length?-1:""===e?n:t.indexOf(e,n)};r({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,f,m,g,b,w,_,S,O=o(this),I=0,E=0,C="";if(null!=t){if(n=a(t),n&&(r=s(o("flags"in h?t.flags:u.call(t))),!~r.indexOf("g")))throw TypeError("`.replaceAll` does not allow non-global regexes");if(f=c(t,d),f)return f.call(t,O,e);if(p&&n)return s(O).replace(t,e)}m=s(O),g=s(t),b=i(e),b||(e=s(e)),w=g.length,_=y(1,w),I=v(m,g,0);while(-1!==I)S=b?s(e(g,I,m)):l(g,m,I,[],void 0,e),C+=m.slice(E,I)+S,E=I+w,I=v(m,g,I+_);return E<m.length&&(C+=m.slice(E)),C}})},"5bd8":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{d:"M12.013 3.047c.199 0 .39.079.53.22l2.606 2.607a.75.75 0 11-1.061 1.06L12.763 5.61v5.621h5.631l-1.326-1.327a.75.75 0 011.06-1.06l2.606 2.607a.75.75 0 010 1.06l-2.605 2.608a.75.75 0 11-1.062-1.06l1.327-1.328h-5.631v5.661l1.325-1.326a.75.75 0 011.06 1.06l-2.605 2.608a.75.75 0 01-1.06 0l-2.606-2.607a.75.75 0 011.06-1.06l1.326 1.325v-5.66H5.607l1.326 1.327a.75.75 0 01-1.061 1.06L3.266 12.51a.75.75 0 010-1.06l2.606-2.607a.75.75 0 111.061 1.06L5.607 11.23h5.656V5.61L9.938 6.935a.75.75 0 11-1.061-1.06l2.605-2.608a.75.75 0 01.53-.22z"}})]))}}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5cc6":function(t,e,n){var r=n("74e8");r("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"5e77":function(t,e,n){var r=n("83ab"),o=n("5135"),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},"5e89":function(t,e,n){var r=n("861d"),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},"5f69":function(t){t.exports=JSON.parse('{"ui":{"viewer":{"context-menu":{"zoom":"Zoom","pan":"Deslocar","scroll":"Percorrer","open-mpr":"MPR"},"menu":{"cross-ref":"Linhas de referência","toggle-fullscreen":"Tela cheia","toggle-annotation":"Mostrar anotações","toggle-slice-looping":"Ativar leitura automática das séries","scroll":"Percorrer","zoom":"Zoom","translate":"Deslocar","contrast":"Contraste","reset":"Reiniciar","ruler":"Régua","protractor":"Transferidor","layout-1-1":"Uma célula","layout-1-2":"Duas células verticais","layout-2-1":"Duas células horizontais","layout-1-3":"Três células verticais","layout-3-1":"Três células horizontais","layout-2-2":"Quatro células","sync-series":"Sincronizar séries","toggle-menu":"Menu","open-mpr":"Ativar modo MPR","windowing":{"title":"Windowing","options":{"default":"Automático"},"actions":{"invert":"Inverter"}},"advanced":{"title":"Configurações avançadas","options":{"imagery":{"title":"Imagens médicas","options":{"human":"Humano","vet":"Veterinária"}}}}}},"modals":{"import-file-popin":{"title":"Importar arquivos"},"input-from-url":{"inputLabel":"Sua URL","title":"Importar a partir de um URL","submitButton":"Importar"},"toManyFiles":{"title":"Atenção!","body":"Você está tentando carregar muitos arquivos ao mesmo tempo, o aplicativo pode ficar lento."},"generic":{"cancel":"Cancelar","accept":"OK"}},"disclaimer":{"title":"IMAIOS DICOM Viewer não foi testado ou certificado para uso clínico. NÃO é aprovado como um dispositivo médico. Não pode ser usado para fins de diagnóstico em imagens médicas.","accept":"Aceitar"},"use-app":{"title":"IDV é mais rápido no aplicativo.","button":"Continuar no aplicativo","dismiss":"Fechar"},"internet-explorer":{"upgrade-message":{"text":"Por favor, use outro navegador como {edge}, {chrome} ou {firefox}.","edge":"Microsoft Edge","chrome":"Google Chrome","firefox":"Firefox"},"features-not-available":"Alguns recursos são incompatíveis com Internet Explorer","dismiss":"Fechar"}},"voter":{"set-slice-index":{"no-scroll-when-only-one-slice":"Esta série só contém uma imagem","begin-series":"Início da série","end-series":"Fim da série"}},"idv-placeholder":{"main-text":"Arraste e solte os seus arquivos aqui","supported-files-format":"Formatos compatíveis: JPEG, DICOM ou ZIP","text-between-bar":"ou","import-file":"Importar arquivo","import-from-url":"Importar a partir de um URL","import-from-dropbox":"Importar de Dropbox"},"features":{"v-loading-feedback":{"label":"Carregando ..."},"v-import-demo-case":{"label":"Abrir um caso demonstrativo"},"v-top-bar":{"cancel":"Cancelar","save":"Salvar"},"v-presentation-mode":{"label":"Ativar o modo de apresentação","title":"Modo de apresentação"},"channel-explorer":{"title":"Escolher o álbum para publicar o seu caso","submit":"Publicar","back":"Voltar"}},"annotation":{"stroke":"Espessura do traço","color":"Cor"},"action":{"select_album":"Selecione o álbum no qual você deseja publicar o seu caso"},"error":{"series-has-no-files":"Ocorreu um problema ao carregar a série \\"{seriesName}\\". Por favor, tente novamente mais tarde e, se o problema persistir, entre em contato com a nossa equipe de suporte."}}')},"5f96":function(t,e,n){"use strict";var r=n("ebb5"),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=[].join;i("join",(function(t){return a.apply(o(this),arguments)}))},"5fb2":function(t,e,n){"use strict";var r=2147483647,o=36,i=1,a=26,s=38,c=700,u=72,l=128,f="-",p=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,h="Overflow: input needs wider integers to process",y=o-i,v=Math.floor,m=String.fromCharCode,g=function(t){var e=[],n=0,r=t.length;while(n<r){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--)}else e.push(o)}return e},b=function(t){return t+22+75*(t<26)},w=function(t,e,n){var r=0;for(t=n?v(t/c):t>>1,t+=v(t/e);t>y*a>>1;r+=o)t=v(t/y);return v(r+(y+1)*t/(t+s))},_=function(t){var e=[];t=g(t);var n,s,c=t.length,p=l,d=0,y=u;for(n=0;n<t.length;n++)s=t[n],s<128&&e.push(m(s));var _=e.length,S=_;_&&e.push(f);while(S<c){var O=r;for(n=0;n<t.length;n++)s=t[n],s>=p&&s<O&&(O=s);var I=S+1;if(O-p>v((r-d)/I))throw RangeError(h);for(d+=(O-p)*I,p=O,n=0;n<t.length;n++){if(s=t[n],s<p&&++d>r)throw RangeError(h);if(s==p){for(var E=d,C=o;;C+=o){var x=C<=y?i:C>=y+a?a:C-y;if(E<x)break;var A=E-x,P=o-x;e.push(m(b(x+A%P))),E=v(A/P)}e.push(m(b(E))),y=w(d,I,S==_),d=0,++S}}++d,++p}return e.join("")};t.exports=function(t){var e,n,r=[],o=t.toLowerCase().replace(d,".").split(".");for(e=0;e<o.length;e++)n=o[e],r.push(p.test(n)?"xn--"+_(n):n);return r.join(".")}},"605d":function(t,e,n){var r=n("c6b6"),o=n("da84");t.exports="process"==r(o.process)},6062:function(t,e,n){"use strict";var r=n("6d61"),o=n("6566");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},6069:function(t,e){t.exports="object"==typeof window},"60bd":function(t,e,n){"use strict";var r=n("da84"),o=n("5e77").PROPER,i=n("ebb5"),a=n("e260"),s=n("b622"),c=s("iterator"),u=r.Uint8Array,l=a.values,f=a.keys,p=a.entries,d=i.aTypedArray,h=i.exportTypedArrayMethod,y=u&&u.prototype[c],v=!!y&&"values"===y.name,m=function(){return l.call(d(this))};h("entries",(function(){return p.call(d(this))})),h("keys",(function(){return f.call(d(this))})),h("values",m,o&&!v),h(c,m,o&&!v)},"60da":function(t,e,n){"use strict";var r=n("83ab"),o=n("d039"),i=n("df75"),a=n("7418"),s=n("d1e7"),c=n("7b0b"),u=n("44ad"),l=Object.assign,f=Object.defineProperty;t.exports=!l||o((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||i(l({},e)).join("")!=o}))?function(t,e){var n=c(t),o=arguments.length,l=1,f=a.f,p=s.f;while(o>l){var d,h=u(arguments[l++]),y=f?i(h).concat(f(h)):i(h),v=y.length,m=0;while(v>m)d=y[m++],r&&!p.call(h,d)||(n[d]=h[d])}return n}:l},"621a":function(t,e,n){"use strict";var r=n("da84"),o=n("83ab"),i=n("a981"),a=n("5e77"),s=n("9112"),c=n("e2cc"),u=n("d039"),l=n("19aa"),f=n("a691"),p=n("50c4"),d=n("0b25"),h=n("77a7"),y=n("e163"),v=n("d2bb"),m=n("241c").f,g=n("9bf2").f,b=n("81d5"),w=n("d44e"),_=n("69f3"),S=a.PROPER,O=a.CONFIGURABLE,I=_.get,E=_.set,C="ArrayBuffer",x="DataView",A="prototype",P="Wrong length",T="Wrong index",j=r[C],D=j,k=r[x],L=k&&k[A],R=Object.prototype,M=r.RangeError,B=h.pack,N=h.unpack,F=function(t){return[255&t]},U=function(t){return[255&t,t>>8&255]},z=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},V=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},W=function(t){return B(t,23,4)},H=function(t){return B(t,52,8)},Y=function(t,e){g(t[A],e,{get:function(){return I(this)[e]}})},G=function(t,e,n,r){var o=d(n),i=I(t);if(o+e>i.byteLength)throw M(T);var a=I(i.buffer).bytes,s=o+i.byteOffset,c=a.slice(s,s+e);return r?c:c.reverse()},$=function(t,e,n,r,o,i){var a=d(n),s=I(t);if(a+e>s.byteLength)throw M(T);for(var c=I(s.buffer).bytes,u=a+s.byteOffset,l=r(+o),f=0;f<e;f++)c[u+f]=l[i?f:e-f-1]};if(i){var X=S&&j.name!==C;if(u((function(){j(1)}))&&u((function(){new j(-1)}))&&!u((function(){return new j,new j(1.5),new j(NaN),X&&!O})))X&&O&&s(j,"name",C);else{D=function(t){return l(this,D),new j(d(t))};for(var K,q=D[A]=j[A],Z=m(j),J=0;Z.length>J;)(K=Z[J++])in D||s(D,K,j[K]);q.constructor=D}v&&y(L)!==R&&v(L,R);var Q=new k(new D(2)),tt=L.setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||c(L,{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},{unsafe:!0})}else D=function(t){l(this,D,C);var e=d(t);E(this,{bytes:b.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},k=function(t,e,n){l(this,k,x),l(t,D,x);var r=I(t).byteLength,i=f(e);if(i<0||i>r)throw M("Wrong offset");if(n=void 0===n?r-i:p(n),i+n>r)throw M(P);E(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},o&&(Y(D,"byteLength"),Y(k,"buffer"),Y(k,"byteLength"),Y(k,"byteOffset")),c(k[A],{getInt8:function(t){return G(this,1,t)[0]<<24>>24},getUint8:function(t){return G(this,1,t)[0]},getInt16:function(t){var e=G(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=G(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return V(G(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return V(G(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return N(G(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return N(G(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){$(this,1,t,F,e)},setUint8:function(t,e){$(this,1,t,F,e)},setInt16:function(t,e){$(this,2,t,U,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){$(this,2,t,U,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){$(this,4,t,z,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){$(this,4,t,z,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){$(this,4,t,W,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){$(this,8,t,H,e,arguments.length>2?arguments[2]:void 0)}});w(D,C),w(k,x),t.exports={ArrayBuffer:D,DataView:k}},"649e":function(t,e,n){"use strict";var r=n("ebb5"),o=n("b727").some,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("some",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},"64d4":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({width:"24",height:"24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.633 3.21a1.534 1.534 0 00-2.09.325l-7.155 9.898c-.817.321-1.986.935-2.431 1.925-.287.639-.365 1.198-.442 1.75-.102.728-.202 1.444-.776 2.317l-.011.017a6.24 6.24 0 01-.453.596c-.273.32-.105.84.314.88.266.025.528.044.786.058l.068.004c2.487.124 4.57-.303 5.753-1.79.743-.93 1.003-2.85 1.079-3.61l5.812-10.372.003-.003a1.535 1.535 0 00-.445-1.987l-.012-.009zm-6.939 12.907l-1.828-1.26a5.978 5.978 0 00-.346.154c-.658.317-1.064.671-1.194.961-.194.431-.237.734-.304 1.213-.027.194-.059.416-.106.687a6.131 6.131 0 01-.5 1.627c1.826-.027 2.987-.465 3.607-1.243l.001-.002c.218-.272.446-.923.603-1.75.026-.134.048-.264.067-.387zm6.06-11.68c.006-.002.012 0 .018.002.004.004.007.01.008.015a.035.035 0 01-.003.024l-3.59 6.406-.754-.486 4.304-5.955a.035.035 0 01.017-.007zm-5.201 7.178l.899.58-1.339 2.389-1.139-.785 1.579-2.184z"}}),n("path",{attrs:{d:"M7.155 5.066c1.164-.543 2.114-.592 2.836-.401a2.783 2.783 0 011.65 1.215c.75 1.182.607 2.732-.509 3.55l-.004.003c-.92.685-1.98 1.003-3.16 1.357l-.409.124c-1.295.394-2.72.886-3.798 2.124l-.01.012a4.457 4.457 0 001.83 7.014.75.75 0 00.536-1.4 2.957 2.957 0 01-1.22-4.648c.77-.88 1.812-1.275 3.1-1.667l.407-.123c1.151-.343 2.471-.736 3.617-1.587 1.887-1.386 1.962-3.868.886-5.563a4.282 4.282 0 00-2.532-1.861c-1.12-.297-2.432-.172-3.855.492a.75.75 0 00.635 1.36z"}})]))}}},6547:function(t,e,n){var r=n("a691"),o=n("577e"),i=n("1d80"),a=function(t){return function(e,n){var a,s,c=o(i(e)),u=r(n),l=c.length;return u<0||u>=l?t?"":void 0:(a=c.charCodeAt(u),a<55296||a>56319||u+1===l||(s=c.charCodeAt(u+1))<56320||s>57343?t?c.charAt(u):a:t?c.slice(u,u+2):s-56320+(a-55296<<10)+65536)}};t.exports={codeAt:a(!1),charAt:a(!0)}},6566:function(t,e,n){"use strict";var r=n("9bf2").f,o=n("7c73"),i=n("e2cc"),a=n("0366"),s=n("19aa"),c=n("2266"),u=n("7dd0"),l=n("2626"),f=n("83ab"),p=n("f183").fastKey,d=n("69f3"),h=d.set,y=d.getterFor;t.exports={getConstructor:function(t,e,n,u){var l=t((function(t,r){s(t,l,e),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=r&&c(r,t[u],{that:t,AS_ENTRIES:n})})),d=y(e),v=function(t,e,n){var r,o,i=d(t),a=m(t,e);return a?a.value=n:(i.last=a={index:o=p(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},m=function(t,e){var n,r=d(t),o=p(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(l.prototype,{clear:function(){var t=this,e=d(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,f?e.size=0:t.size=0},delete:function(t){var e=this,n=d(e),r=m(e,t);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),f?n.size--:e.size--}return!!r},forEach:function(t){var e,n=d(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),i(l.prototype,n?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),f&&r(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",o=y(e),i=y(r);u(t,e,(function(t,e){h(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){var t=i(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},"658e":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("d066"),a=n("59ed"),s=n("825a"),c=n("4840"),u=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{intersection:function(t){var e=s(this),n=new(c(e,i("Set"))),r=a(e.has),o=a(n.add);return u(t,(function(t){r.call(e,t)&&o.call(n,t)})),n}})},"65f0":function(t,e,n){var r=n("0b42");t.exports=function(t,e){return new(r(t))(0===e?0:e)}},"65f6":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{d:"M3 13l5-5m5-5L8 8m0 0l5 5M8 8L3 3",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]))}}},"68ee":function(t,e,n){var r=n("d039"),o=n("1626"),i=n("f5df"),a=n("d066"),s=n("8925"),c=[],u=a("Reflect","construct"),l=/^\s*(?:class|function)\b/,f=l.exec,p=!l.exec((function(){})),d=function(t){if(!o(t))return!1;try{return u(Object,c,t),!0}catch(e){return!1}},h=function(t){if(!o(t))return!1;switch(i(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return p||!!f.call(l,s(t))};t.exports=!u||r((function(){var t;return d(d.call)||!d(Object)||!d((function(){t=!0}))||t}))?h:d},"692b":function(t,e,n){},"69f3":function(t,e,n){var r,o,i,a=n("7f9a"),s=n("da84"),c=n("861d"),u=n("9112"),l=n("5135"),f=n("c6cd"),p=n("f772"),d=n("d012"),h="Object already initialized",y=s.WeakMap,v=function(t){return i(t)?o(t):r(t,{})},m=function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(a||f.state){var g=f.state||(f.state=new y),b=g.get,w=g.has,_=g.set;r=function(t,e){if(w.call(g,t))throw new TypeError(h);return e.facade=t,_.call(g,t,e),e},o=function(t){return b.call(g,t)||{}},i=function(t){return w.call(g,t)}}else{var S=p("state");d[S]=!0,r=function(t,e){if(l(t,S))throw new TypeError(h);return e.facade=t,u(t,S,e),e},o=function(t){return l(t,S)?t[S]:{}},i=function(t){return l(t,S)}}t.exports={set:r,get:o,has:i,enforce:v,getterFor:m}},"6c89":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.031 17.5a6.5 6.5 0 100-13 6.5 6.5 0 000 13zm6.133-1.363a8 8 0 10-1.067 1.055l3.623 3.622a.75.75 0 101.06-1.06l-3.616-3.617zm-6.93-2.387a.75.75 0 001.5 0v-2h2.047a.75.75 0 100-1.5h-2.047v-2a.75.75 0 00-1.5 0v2H8.281a.75.75 0 000 1.5h1.953v2z"}})]))}}},"6d61":function(t,e,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("94ca"),a=n("6eeb"),s=n("f183"),c=n("2266"),u=n("19aa"),l=n("1626"),f=n("861d"),p=n("d039"),d=n("1c7e"),h=n("d44e"),y=n("7156");t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),g=v?"set":"add",b=o[t],w=b&&b.prototype,_=b,S={},O=function(t){var e=w[t];a(w,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!f(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})},I=i(t,!l(b)||!(m||w.forEach&&!p((function(){(new b).entries().next()}))));if(I)_=n.getConstructor(e,t,v,g),s.enable();else if(i(t,!0)){var E=new _,C=E[g](m?{}:-0,1)!=E,x=p((function(){E.has(1)})),A=d((function(t){new b(t)})),P=!m&&p((function(){var t=new b,e=5;while(e--)t[g](e,e);return!t.has(-0)}));A||(_=e((function(e,n){u(e,_,t);var r=y(new b,e,_);return void 0!=n&&c(n,r[g],{that:r,AS_ENTRIES:v}),r})),_.prototype=w,w.constructor=_),(x||P)&&(O("delete"),O("has"),v&&O("get")),(P||C)&&O(g),m&&w.clear&&delete w.clear}return S[t]=_,r({global:!0,forced:_!=b},S),h(_,t),m||n.setStrong(_,t,v),_}},"6eeb":function(t,e,n){var r=n("da84"),o=n("1626"),i=n("5135"),a=n("9112"),s=n("ce4e"),c=n("8925"),u=n("69f3"),l=n("5e77").CONFIGURABLE,f=u.get,p=u.enforce,d=String(String).split("String");(t.exports=function(t,e,n,c){var u,f=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,y=!!c&&!!c.noTargetGet,v=c&&void 0!==c.name?c.name:e;o(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||l&&n.name!==v)&&a(n,"name",v),u=p(n),u.source||(u.source=d.join("string"==typeof v?v:""))),t!==r?(f?!y&&t[e]&&(h=!0):delete t[e],h?t[e]=n:a(t,e,n)):h?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||c(this)}))},"6f53":function(t,e,n){var r=n("83ab"),o=n("df75"),i=n("fc6a"),a=n("d1e7").f,s=function(t){return function(e){var n,s=i(e),c=o(s),u=c.length,l=0,f=[];while(u>l)n=c[l++],r&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}};t.exports={entries:s(!0),values:s(!1)}},"6f86":function(t){t.exports=JSON.parse('{"ui":{"viewer":{"context-menu":{"zoom":"Powiększ obraz","pan":"Przesuń obraz","scroll":"Przewinąć","open-mpr":"MPR"},"menu":{"cross-ref":"Odniesienia","toggle-fullscreen":"Pełny ekran","toggle-annotation":"Zmień widoczność komentarzy","toggle-slice-looping":"Włącz wyświetlanie kolejnych obrazów warstw w pętli","scroll":"Przewinąć","zoom":"Powiększ obraz","translate":"Przesuń obraz","contrast":"Kontrast","reset":"Zresetować","ruler":"Linijka","protractor":"Kątomierz","layout-1-1":"Jedna komórka","layout-1-2":"Dwie komórki pionowo","layout-2-1":"Dwie komórki poziomo","layout-1-3":"Trzy komórki pionowo","layout-3-1":"Trzy komórki poziomo","layout-2-2":"Cztery komórki","sync-series":"Zsynchronizuj serię","toggle-menu":"Menu","open-mpr":"Aktywuj tryb MPR","windowing":{"title":"Skala szarości (okno)","options":{"default":"Domyślne"},"actions":{"invert":"Odwróć"}},"advanced":{"title":"Zaawansowane ustawienia","options":{"imagery":{"title":"Imaging","options":{"human":"Człowiek","vet":"Medycyna weterynaryjna"}}}}}},"modals":{"import-file-popin":{"title":"Zaimportuj pliki"},"input-from-url":{"inputLabel":"Twój adres URL","title":"Zaimportuj z adresu URL","submitButton":"Załaduj"},"toManyFiles":{"title":"Ostrzeżenie!","body":"Próbujesz przesłać dużą liczbę plików, może to spowolnić pracę aplikacji."},"generic":{"cancel":"Anuluj","accept":"OK"}},"disclaimer":{"title":"Przeglądarka IMAIOS DICOM nie została przetestowana i nie jest certyfikowana do zastosowań klinicznych. NIE została zatwierdzona jako urządzenie medyczne. Nie może być stosowana w diagnostyce podstawowej w obrazowaniu medycznym.","accept":"akceptuj"},"use-app":{"title":"IDV działa szybciej przez aplikację.","button":"Skorzystaj z aplikacji","dismiss":"Zamknij"},"internet-explorer":{"upgrade-message":{"text":"Proszę skożystać z innej przeglądarki, takiej jak {edge}, {chrome} lub {firefox}.","edge":"Microsoft Edge","chrome":"Google Chrome","firefox":"Firefox"},"features-not-available":"Niektóre funkcje nie są dostępne w przeglądarce Internet Explorer","dismiss":"Zamknij"}},"voter":{"set-slice-index":{"no-scroll-when-only-one-slice":"Seria zawiera tylko jeden obraz","begin-series":"Początek serii","end-series":"Koniec serii"}},"idv-placeholder":{"main-text":"Przeciągnij i upuść pliki tutaj","supported-files-format":"Wspierane formaty: JPEG, DICOM lub ZIP","text-between-bar":"lub","import-file":"Zaimportuj plik","import-from-url":"Zaimportuj, korzystając z adresu url","import-from-dropbox":"Zaimportuj z Dropboxa"},"features":{"v-loading-feedback":{"label":"Ładowanie ..."},"v-import-demo-case":{"label":"Otwórz przykładowy przypadek"},"v-top-bar":{"cancel":"Anuluj","save":"Zachowaj"},"v-presentation-mode":{"label":"Zmień tryb prezentacji","title":"Tryb prezentacji"},"channel-explorer":{"title":"Wybierz album, w którym chcesz opublikować przypadek","submit":"Publikuj","back":"Wróć wstecz"}},"annotation":{"stroke":"Grubość linii obrysu","color":"Kolor"},"action":{"select_album":"Wybierz album, w którym chcesz opublikować przypadek"},"error":{"series-has-no-files":"Podczas załadowywania serii „{seriesName}” wystąpił błąd. Spróbuj ponownie później, a jeśli błąd wystąpi ponownie, skontaktuj się z Działem Wsparcia."}}')},"70b0":function(t,e,n){},"714f":function(t){t.exports=JSON.parse('{"ui":{"viewer":{"context-menu":{"zoom":"ズーム","pan":"移動","scroll":"スクロール","open-mpr":"MPR"},"menu":{"cross-ref":"クロスレファレンス","toggle-fullscreen":"全画面","toggle-annotation":"注釈を表示","toggle-slice-looping":"無限ループを有効にする","scroll":"スクロール","zoom":"ズーム","translate":"移動","contrast":"コントラスト","reset":"リセット","ruler":"定規","protractor":"分度器","layout-1-1":"1セル","layout-1-2":"垂直2セル","layout-2-1":"水平2セル","layout-1-3":"垂直3セル","layout-3-1":"水平3セル","layout-2-2":"4セル","sync-series":"各シリーズをシンクロ","toggle-menu":"メニュー","open-mpr":"MPRモードを有効にする","windowing":{"title":"ウィンドウ設定","options":{"default":"デフォルト"},"actions":{"invert":"白黒反転"}},"advanced":{"title":"高度な設定","options":{"imagery":{"title":"Imaging","options":{"human":"人体","vet":"獣医学"}}}}}},"modals":{"import-file-popin":{"title":"ファイルをインポート"},"input-from-url":{"inputLabel":"URL","title":"URLからインポート","submitButton":"インポート"},"toManyFiles":{"title":"警告！","body":"多くのファイルを読み込もうとしています。アプリの動作が遅くなる可能性があります。"},"generic":{"cancel":"キャンセル","accept":"OK"}},"disclaimer":{"title":"IMAIOS DICOM Viewerは医療利用のためにテストされ認証を受けているわけではありません。医療機器として承認を受けていません。医用画像診断のためにはご利用いただけません。","accept":"承認"},"use-app":{"title":"アプリではさらに快適にIDVをお使いいただけます。","button":"アプリで続ける","dismiss":"閉じる"},"internet-explorer":{"upgrade-message":{"text":"{edge}、{chrome}、{firefox}等の他のブラウザをご利用ください。","edge":"Microsoft Edge","chrome":"Google Chrome","firefox":"Firefox"},"features-not-available":"Internet Explorerではサポートされていない機能があります","dismiss":"閉じる"}},"voter":{"set-slice-index":{"no-scroll-when-only-one-slice":"このシリーズには画像が一枚しかありません","begin-series":"シリーズ先頭","end-series":"シリーズ末尾"}},"idv-placeholder":{"main-text":"ここにファイルをドラッグ＆ドロップ","supported-files-format":"サポートされているファイル形式：JPEG、DICOMまたはZIP","text-between-bar":"または","import-file":"ファイルをインポート","import-from-url":"URLからインポート","import-from-dropbox":"Dropboxからインポート"},"features":{"v-loading-feedback":{"label":"読み込み中 ..."},"v-import-demo-case":{"label":"デモ症例を開く"},"v-top-bar":{"cancel":"キャンセル","save":"保存"},"v-presentation-mode":{"label":"プレゼンテーションモードを有効にする","title":"プレゼンテーションモード"},"channel-explorer":{"title":"症例を公開したいアルバムを選択してください","submit":"公開","back":"戻る"}},"annotation":{"stroke":"線幅","color":"色"},"action":{"select_album":"症例を公開したいアルバムを選択してください"},"error":{"series-has-no-files":"シリーズ\\"{seriesName}\\"を読み込み中にエラーが発生しました。後でもう一度お試しください。引き続き問題が発生する場合は、サポートにお問い合わせください。"}}')},7156:function(t,e,n){var r=n("1626"),o=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var a,s;return i&&r(a=e.constructor)&&a!==n&&o(s=a.prototype)&&s!==n.prototype&&i(t,s),t}},"72d0":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("d066"),a=n("59ed"),s=n("825a"),c=n("0366"),u=n("4840"),l=n("5860"),f=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{map:function(t){var e=s(this),n=l(e),r=c(t,arguments.length>1?arguments[1]:void 0,3),o=new(u(e,i("Set"))),p=a(o.add);return f(n,(function(t){p.call(o,r(t,t,e))}),{IS_ITERATOR:!0}),o}})},"72f7":function(t,e,n){"use strict";var r=n("ebb5").exportTypedArrayMethod,o=n("d039"),i=n("da84"),a=i.Uint8Array,s=a&&a.prototype||{},c=[].toString,u=[].join;o((function(){c.call({})}))&&(c=function(){return u.call(this)});var l=s.toString!=c;r("toString",c,l)},"735e":function(t,e,n){"use strict";var r=n("ebb5"),o=n("81d5"),i=r.aTypedArray,a=r.exportTypedArrayMethod;a("fill",(function(t){return o.apply(i(this),arguments)}))},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,n){var r=n("428f"),o=n("5135"),i=n("e538"),a=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},"74d4":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("825a"),a=n("0366"),s=n("5860"),c=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{every:function(t){var e=i(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return!c(n,(function(t,n){if(!r(t,t,e))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},"74e8":function(t,e,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("83ab"),a=n("8aa7"),s=n("ebb5"),c=n("621a"),u=n("19aa"),l=n("5c6c"),f=n("9112"),p=n("5e89"),d=n("50c4"),h=n("0b25"),y=n("182d"),v=n("a04b"),m=n("5135"),g=n("f5df"),b=n("861d"),w=n("d9b5"),_=n("7c73"),S=n("d2bb"),O=n("241c").f,I=n("a078"),E=n("b727").forEach,C=n("2626"),x=n("9bf2"),A=n("06cf"),P=n("69f3"),T=n("7156"),j=P.get,D=P.set,k=x.f,L=A.f,R=Math.round,M=o.RangeError,B=c.ArrayBuffer,N=c.DataView,F=s.NATIVE_ARRAY_BUFFER_VIEWS,U=s.TYPED_ARRAY_CONSTRUCTOR,z=s.TYPED_ARRAY_TAG,V=s.TypedArray,W=s.TypedArrayPrototype,H=s.aTypedArrayConstructor,Y=s.isTypedArray,G="BYTES_PER_ELEMENT",$="Wrong length",X=function(t,e){var n=0,r=e.length,o=new(H(t))(r);while(r>n)o[n]=e[n++];return o},K=function(t,e){k(t,e,{get:function(){return j(this)[e]}})},q=function(t){var e;return t instanceof B||"ArrayBuffer"==(e=g(t))||"SharedArrayBuffer"==e},Z=function(t,e){return Y(t)&&!w(e)&&e in t&&p(+e)&&e>=0},J=function(t,e){return e=v(e),Z(t,e)?l(2,t[e]):L(t,e)},Q=function(t,e,n){return e=v(e),!(Z(t,e)&&b(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?k(t,e,n):(t[e]=n.value,t)};i?(F||(A.f=J,x.f=Q,K(W,"buffer"),K(W,"byteOffset"),K(W,"byteLength"),K(W,"length")),r({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:J,defineProperty:Q}),t.exports=function(t,e,n){var i=t.match(/\d+$/)[0]/8,s=t+(n?"Clamped":"")+"Array",c="get"+t,l="set"+t,p=o[s],v=p,m=v&&v.prototype,g={},w=function(t,e){var n=j(t);return n.view[c](e*i+n.byteOffset,!0)},x=function(t,e,r){var o=j(t);n&&(r=(r=R(r))<0?0:r>255?255:255&r),o.view[l](e*i+o.byteOffset,r,!0)},A=function(t,e){k(t,e,{get:function(){return w(this,e)},set:function(t){return x(this,e,t)},enumerable:!0})};F?a&&(v=e((function(t,e,n,r){return u(t,v,s),T(function(){return b(e)?q(e)?void 0!==r?new p(e,y(n,i),r):void 0!==n?new p(e,y(n,i)):new p(e):Y(e)?X(v,e):I.call(v,e):new p(h(e))}(),t,v)})),S&&S(v,V),E(O(p),(function(t){t in v||f(v,t,p[t])})),v.prototype=m):(v=e((function(t,e,n,r){u(t,v,s);var o,a,c,l=0,f=0;if(b(e)){if(!q(e))return Y(e)?X(v,e):I.call(v,e);o=e,f=y(n,i);var p=e.byteLength;if(void 0===r){if(p%i)throw M($);if(a=p-f,a<0)throw M($)}else if(a=d(r)*i,a+f>p)throw M($);c=a/i}else c=h(e),a=c*i,o=new B(a);D(t,{buffer:o,byteOffset:f,byteLength:a,length:c,view:new N(o)});while(l<c)A(t,l++)})),S&&S(v,V),m=v.prototype=_(W)),m.constructor!==v&&f(m,"constructor",v),f(m,U,v),z&&f(m,z,s),g[s]=v,r({global:!0,forced:v!=p,sham:!F},g),G in v||f(v,G,i),G in m||f(m,G,i),C(s)}):t.exports=function(){}},"77a7":function(t,e){var n=Math.abs,r=Math.pow,o=Math.floor,i=Math.log,a=Math.LN2,s=function(t,e,s){var c,u,l,f=new Array(s),p=8*s-e-1,d=(1<<p)-1,h=d>>1,y=23===e?r(2,-24)-r(2,-77):0,v=t<0||0===t&&1/t<0?1:0,m=0;for(t=n(t),t!=t||t===1/0?(u=t!=t?1:0,c=d):(c=o(i(t)/a),t*(l=r(2,-c))<1&&(c--,l*=2),t+=c+h>=1?y/l:y*r(2,1-h),t*l>=2&&(c++,l/=2),c+h>=d?(u=0,c=d):c+h>=1?(u=(t*l-1)*r(2,e),c+=h):(u=t*r(2,h-1)*r(2,e),c=0));e>=8;f[m++]=255&u,u/=256,e-=8);for(c=c<<e|u,p+=e;p>0;f[m++]=255&c,c/=256,p-=8);return f[--m]|=128*v,f},c=function(t,e){var n,o=t.length,i=8*o-e-1,a=(1<<i)-1,s=a>>1,c=i-7,u=o-1,l=t[u--],f=127&l;for(l>>=7;c>0;f=256*f+t[u],u--,c-=8);for(n=f&(1<<-c)-1,f>>=-c,c+=e;c>0;n=256*n+t[u],u--,c-=8);if(0===f)f=1-s;else{if(f===a)return n?NaN:l?-1/0:1/0;n+=r(2,e),f-=s}return(l?-1:1)*n*r(2,f-e)};t.exports={pack:s,unpack:c}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(t,e,n){var r=n("cc12"),o=r("span").classList,i=o&&o.constructor&&o.constructor.prototype;t.exports=i===Object.prototype?void 0:i},"7ae5":function(t,e,n){"use strict";n("82fe")},"7b0b":function(t,e,n){var r=n("1d80");t.exports=function(t){return Object(r(t))}},"7bc5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACwZJREFUeNrsmllMFF8Wxqu72QUBQXYVFQQRwQWDziBoWARxjSETok5coo/G+OI8+KAm82CMiTrRBw2OC2oEcSUkCm64oYgy7CJRFBdQQUCwW9nmR9c//Juqoi1UHDqZG2Oqq27de75zvvPdc28hCEPTInW6XA8vYeibdojGtRYEJ63WggH8tmbxAKzMPHNwcJg9e7bk5pcvXwoKCn5myrCwMHd3d8VHPT09er2+vr6+rq6uq6vrZ8ElJSX1yBqjazSa774bpdMVePkoPiosLOwx2wwGAwCys7NXrVql/V4imXus6IPOzs6f9Mt3R7C1tfXz80tOTj5x4kRpaWlcXNyvzAE89JMABjVCSEhITk7OypUrLTiJra2t09LSYmJihjUAcre1tbWtrW0gUp08edLOzm74Ati1a5evr6+/v39CQkJRUZG8A0+3b98+fAE0Nzfj/sbGxtzc3KioKFRI3mft2rXQaZgCsLL6c0VCRrdt2ybv4+HhER8fbxlJnJ6e3tDQIL+fkpJiGQC6u7urq6sVVdViZFQxAs7OzhYDQHHBllcWwxeAi4uL4nJhMQDGjx+vhlfDFEBQUJAigFu3blkGgP3799vY2MilKSsra5gCYJ/Ud71z504KCnmf4uLiqqqqQezIfmdj7xIaGkrRFhERER4erthnx44dg9tS/s72F2Mz0yEjI+PSpUuWuqknd1NTUy11Q3Pu3LnY2FgyeNAATCvEvqa4qxhUUz9CRUXF+vXrV6xYYeaEwsp8NfLgwQPJzXfv3qmZW2P8p9gY89u3b2YqiA8fPpSVleXl5eXn5//8FvwH2191ursDHKtYRtMJwhgVx0f/b4Im99+Bv3A4W3vt5dyPu9MaTWbQCKn/Ely8ha6OIdmLnr/64Zee4WiKK9r73SIJy68L9s5Ct4qzTrSyo1MQE1fTW/4LGq1gpTOvFsOoWWkEfz8vN3c3rc6qrbXl/fv3LZ/1hq6e/wUArUZwsROa9Gr6uru7U//4+/uLmxgKOzYuWp3O3s5u1KhR9fX1x48f//r16+8FMN1f+MdK4W//NN/L28c7IT5h9OjRHz9+rKurq62tdXJyevv2LZuBT58+UduxLPj5+XH97NmzlpaWARcyxVNs8bB7QBf3f0XaWacV7GzNRUirjYuLCwsPq6qswmJWN+4QAVdXV/GYkdW3o6MDADzSaDTjxo0jCMCQ1BR/ANiyZcumTZsk5rIiRkZGKi7jZ86cmTNnTl9/ho6KioKy/XJ34Kz18vJKSUl5+fLlkbQjI0eO9PT0xEQcHBISMmnSJH62tbXhfkoBb2/vV69evX79muDwaOPGjRcuXIBUUgAFBQW7d++WTDN27NikpKTs7Gw5ZZcuXcoEpkULaFWSC19i/e3bt0tKSnA5nIH0MTEx9vb2zsZGEHQ63efPn7lDB8wFMHeeP3/OxebNm/fu3duH4Q8a3L1798WLF/LJlixZIr+5YMECU+tpFy9eVFm0YN/y5ctxSlFREQ6Kjo6eO3cu7pgUGMiY1EjQCQo1NjbS083NjdzggpgEBwfT4cqVK2XlZWvWrJFWo0x/8+ZN+XyMLr+ZmJgoYb/iVkOxzZw58/79+y6uLo6OjpCeZCUCBoPhWU0NMeSCrTC+rzW2x48fk9ncIQ7wZ8KECfAtMyOTF318fKTl9OnTp+XzTZw4MSAgoJ9saTTQ3fQOc8iL1gGWOesRI0YUFhYa9AZcM2/ePMgj1p54NywsDBPb29vJqDFjxsAZpkZeCQtcAtWUKVPowAj4evHixdJy+vr16+QKmiWZEsLU1NT03WEUQm/a586dOyr5g9tAS2dyFKLDDYpzrkc6OU2dOhUv3LhxAwBimq1bt44M/k9JiYeHB0EABmKKTgAb+s2fP598IBP+jABqc/nyZfmsCxculPyUCGh6erpK/kAbZmHzjiOxu6KykggwWlBwcFpaGokhWk+D+gcOHGhqagoMCMBQK52uq7OTndDkyZPxKfJaWVkpHvRqJZs3+awoqekeioST7G9ILJUAcKSo4iIlnBwd29rbGR85QiuJLVzHtfHx8aQvYB49ekT6gtmg13cbgwxyQgEAXiE+0h0Z3EJ6ecf0JmNBuMzMzN6F09t7xowZpk9Rw4F2q/KG3XgOj8IQuMRq5TF6tI2tTUREBI9gJvcZDRWCYCj7jJkzmpub4QlZwf6WDBa/IsM9Aiie/mol2zlFLeoTU/JBsqM9f/68+q0w+DEF/+FFYGA05paXlWMNuQceUhkrSVN+ksFNjU3ghPriBp0LwBBGVhJ69hgdp5UfAcjnZtEVv85LBJSJr169qh6Ag4MDLiQRy8vLRcVEQ8Hz3tjeNTQUPnpkMPTWf/SEnBQOMAJe8RMD4JKYfrzLHao9hU09is5YJL7koJh1hOhLzp7QafJMJQAqBfwNv3Nzc0tLS6urq3E2GOA6JeeePXsQg8KHD/FrUFAQGcKMhAhbQQhsoIIElxE9woJJIhhpBHjh2rVr8sKL3IKjvr6+pvflVYaZhhEZGRkYhxfgA3bjY8ohBOfp06dHjx7dsGEDwsKY4spFQ3aZlCSkP4aRG2go4wAAjonfChSKUDFfJY2iiALGVEBRwGPHjg2qxMaXb968gYeQWGdsfQOePXt29d9X4yA8La4SbA9Er5M5IiMAzCKIf8kfFmbxI5pGUSsoSCQfSKAKHDA9s2fdkf8xjknNMEHYtlpY3u84FrWZNWuWo7HhabIW16IcVGlgg+UIIP6GaYg12JB8okHeEy6SAfC379yZFREBD3l33759REOneLTEOg9ECSq8Ynrn8OHD8s8NJquuqxAdLpy5ZfrNQgyjg709E4MBmzARXWZ5Yk+TuCARbrAagIeRqSbIWuKM+EAz9BS3Tg0NnTZtGnrAwieeyCufzGVlZSUnJ5vdfHerF1BcGx0VnZCYQAzxq4en5+s3byAAqxJxJikBs3XrVsA0fWrif6iPrdiNoVAfQwHAi9OnT0c94RVKwx1zR4v06F0pnZwGsonamwpM9VGFdWhY6MOHDzGUuh3xsbbp5QZRxSwCTm3Do9jYWOLAvLAI3hMHkoFulNaQnpQADEMxdXFx8XcOd3lHrkWmjafqTy3x8aFDh/Ly8qhtsQAtOnLkCN4hMmRnYGBgamoqBRKMQt3ZG8Eidog4m8SDeIsWLQIYacA4gEeFVR3usnNbtmzZQIJ46tSpweoP/ibuFLytba093T24Gb9CIcoHYBAHvMZPTKTOgS1AIunJYESWGcXVoMa4bVAFgMp0IBYh3vn5+YM9pkA3Dh48SBmDEAVPCsYO7hAE2IKqAgOX85MLCjs2PSQAOU3tQGVBytGZtGYvrvZ4nfA9efKELZ/8EQXcD596o/2su/gVTSQBwIPRzmSFtTU/MRSlxnSYA9GJGBOJaks3OuDTQXzgkH/TNH9fTUNbcnJyIAkawP/YhPZTKos1BTTjgjswiloatKgnaOnWW1QbDPKPI+Y+cLCluHfvnjwBKIF+8LROq0VMMJHFGDkXGQ9bsBKthK5c2DnYw082aBQRGE2I6EMQyG9QUaJK/p7LHADexw2/8LQOU8hXUdrZAVPxU8xS0nAf8uBdEgMYrAM8Au0XvX52ZCQ4cZl4zkWxxLUpgXVDdbQoW4lpGIetveeeWi2lMjUpLse1WA+1yF2usZJ8gP3gxPFksCiguB/YCBfdTP82cMi+UnZ1Ce16+fKCregMkl9bW4uJrq4u8B7LUBtMR4jwNxaLp6J0wFzWbACAhAymG0Ew/dPh/wowAHtreoqZ+4LZAAAAAElFTkSuQmCC"},"7c73":function(t,e,n){var r,o=n("825a"),i=n("37e8"),a=n("7839"),s=n("d012"),c=n("1be4"),u=n("cc12"),l=n("f772"),f=">",p="<",d="prototype",h="script",y=l("IE_PROTO"),v=function(){},m=function(t){return p+h+f+t+p+"/"+h+f},g=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=u("iframe"),n="java"+h+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(m("document.F=Object")),t.close(),t.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}w="undefined"!=typeof document?document.domain&&r?g(r):b():g(r);var t=a.length;while(t--)delete w[d][a[t]];return w()};s[y]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(v[d]=o(t),n=new v,v[d]=null,n[y]=t):n=w(),void 0===e?n:i(n,e)}},"7cc9":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({width:"24",height:"24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{d:"M3.75 6.84v9.325l8.266 4.101V9.954L3.75 6.84z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.751 3.024a.75.75 0 01.53 0l8.221 3.098a.75.75 0 01.003 1.402l-8.222 3.13a.75.75 0 01-.53.002L3.485 7.55a.75.75 0 01-.001-1.404l8.266-3.122zm.266 1.503l-6.14 2.319 6.137 2.306 6.106-2.325-6.104-2.3z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.675 6.222A.75.75 0 0121 6.84v9.296a.75.75 0 01-.412.67l-8.202 4.138a.75.75 0 01-1.087-.67V9.986a.75.75 0 01.48-.7l8.202-3.147a.75.75 0 01.694.083zm-7.877 4.28v8.554l6.702-3.382V7.931l-6.701 2.57z"}}),n("path",{attrs:{d:"M3.75 6.84v9.325l8.266 4.101V9.954L3.75 6.84z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.412 20.904a.75.75 0 00.354-.638V9.954a.75.75 0 00-.485-.702L4.014 6.138A.75.75 0 003 6.84v9.325a.75.75 0 00.417.672l8.266 4.101a.75.75 0 00.729-.034zM4.5 15.7V7.924l6.766 2.549v8.584L4.5 15.7z"}})]))}}},"7d72":function(t,e,n){"use strict";var r=n("59ed"),o=n("825a");t.exports=function(){for(var t=o(this),e=r(t.add),n=0,i=arguments.length;n<i;n++)e.call(t,arguments[n]);return t}},"7d7d":function(t,e,n){"use strict";n("4501")},"7db0":function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").find,i=n("44d2"),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(a)},"7dd0":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("5e77"),a=n("1626"),s=n("9ed3"),c=n("e163"),u=n("d2bb"),l=n("d44e"),f=n("9112"),p=n("6eeb"),d=n("b622"),h=n("3f8c"),y=n("ae93"),v=i.PROPER,m=i.CONFIGURABLE,g=y.IteratorPrototype,b=y.BUGGY_SAFARI_ITERATORS,w=d("iterator"),_="keys",S="values",O="entries",I=function(){return this};t.exports=function(t,e,n,i,d,y,E){s(n,e,i);var C,x,A,P=function(t){if(t===d&&L)return L;if(!b&&t in D)return D[t];switch(t){case _:return function(){return new n(this,t)};case S:return function(){return new n(this,t)};case O:return function(){return new n(this,t)}}return function(){return new n(this)}},T=e+" Iterator",j=!1,D=t.prototype,k=D[w]||D["@@iterator"]||d&&D[d],L=!b&&k||P(d),R="Array"==e&&D.entries||k;if(R&&(C=c(R.call(new t)),C!==Object.prototype&&C.next&&(o||c(C)===g||(u?u(C,g):a(C[w])||p(C,w,I)),l(C,T,!0,!0),o&&(h[T]=I))),v&&d==S&&k&&k.name!==S&&(!o&&m?f(D,"name",S):(j=!0,L=function(){return k.call(this)})),d)if(x={values:P(S),keys:y?L:P(_),entries:P(O)},E)for(A in x)(b||j||!(A in D))&&p(D,A,x[A]);else r({target:e,proto:!0,forced:b||j},x);return o&&!E||D[w]===L||p(D,w,L,{name:d}),h[e]=L,x}},"7f0f":function(t,e,n){n("a434"),n("b680"),n("d81d"),n("4e82"),n("e260"),n("d3b7"),n("8b09"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("159b"),
/*! cornerstone - v0.9.0 - 2016-02-03 | (c) 2014 Chris Hafey | https://github.com/chafey/cornerstone */
"undefined"===typeof cornerstone&&(cornerstone={internal:{},rendering:{}}),function(t){"use strict";function e(e){if(void 0===e)throw"disable: element element must not be undefined";for(var n=t.getEnabledElements(),r=0;r<n.length;r++)if(n[r].element===e){var o={element:e};return $(e).trigger("CornerstoneElementDisabled",o),n[r].element.removeChild(n[r].canvas),void n.splice(r,1)}}t.disable=e}(cornerstone),function(t,e){"use strict";function n(n,r,o){if(void 0===n)throw"displayImage: parameter element cannot be undefined";if(void 0===r)throw"displayImage: parameter image cannot be undefined";var i=e.getEnabledElement(n);if(i.image=r,void 0===i.viewport&&(i.viewport=e.internal.getDefaultViewport(i.canvas,r)),o)for(var a in o)null!==o[a]&&(i.viewport[a]=o[a]);var s,c=new Date;if(void 0!==i.lastImageTimeStamp){var u=c.getTime()-i.lastImageTimeStamp;s=(1e3/u).toFixed()}i.lastImageTimeStamp=c.getTime();var l={viewport:i.viewport,element:i.element,image:i.image,enabledElement:i,frameRate:s};t(i.element).trigger("CornerstoneNewImage",l),e.updateImage(n)}e.displayImage=n}($,cornerstone),function(t,e){"use strict";function n(t){var n=e.getEnabledElement(t);if(void 0===n.image)throw"draw: image has not been loaded yet";e.drawImage(n)}e.draw=n}($,cornerstone),function(t,e){"use strict";function n(){for(var t=e.getEnabledElements(),n=0;n<t.length;n++){var r=t[n];!0===r.invalid&&e.drawImage(r)}}e.drawInvalidated=n}($,cornerstone),function(t){"use strict";function e(e){if(void 0===e)throw"enable: parameter element cannot be undefined";var n=document.createElement("canvas");e.appendChild(n);var r={element:e,canvas:n,image:void 0,invalid:!1,data:{}};return t.addEnabledElement(r),t.resize(e,!0),e}t.enable=e}(cornerstone),function(t){"use strict";function e(e,n){var r=t.getEnabledElement(e);return!1===r.data.hasOwnProperty(n)&&(r.data[n]={}),r.data[n]}function n(e,n){var r=t.getEnabledElement(e);delete r.data[n]}t.getElementData=e,t.removeElementData=n}(cornerstone),function(t){"use strict";var e=[];function n(t){if(void 0===t)throw"getEnabledElement: parameter element must not be undefined";for(var n=0;n<e.length;n++)if(e[n].element==t)return e[n];throw"element not enabled"}function r(t){if(void 0===t)throw"getEnabledElement: enabledElement element must not be undefined";e.push(t)}function o(t){var n=[];return e.forEach((function(e){e.image&&e.image.imageId===t&&n.push(e)})),n}function i(){return e}t.getEnabledElement=n,t.addEnabledElement=r,t.getEnabledElementsByImageId=o,t.getEnabledElements=i}(cornerstone),function(t){"use strict";function e(t){return 0===t.viewport.rotation||180===t.viewport.rotation?{width:t.image.width,height:t.image.height}:{width:t.image.height,height:t.image.width}}function n(n){var r=t.getEnabledElement(n),o=e(r),i=r.canvas.height/o.height,a=r.canvas.width/o.width;r.viewport.scale=a<i?a:i,r.viewport.translation.x=0,r.viewport.translation.y=0,t.updateImage(n)}t.fitToWindow=n}(cornerstone),function(t,e){"use strict";function n(t,n){var r=e.getEnabledElement(t),o=e.internal.getDefaultViewport(r.canvas,n);return o}e.getDefaultViewportForImage=n}($,cornerstone),function(t,e){"use strict";function n(t){var n=e.getEnabledElement(t);return n.image}e.getImage=n}($,cornerstone),function(t){"use strict";function e(e,n,r,o,i){var a=t.getStoredPixels(e,n,r,o,i),s=t.getEnabledElement(e),c=t.internal.getModalityLUT(s.image.slope,s.image.intercept,s.viewport.modalityLUT),u=a.map(c);return u}t.getPixels=e}(cornerstone),function(t){"use strict";function e(e,n,r,o,i){if(void 0===e)throw"getStoredPixels: parameter element must not be undefined";n=Math.round(n),r=Math.round(r);for(var a=t.getEnabledElement(e),s=[],c=0,u=a.image.getPixelData(),l=0;l<i;l++)for(var f=0;f<o;f++){var p=(l+r)*a.image.columns+(f+n);s[c++]=u[p]}return s}t.getStoredPixels=e}(cornerstone),function(t){"use strict";function e(e){var n=t.getEnabledElement(e),r=n.viewport;if(void 0!==r)return{scale:r.scale,translation:{x:r.translation.x,y:r.translation.y},voi:{windowWidth:r.voi.windowWidth,windowCenter:r.voi.windowCenter},invert:r.invert,pixelReplication:r.pixelReplication,rotation:r.rotation,hflip:r.hflip,vflip:r.vflip,modalityLUT:r.modalityLUT,voiLUT:r.voiLUT}}t.getViewport=e}(cornerstone),function(t){"use strict";var e={},n={},r=[],o=1073741824,i=0;function a(t){if(void 0===t)throw"setMaximumSizeBytes: parameter numBytes must not be undefined";if(void 0===t.toFixed)throw"setMaximumSizeBytes: parameter numBytes must be a number";o=t,s()}function s(){if(!(i<=o)){r.sort(s);while(i>o){var n=r[r.length-1];i-=n.sizeInBytes,delete e[n.imageId],n.imagePromise.reject(),r.pop(),$(t).trigger("CornerstoneImageCachePromiseRemoved",{imageId:n.imageId})}var a=t.imageCache.getCacheInfo();$(t).trigger("CornerstoneImageCacheFull",a)}function s(t,e){return t.timeStamp>e.timeStamp?-1:t.timeStamp<e.timeStamp?1:0}}function c(t,o){if(void 0===t)throw"getImagePromise: imageId must not be undefined";if(void 0===o)throw"getImagePromise: imagePromise must not be undefined";if(!0===e.hasOwnProperty(t))throw"putImagePromise: imageId already in cache";var a={loaded:!1,imageId:t,sharedCacheKey:void 0,imagePromise:o,timeStamp:new Date,sizeInBytes:0};e[t]=a,r.push(a),o.then((function(t){if(a.loaded=!0,void 0===t.sizeInBytes)throw"putImagePromise: image does not have sizeInBytes property or";if(void 0===t.sizeInBytes.toFixed)throw"putImagePromise: image.sizeInBytes is not a number";t.sharedCacheKey?(a.sizeInBytes=t.sizeInBytes,a.sharedCacheKey=t.sharedCacheKey,n[t.sharedCacheKey]?n[t.sharedCacheKey]++:(n[t.sharedCacheKey]=1,i+=a.sizeInBytes)):(a.sizeInBytes=t.sizeInBytes,i+=a.sizeInBytes),s()}))}function u(t){if(void 0===t)throw"getImagePromise: imageId must not be undefined";var n=e[t];if(void 0!==n)return n.timeStamp=new Date,n.imagePromise}function l(t){if(void 0===t)throw"removeImagePromise: imageId must not be undefined";var o=e[t];if(void 0===o)throw"removeImagePromise: imageId must not be undefined";return r.splice(r.indexOf(o),1),r.sharedCacheKey?1===n[r.sharedCacheKey]?(i-=o.sizeInBytes,delete n[r.sharedCacheKey]):n[r.sharedCacheKey]--:i-=o.sizeInBytes,delete e[t],p(o.imagePromise,o.imageId),o.imagePromise}function f(){return{maximumSizeInBytes:o,cacheSizeInBytes:i,numberOfImagesCached:r.length}}function p(t,n){t.then((function(r){r.decache&&r.decache(),t.reject(),delete e[n]})).always((function(){delete e[n]}))}function d(){while(r.length>0){var t=r.pop();p(t.imagePromise,t.imageId)}i=0}function h(t,n){var r=e[t];r&&r.imagePromise.then((function(t){var e=n-t.sizeInBytes;t.sizeInBytes=n,i+=e}))}t.imageCache={putImagePromise:c,getImagePromise:u,removeImagePromise:l,setMaximumSizeBytes:a,getCacheInfo:f,purgeCache:d,cachedImages:r,changeImageIdCacheSize:h}}(cornerstone),function(t,e){"use strict";var n,r={};function o(o){var i,a=o.indexOf(":"),s=o.substring(0,a),c=r[s];return void 0===c||null===c?void 0!==n?(i=n(o),i):void 0:(i=c(o),i.then((function(n){t(e).trigger("CornerstoneImageLoaded",{image:n})})),i)}function i(t){if(void 0===t)throw"loadImage: parameter imageId must not be undefined";var n=e.imageCache.getImagePromise(t);if(void 0!==n)return n;if(n=o(t),void 0===n)throw"loadImage: no image loader for imageId";return n}function a(t){if(void 0===t)throw"loadAndCacheImage: parameter imageId must not be undefined";var n=e.imageCache.getImagePromise(t);if(void 0!==n)return n;if(n=o(t),void 0===n)throw"loadAndCacheImage: no image loader for imageId";return e.imageCache.putImagePromise(t,n),n}function s(t,e){r[t]=e}function c(t){var e=n;return n=t,e}e.loadImage=i,e.loadAndCacheImage=a,e.registerImageLoader=s,e.registerUnknownImageLoader=c}($,cornerstone),function(t){"use strict";function e(e,n){var r=new t.internal.Transform;r.translate(e.canvas.width/2,e.canvas.height/2);var o=e.viewport.rotation;0!==o&&r.rotate(o*Math.PI/180);var i=e.viewport.scale,a=e.viewport.scale;return e.image.rowPixelSpacing<e.image.columnPixelSpacing?i*=e.image.columnPixelSpacing/e.image.rowPixelSpacing:e.image.columnPixelSpacing<e.image.rowPixelSpacing&&(a*=e.image.rowPixelSpacing/e.image.columnPixelSpacing),r.scale(i,a),0!==o&&r.rotate(-o*Math.PI/180),r.translate(e.viewport.translation.x,e.viewport.translation.y),0!==o&&r.rotate(o*Math.PI/180),void 0!==n&&r.scale(n,n),e.viewport.hflip&&r.scale(-1,1),e.viewport.vflip&&r.scale(1,-1),r.translate(-e.image.width/2,-e.image.height/2),r}t.internal.calculateTransform=e}(cornerstone),function(t,e){"use strict";function n(e,n){var r=new Date;e.image.render(e,n);var o=e.canvas.getContext("2d"),i=new Date,a=i-r,s={viewport:e.viewport,element:e.element,image:e.image,enabledElement:e,canvasContext:o,renderTimeInMs:a};t(e.element).trigger("CornerstoneImageRendered",s),e.invalid=!1}e.internal.drawImage=n,e.drawImage=n}($,cornerstone),function(t){"use strict";function e(e,n,r,o,i,a){void 0===e.lut&&(e.lut=new Int16Array(e.maxPixelValue-Math.min(e.minPixelValue,0)+1));var s,c,u,l,f=e.lut,p=e.maxPixelValue,d=e.minPixelValue,h=t.internal.getModalityLUT(e.slope,e.intercept,i),y=t.internal.getVOILUT(n,r,a),v=0;for(d<0&&(v=d),s=e.minPixelValue;s<=p;s++)c=h(s),u=y(c),l=Math.min(Math.max(u,0),255),f[s+-v]=o?Math.round(255-l):Math.round(l);return f}function n(t,n,r,o,i,a){if(i||a)return e(t,n,r,o,i,a);void 0===t.lut&&(t.lut=new Int16Array(t.maxPixelValue-Math.min(t.minPixelValue,0)+1));var s,c,u,l,f=t.lut,p=t.maxPixelValue,d=t.minPixelValue,h=t.slope,y=t.intercept,v=n,m=r,g=0;if(d<0&&(g=d),!0===o)for(l=t.minPixelValue;l<=p;l++)s=l*h+y,c=255*((s-m)/v+.5),u=Math.min(Math.max(c,0),255),f[l+-g]=Math.round(255-u);else for(l=t.minPixelValue;l<=p;l++)s=l*h+y,c=255*((s-m)/v+.5),u=Math.min(Math.max(c,0),255),f[l+-g]=Math.round(u)}t.internal.generateLutNew=e,t.internal.generateLut=n,t.generateLutNew=e,t.generateLut=n}(cornerstone),function(t){"use strict";function e(t,e){if(void 0===t)throw"getDefaultViewport: parameter canvas must not be undefined";if(void 0===e)throw"getDefaultViewport: parameter image must not be undefined";var n={scale:1,translation:{x:0,y:0},voi:{windowWidth:e.windowWidth,windowCenter:e.windowCenter},invert:e.invert,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:e.modalityLUT,voiLUT:e.voiLUT},r=t.height/e.rows,o=t.width/e.columns;return n.scale=o<r?o:r,n}t.internal.getDefaultViewport=e,t.getDefaultViewport=e}(cornerstone),function(t){"use strict";function e(e){var n=t.internal.calculateTransform(e);return n}t.internal.getTransform=e}(cornerstone),function(t,e){"use strict";e.drawImage=e.internal.drawImage,e.generateLut=e.internal.generateLut,e.storedPixelDataToCanvasImageData=e.internal.storedPixelDataToCanvasImageData,e.storedColorPixelDataToCanvasImageData=e.internal.storedColorPixelDataToCanvasImageData}($,cornerstone),function(t){"use strict";function e(t,e){var n=t,r=e;return function(t){return t*n+r}}function n(t){var e=t.lut[0],n=t.lut[t.lut.length-1],r=t.firstValueMapped+t.lut.length;return function(o){return o<t.firstValueMapped?e:o>=r?n:t.lut[o]}}function r(t,r,o){return o?n(o):e(t,r)}t.internal.getModalityLUT=r}(cornerstone),function(t){"use strict";function e(t,e,n){var r=t.minPixelValue,o=0,i=0,a=t.width*t.height*4,s=t.getPixelData(),c=e,u=n;if(r<0)while(i<a)u[o++]=c[s[i++]+-r],u[o++]=c[s[i++]+-r],u[o]=c[s[i]+-r],i+=2,o+=2;else while(i<a)u[o++]=c[s[i++]],u[o++]=c[s[i++]],u[o]=c[s[i]],i+=2,o+=2}t.internal.storedColorPixelDataToCanvasImageData=e,t.storedColorPixelDataToCanvasImageData=e}(cornerstone),function(t){"use strict";function e(t,e,n){var r=t.getPixelData(),o=t.minPixelValue,i=3,a=0,s=r.length,c=r,u=e,l=n;if(o<0)while(a<s)l[i]=u[c[a++]+-o],i+=4;else while(a<s)l[i]=u[c[a++]],i+=4}t.internal.storedPixelDataToCanvasImageData=e,t.storedPixelDataToCanvasImageData=e}(cornerstone),function(t){"use strict";function e(){this.reset()}e.prototype.reset=function(){this.m=[1,0,0,1,0,0]},e.prototype.clone=function(){var t=new e;return t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5],t},e.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],o=this.m[1]*t.m[2]+this.m[3]*t.m[3],i=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=o,this.m[4]=i,this.m[5]=a},e.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,r=-this.m[2]*t,o=this.m[0]*t,i=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=o,this.m[4]=i,this.m[5]=a},e.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.m[0]*e+this.m[2]*n,o=this.m[1]*e+this.m[3]*n,i=this.m[0]*-n+this.m[2]*e,a=this.m[1]*-n+this.m[3]*e;this.m[0]=r,this.m[1]=o,this.m[2]=i,this.m[3]=a},e.prototype.translate=function(t,e){this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e},e.prototype.scale=function(t,e){this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e},e.prototype.transformPoint=function(t,e){var n=t,r=e;return t=n*this.m[0]+r*this.m[2]+this.m[4],e=n*this.m[1]+r*this.m[3]+this.m[5],{x:t,y:e}},t.internal.Transform=e}(cornerstone),function(t){"use strict";function e(t,e){return function(n){return 255*((n-e)/t+.5)}}function n(t){var e=t.numBitsPerEntry-8,n=t.lut[0]>>e,r=t.lut[t.lut.length-1]>>e,o=t.firstValueMapped+t.lut.length-1;return function(i){return i<t.firstValueMapped?n:i>=o?r:t.lut[i-t.firstValueMapped]>>e}}function r(t,r,o){return o?n(o):e(t,r)}t.internal.getVOILUT=r}(cornerstone),function(t){"use strict";function e(e){var n=t.getEnabledElement(e);n.invalid=!0;var r={element:e};$(n.element).trigger("CornerstoneInvalidated",r)}t.invalidate=e}(cornerstone),function(t){"use strict";function e(e){var n=t.getEnabledElementsByImageId(e);n.forEach((function(e){t.drawImage(e,!0)}))}t.invalidateImageId=e}(cornerstone),function(t){"use strict";function e(e,n,r){var o=t.getEnabledElement(e);if(void 0===o.image)throw"image has not been loaded yet";o.image;var i=e.getBoundingClientRect(),a=n-i.left-window.pageXOffset,s=r-i.top-window.pageYOffset,c={x:a,y:s},u=t.internal.getTransform(o);return u.invert(),u.transformPoint(c.x,c.y)}t.pageToPixel=e}(cornerstone),function(t){"use strict";function e(e,n){var r=t.getEnabledElement(e),o=t.internal.getTransform(r);return o.transformPoint(n.x,n.y)}t.pixelToCanvas=e}(cornerstone),function(t){"use strict";var e,n,r,o=document.createElement("canvas"),i={};function a(t){o.width=t.width,o.height=t.height,e=o.getContext("2d"),e.fillStyle="white",e.fillRect(0,0,o.width,o.height),n=e.getImageData(0,0,t.width,t.height)}function s(e,n){return void 0!==e.lut&&e.lut.windowCenter===n.voi.windowCenter&&e.lut.windowWidth===n.voi.windowWidth&&e.lut.invert===n.invert||(t.generateLut(e,n.voi.windowWidth,n.voi.windowCenter,n.invert),e.lut.windowWidth=n.voi.windowWidth,e.lut.windowCenter=n.voi.windowCenter,e.lut.invert=n.invert),e.lut}function c(t,e){return e.imageId!==r||i.windowCenter!==t.viewport.voi.windowCenter||i.windowWidth!==t.viewport.voi.windowWidth||i.invert!==t.viewport.invert||i.rotation!==t.viewport.rotation||i.hflip!==t.viewport.hflip||i.vflip!==t.viewport.vflip}function u(r,i,u){if(255===r.viewport.voi.windowWidth&&128===r.viewport.voi.windowCenter&&!1===r.viewport.invert&&i.getCanvas&&i.getCanvas())return i.getCanvas();if(!1===c(r,i)&&!0!==u)return o;o.width===i.width&&o.height==i.height||a(i);var l=s(i,r.viewport);return t.storedColorPixelDataToCanvasImageData(i,l,n.data),e.putImageData(n,0,0),o}function l(e,n){if(void 0===e)throw"drawImage: enabledElement parameter must not be undefined";var o=e.image;if(void 0===o)throw"drawImage: image must be loaded before it can be drawn";var a=e.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0),a.fillStyle="black",a.fillRect(0,0,e.canvas.width,e.canvas.height),!0===e.viewport.pixelReplication?(a.imageSmoothingEnabled=!1,a.mozImageSmoothingEnabled=!1):(a.imageSmoothingEnabled=!0,a.mozImageSmoothingEnabled=!0),a.save(),t.setToPixelCoordinateSystem(e,a);var s=u(e,o,n);a.drawImage(s,0,0,o.width,o.height,0,0,o.width,o.height),a.restore(),r=o.imageId,i.windowCenter=e.viewport.voi.windowCenter,i.windowWidth=e.viewport.voi.windowWidth,i.invert=e.viewport.invert,i.rotation=e.viewport.rotation,i.hflip=e.viewport.hflip,i.vflip=e.viewport.vflip}t.rendering.colorImage=l,t.renderColorImage=l}(cornerstone),function(t){"use strict";var e,n,r,o=document.createElement("canvas"),i={};function a(t){o.width=t.width,o.height=t.height,e=o.getContext("2d"),e.fillStyle="white",e.fillRect(0,0,o.width,o.height),n=e.getImageData(0,0,t.width,t.height)}function s(t,e){return!t&&!e||!(!t||!e)&&t.id!==e.id}function c(e,n,r){return void 0!==e.lut&&e.lut.windowCenter===n.voi.windowCenter&&e.lut.windowWidth===n.voi.windowWidth&&s(e.lut.modalityLUT,n.modalityLUT)&&s(e.lut.voiLUT,n.voiLUT)&&e.lut.invert===n.invert&&!0!==r||(t.generateLut(e,n.voi.windowWidth,n.voi.windowCenter,n.invert,n.modalityLUT,n.voiLUT),e.lut.windowWidth=n.voi.windowWidth,e.lut.windowCenter=n.voi.windowCenter,e.lut.invert=n.invert,e.lut.voiLUT=n.voiLUT,e.lut.modalityLUT=n.modalityLUT),e.lut}function u(t,e){return e.imageId!==r||i.windowCenter!==t.viewport.voi.windowCenter||i.windowWidth!==t.viewport.voi.windowWidth||i.invert!==t.viewport.invert||i.rotation!==t.viewport.rotation||i.hflip!==t.viewport.hflip||i.vflip!==t.viewport.vflip||i.modalityLUT!==t.viewport.modalityLUT||i.voiLUT!==t.viewport.voiLUT}function l(r,i,s){if(!1===u(r,i)&&!0!==s)return o;o.width===i.width&&o.height==i.height||a(i);var l=c(i,r.viewport,s);return t.storedPixelDataToCanvasImageData(i,l,n.data),e.putImageData(n,0,0),o}function f(e,n){if(void 0===e)throw"drawImage: enabledElement parameter must not be undefined";var o=e.image;if(void 0===o)throw"drawImage: image must be loaded before it can be drawn";var a=e.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0),a.fillStyle="black",a.fillRect(0,0,e.canvas.width,e.canvas.height),!0===e.viewport.pixelReplication?(a.imageSmoothingEnabled=!1,a.mozImageSmoothingEnabled=!1):(a.imageSmoothingEnabled=!0,a.mozImageSmoothingEnabled=!0),t.setToPixelCoordinateSystem(e,a);var s=l(e,o,n);a.drawImage(s,0,0,o.width,o.height,0,0,o.width,o.height),document.getElementsByTagName("body")[0].appendChild(s),r=o.imageId,i.windowCenter=e.viewport.voi.windowCenter,i.windowWidth=e.viewport.voi.windowWidth,i.invert=e.viewport.invert,i.rotation=e.viewport.rotation,i.hflip=e.viewport.hflip,i.vflip=e.viewport.vflip,i.modalityLUT=e.viewport.modalityLUT,i.voiLUT=e.viewport.voiLUT}t.rendering.grayscaleImage=f,t.renderGrayscaleImage=f}(cornerstone),function(t){"use strict";function e(e,n){if(void 0===e)throw"drawImage: enabledElement parameter must not be undefined";var r=e.image;if(void 0===r)throw"drawImage: image must be loaded before it can be drawn";var o=e.canvas.getContext("2d");o.setTransform(1,0,0,1,0,0),o.fillStyle="black",o.fillRect(0,0,e.canvas.width,e.canvas.height),!0===e.viewport.pixelReplication?(o.imageSmoothingEnabled=!1,o.mozImageSmoothingEnabled=!1):(o.imageSmoothingEnabled=!0,o.mozImageSmoothingEnabled=!0),t.setToPixelCoordinateSystem(e,o),e.viewport.voi.windowWidth===e.image.windowWidth&&e.viewport.voi.windowCenter===e.image.windowCenter&&!1===e.viewport.invert?o.drawImage(r.getImage(),0,0,r.width,r.height,0,0,r.width,r.height):t.renderColorImage(e,n)}t.rendering.webImage=e,t.renderWebImage=e}(cornerstone),function(t){"use strict";function e(e){var n=t.getEnabledElement(e),r=t.internal.getDefaultViewport(n.canvas,n.image);n.viewport=r,t.updateImage(e)}t.reset=e}(cornerstone),function(t){"use strict";function e(t,e){e.width=t.clientWidth,e.height=t.clientHeight,e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px"}function n(n,r){var o=t.getEnabledElement(n);e(n,o.canvas),void 0!==o.image&&(!0===r?t.fitToWindow(n):t.updateImage(n))}t.resize=n}(cornerstone),function(t){"use strict";function e(e,n,r){if(void 0===e)throw"setToPixelCoordinateSystem: parameter enabledElement must not be undefined";if(void 0===n)throw"setToPixelCoordinateSystem: parameter context must not be undefined";var o=t.internal.calculateTransform(e,r);n.setTransform(o.m[0],o.m[1],o.m[2],o.m[3],o.m[4],o.m[5],o.m[6])}t.setToPixelCoordinateSystem=e}(cornerstone),function(t){"use strict";function e(e,n){var r=t.getEnabledElement(e);r.viewport.scale=n.scale,r.viewport.translation.x=n.translation.x,r.viewport.translation.y=n.translation.y,r.viewport.voi.windowWidth=n.voi.windowWidth,r.viewport.voi.windowCenter=n.voi.windowCenter,r.viewport.invert=n.invert,r.viewport.pixelReplication=n.pixelReplication,r.viewport.rotation=n.rotation,r.viewport.hflip=n.hflip,r.viewport.vflip=n.vflip,r.viewport.modalityLUT=n.modalityLUT,r.viewport.voiLUT=n.voiLUT,r.viewport.voi.windowWidth<1e-6&&(r.viewport.voi.windowWidth=1e-6),r.viewport.scale<1e-4&&(r.viewport.scale=.25),360!==r.viewport.rotation&&-360!==r.viewport.rotation||(r.viewport.rotation=0),t.updateImage(e)}t.setViewport=e}(cornerstone),function(t){"use strict";function e(e,n){var r=t.getEnabledElement(e);if(void 0===r.image)throw"updateImage: image has not been loaded yet";t.drawImage(r,n)}t.updateImage=e}(cornerstone)},"7f9a":function(t,e,n){var r=n("da84"),o=n("1626"),i=n("8925"),a=r.WeakMap;t.exports=o(a)&&/native code/.test(i(a))},"81d5":function(t,e,n){"use strict";var r=n("7b0b"),o=n("23cb"),i=n("50c4");t.exports=function(t){var e=r(this),n=i(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);while(u>s)e[s++]=t;return e}},"81fa":function(t,e){(function(t,e,n){t.composedPath||(t.composedPath=function(){if(this.path)return this.path;var t=this.target;this.path=[];while(null!==t.parentNode)this.path.push(t),t=t.parentNode;return this.path.push(e,n),this.path})})(Event.prototype,document,window)},"825a":function(t,e,n){var r=n("861d");t.exports=function(t){if(r(t))return t;throw TypeError(String(t)+" is not an object")}},"82f8":function(t,e,n){"use strict";var r=n("ebb5"),o=n("4d64").includes,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("includes",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},"82fe":function(t,e,n){},"83ab":function(t,e,n){var r=n("d039");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,n){"use strict";var r=n("a04b"),o=n("9bf2"),i=n("5c6c");t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},"841c":function(t,e,n){"use strict";var r=n("d784"),o=n("825a"),i=n("1d80"),a=n("129f"),s=n("577e"),c=n("dc4a"),u=n("14c3");r("search",(function(t,e,n){return[function(e){var n=i(this),r=void 0==e?void 0:c(e,t);return r?r.call(e,n):new RegExp(e)[t](s(n))},function(t){var r=o(this),i=s(t),c=n(e,r,i);if(c.done)return c.value;var l=r.lastIndex;a(l,0)||(r.lastIndex=0);var f=u(r,i);return a(r.lastIndex,l)||(r.lastIndex=l),null===f?-1:f.index}]}))},"84c3":function(t,e,n){var r=n("74e8");r("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"857a":function(t,e,n){var r=n("1d80"),o=n("577e"),i=/"/g;t.exports=function(t,e,n,a){var s=o(r(t)),c="<"+e;return""!==n&&(c+=" "+n+'="'+o(a).replace(i,"&quot;")+'"'),c+">"+s+"</"+e+">"}},"85ca":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("d066"),a=n("59ed"),s=n("825a"),c=n("4840"),u=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{difference:function(t){var e=s(this),n=new(c(e,i("Set")))(e),r=a(n["delete"]);return u(t,(function(t){r.call(n,t)})),n}})},"85ea":function(t,e,n){"use strict";n("ec12")},"861d":function(t,e,n){var r=n("1626");t.exports=function(t){return"object"===typeof t?null!==t:r(t)}},8649:function(t,e,n){},"876d":function(t,e,n){},8875:function(t,e,n){var r,o,i;(function(n,a){o=[],r=a,i="function"===typeof r?r.apply(e,o):r,void 0===i||(t.exports=i)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(d){var n,r,o,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,s=i.exec(d.stack)||a.exec(d.stack),c=s&&s[1]||!1,u=s&&s[2]||!1,l=document.location.href.replace(document.location.hash,""),f=document.getElementsByTagName("script");c===l&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(r,"$1").trim());for(var p=0;p<f.length;p++){if("interactive"===f[p].readyState)return f[p];if(f[p].src===c)return f[p];if(c===l&&f[p].innerHTML&&f[p].innerHTML.trim()===o)return f[p]}return null}}return t}))},8925:function(t,e,n){var r=n("1626"),o=n("c6cd"),i=Function.toString;r(o.inspectSource)||(o.inspectSource=function(t){return i.call(t)}),t.exports=o.inspectSource},"8a79":function(t,e,n){"use strict";var r=n("23e7"),o=n("06cf").f,i=n("50c4"),a=n("577e"),s=n("5a34"),c=n("1d80"),u=n("ab13"),l=n("c430"),f="".endsWith,p=Math.min,d=u("endsWith"),h=!l&&!d&&!!function(){var t=o(String.prototype,"endsWith");return t&&!t.writable}();r({target:"String",proto:!0,forced:!h&&!d},{endsWith:function(t){var e=a(c(this));s(t);var n=arguments.length>1?arguments[1]:void 0,r=i(e.length),o=void 0===n?r:p(i(n),r),u=a(t);return f?f.call(e,u,o):e.slice(o-u.length,o)===u}})},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"8aa7":function(t,e,n){var r=n("da84"),o=n("d039"),i=n("1c7e"),a=n("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,c=r.Int8Array;t.exports=!a||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!i((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||o((function(){return 1!==new c(new s(2),1,void 0).length}))},"8b09":function(t,e,n){var r=n("74e8");r("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"8b85":function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},"8ba4":function(t,e,n){var r=n("23e7"),o=n("5e89");r({target:"Number",stat:!0},{isInteger:o})},"8bbf":function(t,n){t.exports=e},"8c1f":function(t,e,n){},"90e3":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},9112:function(t,e,n){var r=n("83ab"),o=n("9bf2"),i=n("5c6c");t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9152:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?o-1:0,p=n?-1:1,d=t[e+f];for(f+=p,i=d&(1<<-l)-1,d>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=p,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),i-=u}return(d?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),e+=a+f>=1?p/c:p*Math.pow(2,1-f),e*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*c-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+d]=255&s,d+=h,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[n+d]=255&a,d+=h,a/=256,u-=8);t[n+d-h]|=128*y}},"91cf":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"},h)},y),c.concat([n("path",{attrs:{d:"M13.3 5a1 1 0 00-1.4 0L8 8.9 4.1 5a1 1 0 00-1.4 1.4l3.9 3.9c.7.7 1 1 1.4 1 .4 0 .7-.3 1.4-1l3.9-3.9c.4-.4.4-1 0-1.4z"}})]))}}},9263:function(t,e,n){"use strict";var r=n("577e"),o=n("ad6d"),i=n("9f7f"),a=n("5692"),s=n("7c73"),c=n("69f3").get,u=n("fce3"),l=n("107c"),f=RegExp.prototype.exec,p=a("native-string-replace",String.prototype.replace),d=f,h=function(){var t=/a/,e=/b*/g;return f.call(t,"a"),f.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),y=i.UNSUPPORTED_Y||i.BROKEN_CARET,v=void 0!==/()??/.exec("")[1],m=h||v||y||u||l;m&&(d=function(t){var e,n,i,a,u,l,m,g=this,b=c(g),w=r(t),_=b.raw;if(_)return _.lastIndex=g.lastIndex,e=d.call(_,w),g.lastIndex=_.lastIndex,e;var S=b.groups,O=y&&g.sticky,I=o.call(g),E=g.source,C=0,x=w;if(O&&(I=I.replace("y",""),-1===I.indexOf("g")&&(I+="g"),x=w.slice(g.lastIndex),g.lastIndex>0&&(!g.multiline||g.multiline&&"\n"!==w.charAt(g.lastIndex-1))&&(E="(?: "+E+")",x=" "+x,C++),n=new RegExp("^(?:"+E+")",I)),v&&(n=new RegExp("^"+E+"$(?!\\s)",I)),h&&(i=g.lastIndex),a=f.call(O?n:g,x),O?a?(a.input=a.input.slice(C),a[0]=a[0].slice(C),a.index=g.lastIndex,g.lastIndex+=a[0].length):g.lastIndex=0:h&&a&&(g.lastIndex=g.global?a.index+a[0].length:i),v&&a&&a.length>1&&p.call(a[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)})),a&&S)for(a.groups=l=s(null),u=0;u<S.length;u++)m=S[u],l[m[0]]=a[m[1]];return a}),t.exports=d},9441:function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 19.503h14a.5.5 0 00.5-.5v-14a.5.5 0 00-.5-.5H5a.5.5 0 00-.5.5v14a.5.5 0 00.5.5zm14 1.5H5a2 2 0 01-2-2v-14a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.75 12.753H3.25v-1.5h17.5v1.5z"}}),n("circle",{attrs:{cx:"12",cy:"16.003",r:"1.5"}}),n("circle",{attrs:{cx:"12",cy:"8.019",r:"1.5"}})]))}}},"94ca":function(t,e,n){var r=n("d039"),o=n("1626"),i=/#|\.prototype\./,a=function(t,e){var n=c[s(t)];return n==l||n!=u&&(o(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},9562:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAACECAYAAABRRIOnAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABbJJREFUeNrsne1xm0oUQNeM/ksdiA6kDsyrwKrA4lUQpQIrFVip4MmuQK4gpILIFTzcgVyBwk6WkezoA9i7sMA5MzsTTwxGl8Pdu7uAbvb7vQLIuUEIQAhACEAIQAhACEAIQAhACEAIQAhACEAIQAhACEAIQAhACEAIQAgAhACEAIQAhACEAIQAhACEgGaEeH5+ltz3KGvTrEVH/z5HetS2ptVJZFqT6M+8O/Fvp9zf33/4eSC8f33S46zNsjYusd3tp5/fs5ZkbWPargYhHjy8YF+PLpJNHRdKIJQJFubAf2XtS0kZTjHM2l3W/jP7XWUt7GEGn5g4PJjY6gtjfSXbNipELsKjgASX5NCS/Z+1pRGwr+hYzI0ciYturqoQU5O+Hs1B1sWDCcRUge5mf5h4hE0KEZuDmDSYRhNzHPBHjK3J1rULEZt+fdhwEIbmOJDiEI9HU1+M6hIil8EnkOIjc5M9R66FiDyUIWdFTXGySx25EmJkUpHP6XKNByelcCLEwuGQUjIASzz4KyZraSFC5ecM3jlxR3jwV01RqsYaFAiyBHoKdnMijY1MfVJ2qvtc17EgU5yssXTcUwkhYgERFlf6s435ndgc/NAyS9QtxFPFGuZ4wS80bepgSJ/XWJGtEDPLg3syJ6jowtRaHRa0JhYffmb2URdp1QLuzHHmC4SxoBy3Zn9XxQ2uCGGTGWJVfpUyNdu9W/ztSLWb7VE99M0yFscUypyuhIgtA7Ky2L5LcxJL83leBfY1LnJeggtBrZquXpT9uv3K4sq47VhRmJrz8VRHlggcXGVrgQPfWfTLXSUWyBTja5nfhRBSBZ1Nlgk7KsVMoKaI6xTip+CHTxDiZPdhO6y+Uxcm8IILY+SqBwxu0fXVm0CmKTUPsVCHyZLjoVyoLs8o+iLEtuNS6Cxhs/ocnav1Bhbp+liS0IEQNml/13EhNspuVrd0hnDdx7ucT3hX3WdnpJhX3H6oDvfFFqohfCCiu3B6QU7LFJVNow92ghAIcVzU+tqV+TQEfeuDEKFF39gnIWyL+LAtQtgsbL30YIQh1T2O2yCEHg7dWQ7H+oSt/KHPQug+bW2x/Zvq393XaVeFyG/1t7lDaKn6Ryq9w8ATGRJl96xoH7ODVOy9EkJChr5mB6lu2ishNgIy/CQ7dKPL0CfR9nY3vW4RcxrlGDTwN6W6ibyrSDmN7c0QkjLormLFKWyvEJIy6FHFjNPXXiEkZXg3Muw4fe0UQlIGZYrILaeunUJMhWX4V/VvvcIlSZ2jjFyGoaAMzDd8JGxLhkAGhECGLnQZATK0msjnDIEM7eoyTj52OfBQhnx9gtHE9eG8zXu5UldCSMsQMc9QOO42bF10GcjQHLZT94m0EJIyvCJDrUK8n4t11S5jZPp4SRlYmyh3MY6ls0PVDJGvTYyRoTFsXyi7kRRCDwUnyNDoUHPuixBLZfcgDTLYs7Tc/ulS3MsIoYuYB2RolEggO6wv/WdRIUIlM2uIDHaF5EYg/omEEGuBEQV3OtllBokh/tV7UIt+gYrE22G1DCnntnQBqS/GHwIyFHq67do8xEjJPBX1XfFm2rIXz0ygXjgmLvJL14RYKZnJpy+m1cU/NQoYqurL0FN1eL4yNM3Fu7pfisZj4Hi82wfmnsep1NNtgcPxLvhBXKaQv/RqY7JD+/ledqga2BQg4DX5V1wphIBXVXEBLDhTTE6IaaszQ6QqTgAGZ8bA0E6+qWpffndx2IkQ7ePNiJDY7uhUhrglvq1BzzF8Nd18IrHDzxliSoxbkxH0LPJaCS8WDk4UlOBvNtiowzcgO4EM4S/6yapU/bk7OlE13ZH+WQin9tVI2eD58rl3quFHEW72+z3XIiAEIAQgBCAEIAQgBCAEIAQgBCAEIAQgBCAEIAQgBCAEIAQgBCAEIARCAEIAQgBCAEIAQgBCAEJAPfwWYAAml8rVPh+ckwAAAABJRU5ErkJggg=="},9661:function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("d066"),a=n("59ed"),s=n("1626"),c=n("825a"),u=n("9a1f"),l=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{isSubsetOf:function(t){var e=u(this),n=c(t),r=n.has;return s(r)||(n=new(i("Set"))(t),r=a(n.has)),!l(e,(function(t,e){if(!1===r.call(n,t))return e()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},"97fb":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("d066"),a=n("59ed"),s=n("825a"),c=n("0366"),u=n("4840"),l=n("4acb"),f=n("2266");r({target:"Map",proto:!0,real:!0,forced:o},{filter:function(t){var e=s(this),n=l(e),r=c(t,arguments.length>1?arguments[1]:void 0,3),o=new(u(e,i("Map"))),p=a(o.set);return f(n,(function(t,n){r(n,t,e)&&p.call(o,t,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}})},9861:function(t,e,n){"use strict";n("e260");var r=n("23e7"),o=n("d066"),i=n("0d3b"),a=n("6eeb"),s=n("e2cc"),c=n("d44e"),u=n("9ed3"),l=n("69f3"),f=n("19aa"),p=n("1626"),d=n("5135"),h=n("0366"),y=n("f5df"),v=n("825a"),m=n("861d"),g=n("577e"),b=n("7c73"),w=n("5c6c"),_=n("9a1f"),S=n("35a1"),O=n("b622"),I=o("fetch"),E=o("Request"),C=E&&E.prototype,x=o("Headers"),A=O("iterator"),P="URLSearchParams",T=P+"Iterator",j=l.set,D=l.getterFor(P),k=l.getterFor(T),L=/\+/g,R=Array(4),M=function(t){return R[t-1]||(R[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},B=function(t){try{return decodeURIComponent(t)}catch(e){return t}},N=function(t){var e=t.replace(L," "),n=4;try{return decodeURIComponent(e)}catch(r){while(n)e=e.replace(M(n--),B);return e}},F=/[!'()~]|%20/g,U={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},z=function(t){return U[t]},V=function(t){return encodeURIComponent(t).replace(F,z)},W=function(t,e){if(e){var n,r,o=e.split("&"),i=0;while(i<o.length)n=o[i++],n.length&&(r=n.split("="),t.push({key:N(r.shift()),value:N(r.join("="))}))}},H=function(t){this.entries.length=0,W(this.entries,t)},Y=function(t,e){if(t<e)throw TypeError("Not enough arguments")},G=u((function(t,e){j(this,{type:T,iterator:_(D(t).entries),kind:e})}),"Iterator",(function(){var t=k(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),$=function(){f(this,$,P);var t,e,n,r,o,i,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,p=[];if(j(l,{type:P,entries:p,updateURL:function(){},updateSearchParams:H}),void 0!==u)if(m(u))if(t=S(u),t){e=_(u,t),n=e.next;while(!(r=n.call(e)).done){if(o=_(v(r.value)),i=o.next,(a=i.call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");p.push({key:g(a.value),value:g(s.value)})}}else for(c in u)d(u,c)&&p.push({key:c,value:g(u[c])});else W(p,"string"===typeof u?"?"===u.charAt(0)?u.slice(1):u:g(u))},X=$.prototype;if(s(X,{append:function(t,e){Y(arguments.length,2);var n=D(this);n.entries.push({key:g(t),value:g(e)}),n.updateURL()},delete:function(t){Y(arguments.length,1);var e=D(this),n=e.entries,r=g(t),o=0;while(o<n.length)n[o].key===r?n.splice(o,1):o++;e.updateURL()},get:function(t){Y(arguments.length,1);for(var e=D(this).entries,n=g(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){Y(arguments.length,1);for(var e=D(this).entries,n=g(t),r=[],o=0;o<e.length;o++)e[o].key===n&&r.push(e[o].value);return r},has:function(t){Y(arguments.length,1);var e=D(this).entries,n=g(t),r=0;while(r<e.length)if(e[r++].key===n)return!0;return!1},set:function(t,e){Y(arguments.length,1);for(var n,r=D(this),o=r.entries,i=!1,a=g(t),s=g(e),c=0;c<o.length;c++)n=o[c],n.key===a&&(i?o.splice(c--,1):(i=!0,n.value=s));i||o.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=D(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(t=i[n],e=0;e<n;e++)if(o[e].key>t.key){o.splice(e,0,t);break}e===n&&o.push(t)}r.updateURL()},forEach:function(t){var e,n=D(this).entries,r=h(t,arguments.length>1?arguments[1]:void 0,3),o=0;while(o<n.length)e=n[o++],r(e.value,e.key,this)},keys:function(){return new G(this,"keys")},values:function(){return new G(this,"values")},entries:function(){return new G(this,"entries")}},{enumerable:!0}),a(X,A,X.entries,{name:"entries"}),a(X,"toString",(function(){var t,e=D(this).entries,n=[],r=0;while(r<e.length)t=e[r++],n.push(V(t.key)+"="+V(t.value));return n.join("&")}),{enumerable:!0}),c($,P),r({global:!0,forced:!i},{URLSearchParams:$}),!i&&p(x)){var K=function(t){if(m(t)){var e,n=t.body;if(y(n)===P)return e=t.headers?new x(t.headers):new x,e.has("content-type")||e.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),b(t,{body:w(0,String(n)),headers:w(0,e)})}return t};if(p(I)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(t,arguments.length>1?K(arguments[1]):{})}}),p(E)){var q=function(t){return f(this,q,"Request"),new E(t,arguments.length>1?K(arguments[1]):{})};C.constructor=q,q.prototype=C,r({global:!0,forced:!0},{Request:q})}}t.exports={URLSearchParams:$,getState:D}},9911:function(t,e,n){"use strict";var r=n("23e7"),o=n("857a"),i=n("af03");r({target:"String",proto:!0,forced:i("link")},{link:function(t){return o(this,"a","href",t)}})},"99af":function(t,e,n){"use strict";var r=n("23e7"),o=n("d039"),i=n("e8b5"),a=n("861d"),s=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),f=n("1dde"),p=n("b622"),d=n("2d00"),h=p("isConcatSpreadable"),y=9007199254740991,v="Maximum allowed index exceeded",m=d>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=f("concat"),b=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)},w=!m||!g;r({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,r,o,i,a=s(this),f=l(a,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?a:arguments[e],b(i)){if(o=c(i.length),p+o>y)throw TypeError(v);for(n=0;n<o;n++,p++)n in i&&u(f,p,i[n])}else{if(p>=y)throw TypeError(v);u(f,p++,i)}return f.length=p,f}})},"9a17":function(t,e,n){},"9a1f":function(t,e,n){var r=n("59ed"),o=n("825a"),i=n("35a1");t.exports=function(t,e){var n=arguments.length<2?i(t):e;if(r(n))return o(n.call(t));throw TypeError(String(t)+" is not iterable")}},"9a8c":function(t,e,n){"use strict";var r=n("ebb5"),o=n("145e"),i=r.aTypedArray,a=r.exportTypedArrayMethod;a("copyWithin",(function(t,e){return o.call(i(this),t,e,arguments.length>2?arguments[2]:void 0)}))},"9bdd":function(t,e,n){var r=n("825a"),o=n("2a62");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){o(t,"throw",a)}}},"9bf2":function(t,e,n){var r=n("83ab"),o=n("0cfb"),i=n("825a"),a=n("a04b"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e),i(n),o)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"9c03":function(t,e,n){var r={"./br.json":"5f69","./cn.json":"335e","./de.json":"26bb","./en.json":"c283","./es.json":"c85c","./fr.json":"3a69","./jp.json":"714f","./pl.json":"6f86","./ru.json":"ea2b"};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id="9c03"},"9c0f":function(t,e,n){},"9c27":function(t,e,n){},"9c87":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("d066"),a=n("59ed"),s=n("825a"),c=n("0366"),u=n("4840"),l=n("4acb"),f=n("2266");r({target:"Map",proto:!0,real:!0,forced:o},{mapKeys:function(t){var e=s(this),n=l(e),r=c(t,arguments.length>1?arguments[1]:void 0,3),o=new(u(e,i("Map"))),p=a(o.set);return f(n,(function(t,n){p.call(o,r(n,t,e),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}})},"9ed3":function(t,e,n){"use strict";var r=n("ae93").IteratorPrototype,o=n("7c73"),i=n("5c6c"),a=n("d44e"),s=n("3f8c"),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,u,!1,!0),s[u]=c,t}},"9edc":function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 22 9",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{d:"M3.296 8.543L1.883 2.49H1.84c.068.848.101 1.507.101 1.978v4.075H.282V.557H2.97l1.245 5.312h.05L5.406.557h2.766v7.986H6.457V4.444v-.528c0-.192.023-.672.064-1.412h-.044l-1.402 6.04h-1.78zM14.669 2.756a2.308 2.308 0 01-.673 1.789 2.757 2.757 0 01-1.94.632h-.538v3.366H9.645V.557h2.394c.874 0 1.53.188 1.967.571a2.037 2.037 0 01.663 1.628zm-3.151.898h.336a.924.924 0 00.673-.236.852.852 0 00.248-.652c0-.467-.258-.703-.776-.703h-.481v1.59zM17.638 4.955v3.588h-1.87V.557h2.284c1.879 0 2.818.68 2.818 2.04a2.038 2.038 0 01-1.17 1.86l2.017 4.1h-1.81l-1.795-3.602h-.474zm0-1.405h.336c.653 0 .98-.29.98-.865 0-.477-.32-.716-.96-.716h-.37l.014 1.58z"}})]))}}},"9f7f":function(t,e,n){var r=n("d039"),o=n("da84"),i=o.RegExp;e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},"9f9a":function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("825a"),a=n("0366"),s=n("4acb"),c=n("2266");r({target:"Map",proto:!0,real:!0,forced:o},{findKey:function(t){var e=i(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(t,n,o){if(r(n,t,e))return o(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},a02e:function(t,e){t.exports=n},a04b:function(t,e,n){var r=n("c04e"),o=n("d9b5");t.exports=function(t){var e=r(t,"string");return o(e)?e:String(e)}},a078:function(t,e,n){var r=n("5087"),o=n("7b0b"),i=n("50c4"),a=n("9a1f"),s=n("35a1"),c=n("e95a"),u=n("0366"),l=n("ebb5").aTypedArrayConstructor;t.exports=function(t){var e,n,f,p,d,h,y=r(this),v=o(t),m=arguments.length,g=m>1?arguments[1]:void 0,b=void 0!==g,w=s(v);if(w&&!c(w)){d=a(v,w),h=d.next,v=[];while(!(p=h.call(d)).done)v.push(p.value)}for(b&&m>2&&(g=u(g,arguments[2],2)),n=i(v.length),f=new(l(y))(n),e=0;n>e;e++)f[e]=b?g(v[e],e):v[e];return f}},a128:function(t,e,n){},a15b:function(t,e,n){"use strict";var r=n("23e7"),o=n("44ad"),i=n("fc6a"),a=n("a640"),s=[].join,c=o!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},a2b9:function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 19.5h14a.5.5 0 00.5-.5V5a.5.5 0 00-.5-.5H5a.5.5 0 00-.5.5v14a.5.5 0 00.5.5zM19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.75 12.75H3.25v-1.5h17.5v1.5z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.75 3.25v17.5h-1.5V3.25h1.5z"}})]))}}},a42d:function(t,e,n){"use strict";n("3015")},a434:function(t,e,n){"use strict";var r=n("23e7"),o=n("23cb"),i=n("a691"),a=n("50c4"),s=n("7b0b"),c=n("65f0"),u=n("8418"),l=n("1dde"),f=l("splice"),p=Math.max,d=Math.min,h=9007199254740991,y="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,r,l,f,v,m,g=s(this),b=a(g.length),w=o(t,b),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=b-w):(n=_-2,r=d(p(i(e),0),b-w)),b+n-r>h)throw TypeError(y);for(l=c(g,r),f=0;f<r;f++)v=w+f,v in g&&u(l,f,g[v]);if(l.length=r,n<r){for(f=w;f<b-r;f++)v=f+r,m=f+n,v in g?g[m]=g[v]:delete g[m];for(f=b;f>b-r+n;f--)delete g[f-1]}else if(n>r)for(f=b-r;f>w;f--)v=f+r-1,m=f+n-1,v in g?g[m]=g[v]:delete g[m];for(f=0;f<n;f++)g[f+w]=arguments[f+2];return g.length=b-r+n,l}})},a4b4:function(t,e,n){var r=n("342f");t.exports=/web0s(?!.*chrome)/i.test(r)},a4d3:function(t,e,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("d066"),a=n("c430"),s=n("83ab"),c=n("4930"),u=n("d039"),l=n("5135"),f=n("e8b5"),p=n("1626"),d=n("861d"),h=n("d9b5"),y=n("825a"),v=n("7b0b"),m=n("fc6a"),g=n("a04b"),b=n("577e"),w=n("5c6c"),_=n("7c73"),S=n("df75"),O=n("241c"),I=n("057f"),E=n("7418"),C=n("06cf"),x=n("9bf2"),A=n("d1e7"),P=n("6eeb"),T=n("5692"),j=n("f772"),D=n("d012"),k=n("90e3"),L=n("b622"),R=n("e538"),M=n("746f"),B=n("d44e"),N=n("69f3"),F=n("b727").forEach,U=j("hidden"),z="Symbol",V="prototype",W=L("toPrimitive"),H=N.set,Y=N.getterFor(z),G=Object[V],$=o.Symbol,X=i("JSON","stringify"),K=C.f,q=x.f,Z=I.f,J=A.f,Q=T("symbols"),tt=T("op-symbols"),et=T("string-to-symbol-registry"),nt=T("symbol-to-string-registry"),rt=T("wks"),ot=o.QObject,it=!ot||!ot[V]||!ot[V].findChild,at=s&&u((function(){return 7!=_(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=K(G,e);r&&delete G[e],q(t,e,n),r&&t!==G&&q(G,e,r)}:q,st=function(t,e){var n=Q[t]=_($[V]);return H(n,{type:z,tag:t,description:e}),s||(n.description=e),n},ct=function(t,e,n){t===G&&ct(tt,e,n),y(t);var r=g(e);return y(n),l(Q,r)?(n.enumerable?(l(t,U)&&t[U][r]&&(t[U][r]=!1),n=_(n,{enumerable:w(0,!1)})):(l(t,U)||q(t,U,w(1,{})),t[U][r]=!0),at(t,r,n)):q(t,r,n)},ut=function(t,e){y(t);var n=m(e),r=S(n).concat(ht(n));return F(r,(function(e){s&&!ft.call(n,e)||ct(t,e,n[e])})),t},lt=function(t,e){return void 0===e?_(t):ut(_(t),e)},ft=function(t){var e=g(t),n=J.call(this,e);return!(this===G&&l(Q,e)&&!l(tt,e))&&(!(n||!l(this,e)||!l(Q,e)||l(this,U)&&this[U][e])||n)},pt=function(t,e){var n=m(t),r=g(e);if(n!==G||!l(Q,r)||l(tt,r)){var o=K(n,r);return!o||!l(Q,r)||l(n,U)&&n[U][r]||(o.enumerable=!0),o}},dt=function(t){var e=Z(m(t)),n=[];return F(e,(function(t){l(Q,t)||l(D,t)||n.push(t)})),n},ht=function(t){var e=t===G,n=Z(e?tt:m(t)),r=[];return F(n,(function(t){!l(Q,t)||e&&!l(G,t)||r.push(Q[t])})),r};if(c||($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?b(arguments[0]):void 0,e=k(t),n=function(t){this===G&&n.call(tt,t),l(this,U)&&l(this[U],e)&&(this[U][e]=!1),at(this,e,w(1,t))};return s&&it&&at(G,e,{configurable:!0,set:n}),st(e,t)},P($[V],"toString",(function(){return Y(this).tag})),P($,"withoutSetter",(function(t){return st(k(t),t)})),A.f=ft,x.f=ct,C.f=pt,O.f=I.f=dt,E.f=ht,R.f=function(t){return st(L(t),t)},s&&(q($[V],"description",{configurable:!0,get:function(){return Y(this).description}}),a||P(G,"propertyIsEnumerable",ft,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:$}),F(S(rt),(function(t){M(t)})),r({target:z,stat:!0,forced:!c},{for:function(t){var e=b(t);if(l(et,e))return et[e];var n=$(e);return et[e]=n,nt[n]=e,n},keyFor:function(t){if(!h(t))throw TypeError(t+" is not a symbol");if(l(nt,t))return nt[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:lt,defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:pt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:dt,getOwnPropertySymbols:ht}),r({target:"Object",stat:!0,forced:u((function(){E.f(1)}))},{getOwnPropertySymbols:function(t){return E.f(v(t))}}),X){var yt=!c||u((function(){var t=$();return"[null]"!=X([t])||"{}"!=X({a:t})||"{}"!=X(Object(t))}));r({target:"JSON",stat:!0,forced:yt},{stringify:function(t,e,n){var r,o=[t],i=1;while(arguments.length>i)o.push(arguments[i++]);if(r=e,(d(e)||void 0!==t)&&!h(t))return f(e)||(e=function(t,e){if(p(r)&&(e=r.call(this,t,e)),!h(e))return e}),o[1]=e,X.apply(null,o)}})}if(!$[V][W]){var vt=$[V].valueOf;P($[V],W,(function(){return vt.apply(this,arguments)}))}B($,z),D[U]=!0},a630:function(t,e,n){var r=n("23e7"),o=n("4df4"),i=n("1c7e"),a=!i((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:a},{from:o})},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},a7a2:function(t,e,n){"use strict";n("0920")},a975:function(t,e,n){"use strict";var r=n("ebb5"),o=n("b727").every,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("every",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},a981:function(t,e){t.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},a9a1:function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("825a"),a=n("0366"),s=n("5860"),c=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{some:function(t){var e=i(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(t,n){if(r(t,t,e))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},a9cd:function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("59ed"),a=n("825a"),s=n("2266");r({target:"Map",proto:!0,real:!0,forced:o},{merge:function(t){var e=a(this),n=i(e.set),r=arguments.length,o=0;while(o<r)s(arguments[o++],n,{that:e,AS_ENTRIES:!0});return e}})},a9e3:function(t,e,n){"use strict";var r=n("83ab"),o=n("da84"),i=n("94ca"),a=n("6eeb"),s=n("5135"),c=n("c6b6"),u=n("7156"),l=n("d9b5"),f=n("c04e"),p=n("d039"),d=n("7c73"),h=n("241c").f,y=n("06cf").f,v=n("9bf2").f,m=n("58a8").trim,g="Number",b=o[g],w=b.prototype,_=c(d(w))==g,S=function(t){if(l(t))throw TypeError("Cannot convert a Symbol value to a number");var e,n,r,o,i,a,s,c,u=f(t,"number");if("string"==typeof u&&u.length>2)if(u=m(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(i=u.slice(2),a=i.length,s=0;s<a;s++)if(c=i.charCodeAt(s),c<48||c>o)return NaN;return parseInt(i,r)}return+u};if(i(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var O,I=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof I&&(_?p((function(){w.valueOf.call(n)})):c(n)!=g)?u(new b(S(e)),n,I):S(e)},E=r?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;E.length>C;C++)s(b,O=E[C])&&!s(I,O)&&v(I,O,y(b,O));I.prototype=w,w.constructor=I,a(o,g,I)}},ab13:function(t,e,n){var r=n("b622"),o=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,"/./"[t](e)}catch(r){}}return!1}},ab74:function(t,e,n){},ac1f:function(t,e,n){"use strict";var r=n("23e7"),o=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},acd4:function(t,e,n){(function(e,r){/*! dicom-parser - 1.8.12 - 2022-02-07 | (c) 2017 Chris Hafey | https://github.com/cornerstonejs/dicomParser */
!function(e,r){t.exports=r(n(0))}(0,(function(t){return o=[function(e,n){e.exports=t},function(t,n,o){"use strict";o.r(n),o.d(n,"isStringVr",(function(){return a})),o.d(n,"isPrivateTag",(function(){return s})),o.d(n,"parsePN",(function(){return c})),o.d(n,"parseTM",(function(){return u})),o.d(n,"parseDA",(function(){return f})),o.d(n,"explicitElementToString",(function(){return p})),o.d(n,"explicitDataSetToJS",(function(){return d})),o.d(n,"createJPEGBasicOffsetTable",(function(){return v})),o.d(n,"parseDicomDataSetExplicit",(function(){return L})),o.d(n,"parseDicomDataSetImplicit",(function(){return R})),o.d(n,"readFixedString",(function(){return w})),o.d(n,"alloc",(function(){return M})),o.d(n,"version",(function(){return B})),o.d(n,"bigEndianByteArrayParser",(function(){return N})),o.d(n,"ByteStream",(function(){return z})),o.d(n,"sharedCopy",(function(){return F})),o.d(n,"DataSet",(function(){return O})),o.d(n,"findAndSetUNElementLength",(function(){return b})),o.d(n,"findEndOfEncapsulatedElement",(function(){return g})),o.d(n,"findItemDelimitationItemAndSetElementLength",(function(){return I})),o.d(n,"littleEndianByteArrayParser",(function(){return V})),o.d(n,"parseDicom",(function(){return Y})),o.d(n,"readDicomElementExplicit",(function(){return k})),o.d(n,"readDicomElementImplicit",(function(){return C})),o.d(n,"readEncapsulatedImageFrame",(function(){return q})),o.d(n,"readEncapsulatedPixelData",(function(){return J})),o.d(n,"readEncapsulatedPixelDataFromFragments",(function(){return $})),o.d(n,"readPart10Header",(function(){return W})),o.d(n,"readSequenceItemsExplicit",(function(){return j})),o.d(n,"readSequenceItemsImplicit",(function(){return P})),o.d(n,"readSequenceItem",(function(){return x})),o.d(n,"readTag",(function(){return m}));var i={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0},a=function(t){return i[t]},s=function(t){return parseInt(t[4],10)%2==1},c=function(t){if(void 0!==t)return t=t.split("^"),{familyName:t[0],givenName:t[1],middleName:t[2],prefix:t[3],suffix:t[4]}};function u(t,e){if(2<=t.length){var n=parseInt(t.substring(0,2),10),r=4<=t.length?parseInt(t.substring(2,4),10):void 0,o=6<=t.length?parseInt(t.substring(4,6),10):void 0,i=8<=t.length?t.substring(7,13):void 0;i=i?parseInt(i,10)*Math.pow(10,6-i.length):void 0;if(e&&(isNaN(n)||void 0!==r&&isNaN(r)||void 0!==o&&isNaN(o)||void 0!==i&&isNaN(i)||n<0||23<n||r&&(r<0||59<r)||o&&(o<0||59<o)||i&&(i<0||999999<i)))throw"invalid TM '".concat(t,"'");return{hours:n,minutes:r,seconds:o,fractionalSeconds:i}}if(e)throw"invalid TM '".concat(t,"'")}function l(t,e,n){return!isNaN(n)&&0<e&&e<=12&&0<t&&t<=function(t,e){switch(t){case 2:return e%4==0&&e%100||e%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}(e,n)}function f(t,e){if(t&&8===t.length){var n=parseInt(t.substring(0,4),10),r=parseInt(t.substring(4,6),10),o=parseInt(t.substring(6,8),10);if(e&&!0!==l(o,r,n))throw"invalid DA '".concat(t,"'");return{year:n,month:r,day:o}}if(e)throw"invalid DA '".concat(t,"'")}function p(t,e){if(void 0===t||void 0===e)throw"dicomParser.explicitElementToString: missing required parameters";if(void 0===e.vr)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";var n,r=e.vr,o=e.tag;function i(e,n){for(var r="",i=0;i<e;i++)0!==i&&(r+="/"),r+=n.call(t,o,i).toString();return r}if(!0===a(r))n=t.string(o);else{if("AT"===r){var s=t.uint32(o);return void 0===s?void 0:"x".concat((s=s<0?4294967295+s+1:s).toString(16).toUpperCase())}"US"===r?n=i(e.length/2,t.uint16):"SS"===r?n=i(e.length/2,t.int16):"UL"===r?n=i(e.length/4,t.uint32):"SL"===r?n=i(e.length/4,t.int32):"FD"===r?n=i(e.length/8,t.double):"FL"===r&&(n=i(e.length/4,t.float))}return n}function d(t,e){if(void 0===t)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";e=e||{omitPrivateAttibutes:!0,maxElementLength:128};var n,r={};for(n in t.elements){var o=t.elements[n];if(!0!==e.omitPrivateAttibutes||!s(n))if(o.items){for(var i=[],a=0;a<o.items.length;a++)i.push(d(o.items[a].dataSet,e));r[n]=i}else{var c=void 0;o.length<e.maxElementLength&&(c=p(t,o)),r[n]=void 0!==c?c:{dataOffset:o.dataOffset,length:o.length}}}return r}function h(t,e){return 255===t.byteArray[e]&&217===t.byteArray[e+1]}function y(t,e,n){for(var r,o,i=n;i<e.fragments.length;i++)if(r=t,o=i,o=e.fragments[o],h(r,o.position+o.length-2)||h(r,o.position+o.length-3))return i}function v(t,e,n){if(void 0===t)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(void 0===e)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if("x7fe00010"!==e.tag)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(!0!==e.encapsulatedPixelData)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==e.hadUndefinedLength)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===e.basicOffsetTable)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===e.fragments)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(e.fragments.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(n&&n.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";n=n||e.fragments;for(var r=[],o=0;;){r.push(e.fragments[o].offset);var i=y(t,e,o);if(void 0===i||i===e.fragments.length-1)return r;o=i+1}}function m(t){if(void 0===t)throw"dicomParser.readTag: missing required parameter 'byteStream'";var e=256*t.readUint16()*256;t=t.readUint16();return"x".concat("00000000".concat((e+t).toString(16)).substr(-8))}function g(t,e,n){if(void 0===t)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'";if(void 0===e)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(e.encapsulatedPixelData=!0,e.basicOffsetTable=[],e.fragments=[],"xfffee000"!==m(t))throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(var r=t.readUint32()/4,o=0;o<r;o++){var i=t.readUint32();e.basicOffsetTable.push(i)}for(var a=t.position;t.position<t.byteArray.length;){var s=m(t),c=t.readUint32();if("xfffee0dd"===s)return t.seek(c),void(e.length=t.position-e.dataOffset);if("xfffee000"!==s)return n&&n.push("unexpected tag ".concat(s," while searching for end of pixel data element with undefined length")),c>t.byteArray.length-t.position&&(c=t.byteArray.length-t.position),e.fragments.push({offset:t.position-a-8,position:t.position,length:c}),t.seek(c),void(e.length=t.position-e.dataOffset);e.fragments.push({offset:t.position-a-8,position:t.position,length:c}),t.seek(c)}n&&n.push("pixel data element ".concat(e.tag," missing sequence delimiter tag xfffee0dd"))}function b(t,e){if(void 0===t)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(var n=t.byteArray.length-8;t.position<=n;)if(65534===t.readUint16()){var r=t.readUint16();if(57565===r)return 0!==t.readUint32()&&t.warnings("encountered non zero length following item delimiter at position ".concat(t.position-4," while reading element of undefined length with tag ").concat(e.tag)),void(e.length=t.position-e.dataOffset)}e.length=t.byteArray.length-e.dataOffset,t.seek(t.byteArray.length-t.position)}function w(t,e,n){if(n<0)throw"dicomParser.readFixedString - length cannot be less than 0";if(e+n>t.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(var r,o="",i=0;i<n;i++){if(0===(r=t[e+i]))return e+=n,o;o+=String.fromCharCode(r)}return o}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){return void 0!==t.parser?t.parser:e}var O=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.byteArrayParser=e,this.byteArray=n,this.elements=r}var e,n,r;return e=t,(n=[{key:"uint16",value:function(t,e){if(t=this.elements[t],e=void 0!==e?e:0,t&&0!==t.length)return S(t,this.byteArrayParser).readUint16(this.byteArray,t.dataOffset+2*e)}},{key:"int16",value:function(t,e){if(t=this.elements[t],e=void 0!==e?e:0,t&&0!==t.length)return S(t,this.byteArrayParser).readInt16(this.byteArray,t.dataOffset+2*e)}},{key:"uint32",value:function(t,e){if(t=this.elements[t],e=void 0!==e?e:0,t&&0!==t.length)return S(t,this.byteArrayParser).readUint32(this.byteArray,t.dataOffset+4*e)}},{key:"int32",value:function(t,e){if(t=this.elements[t],e=void 0!==e?e:0,t&&0!==t.length)return S(t,this.byteArrayParser).readInt32(this.byteArray,t.dataOffset+4*e)}},{key:"float",value:function(t,e){if(t=this.elements[t],e=void 0!==e?e:0,t&&0!==t.length)return S(t,this.byteArrayParser).readFloat(this.byteArray,t.dataOffset+4*e)}},{key:"double",value:function(t,e){if(t=this.elements[t],e=void 0!==e?e:0,t&&0!==t.length)return S(t,this.byteArrayParser).readDouble(this.byteArray,t.dataOffset+8*e)}},{key:"numStringValues",value:function(t){if(t=this.elements[t],t&&0<t.length)return t=w(this.byteArray,t.dataOffset,t.length).match(/\\/g),null===t?1:t.length+1}},{key:"string",value:function(t,e){return t=this.elements[t],t&&t.Value?t.Value:t&&0<t.length?(t=w(this.byteArray,t.dataOffset,t.length),0<=e?t.split("\\")[e].trim():t.trim()):void 0}},{key:"text",value:function(t,e){if(t=this.elements[t],t&&0<t.length)return t=w(this.byteArray,t.dataOffset,t.length),0<=e?t.split("\\")[e].replace(/ +$/,""):t.replace(/ +$/,"")}},{key:"floatString",value:function(t,e){var n=this.elements[t];if(n&&0<n.length&&(e=this.string(t,e=void 0!==e?e:0),void 0!==e))return parseFloat(e)}},{key:"intString",value:function(t,e){var n=this.elements[t];if(n&&0<n.length&&(e=this.string(t,e=void 0!==e?e:0),void 0!==e))return parseInt(e)}},{key:"attributeTag",value:function(t){var e=this.elements[t];if(e&&4===e.length){var n=S(e,this.byteArrayParser).readUint16;t=this.byteArray,e=e.dataOffset;return"x".concat("00000000".concat((256*n(t,e)*256+n(t,e+2)).toString(16)).substr(-8))}}}])&&_(e.prototype,n),r&&_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function I(t,e){if(void 0===t)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(var n=t.byteArray.length-8;t.position<=n;)if(65534===t.readUint16()){var r=t.readUint16();if(57357===r)return 0!==t.readUint32()&&t.warnings("encountered non zero length following item delimiter at position ".concat(t.position-4," while reading element of undefined length with tag ").concat(e.tag)),void(e.length=t.position-e.dataOffset)}e.length=t.byteArray.length-e.dataOffset,t.seek(t.byteArray.length-t.position)}var E=function(t,e,n){return void 0!==n?"SQ"===n(t.tag):e.position+4<=e.byteArray.length?(t=m(e),e.seek(-4),"xfffee000"===t||"xfffee0dd"===t):(e.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1)};function C(t,e,n){if(void 0===t)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var r={tag:m(t),length:t.readUint32(),dataOffset:t.position};return 4294967295===r.length&&(r.hadUndefinedLength=!0),r.tag===e||(E(r,t,n)&&!s(r.tag)?P(t,r):r.hadUndefinedLength?I(t,r):t.seek(r.length)),r}function x(t){if(void 0===t)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var e={tag:m(t),length:t.readUint32(),dataOffset:t.position};if("xfffee000"!==e.tag)throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset ".concat(t.position);return e}function A(t,e){var n=x(t);return 4294967295===n.length?(n.hadUndefinedLength=!0,n.dataSet=function(t,e){for(var n={};t.position<t.byteArray.length;){var r=C(t,void 0,e);if("xfffee00d"===(n[r.tag]=r).tag)return new O(t.byteArrayParser,t.byteArray,n)}return t.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new O(t.byteArrayParser,t.byteArray,n)}(t,e),n.length=t.position-n.dataOffset):(n.dataSet=new O(t.byteArrayParser,t.byteArray,{}),R(n.dataSet,t,t.position+n.length,{vrCallback:e})),n}function P(t,e,n){if(void 0===t)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(void 0===e)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";e.items=[],(4294967295===e.length?function(t,e,n){for(;t.position+4<=t.byteArray.length;){var r=m(t);if(t.seek(-4),"xfffee0dd"===r)return e.length=t.position-e.dataOffset,t.seek(8);r=A(t,n),e.items.push(r)}t.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length"),e.length=t.byteArray.length-e.dataOffset}:function(t,e,n){for(var r=e.dataOffset+e.length;t.position<r;){var o=A(t,n);e.items.push(o)}})(t,e,n)}function T(t,e){var n=x(t);return 4294967295===n.length?(n.hadUndefinedLength=!0,n.dataSet=function(t,e){for(var n={};t.position<t.byteArray.length;){var r=k(t,e);if("xfffee00d"===(n[r.tag]=r).tag)return new O(t.byteArrayParser,t.byteArray,n)}return e.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new O(t.byteArrayParser,t.byteArray,n)}(t,e),n.length=t.position-n.dataOffset):(n.dataSet=new O(t.byteArrayParser,t.byteArray,{}),L(n.dataSet,t,t.position+n.length)),n}function j(t,e,n){if(void 0===t)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(void 0===e)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";e.items=[],(4294967295===e.length?function(t,e,n){for(;t.position+4<=t.byteArray.length;){var r=m(t);if(t.seek(-4),"xfffee0dd"===r)return e.length=t.position-e.dataOffset,t.seek(8);r=T(t,n),e.items.push(r)}n.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length"),e.length=t.position-e.dataOffset}:function(t,e,n){for(var r=e.dataOffset+e.length;t.position<r;){var o=T(t,n);e.items.push(o)}})(t,e,n)}var D=function(t){return"OB"===t||"OD"===t||"OL"===t||"OW"===t||"SQ"===t||"OF"===t||"UC"===t||"UR"===t||"UT"===t||"UN"===t?4:2};function k(t,e,n){if(void 0===t)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var r={tag:m(t),vr:t.readFixedString(2)};return 2===D(r.vr)?r.length=t.readUint16():(t.seek(2),r.length=t.readUint32()),r.dataOffset=t.position,4294967295===r.length&&(r.hadUndefinedLength=!0),r.tag===n||("SQ"===r.vr?j(t,r,e):4294967295===r.length?"x7fe00010"===r.tag?g(t,r,e):("UN"===r.vr?P:I)(t,r):t.seek(r.length)),r}function L(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(n=void 0===n?e.byteArray.length:n,void 0===e)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(n<e.position||n>e.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(var o=t.elements;e.position<n;){var i=k(e,t.warnings,r.untilTag);if((o[i.tag]=i).tag===r.untilTag)return}if(e.position>n)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"}function R(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(n=void 0===n?t.byteArray.length:n,void 0===e)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(n<e.position||n>e.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(var o=t.elements;e.position<n;){var i=C(e,r.untilTag,r.vrCallback);if((o[i.tag]=i).tag===r.untilTag)return}}function M(t,n){if("undefined"!=typeof e&&t instanceof e)return e.alloc(n);if(t instanceof Uint8Array)return new Uint8Array(n);throw"dicomParser.alloc: unknown type for byteArray"}var B="1.8.12",N={readUint16:function(t,e){if(e<0)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(e+2>t.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(t[e]<<8)+t[e+1]},readInt16:function(t,e){if(e<0)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(e+2>t.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";return e=(t[e]<<8)+t[e+1],32768&e?e-65535-1:e},readUint32:function(t,e){if(e<0)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(e+4>t.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*t[e]+t[e+1])+t[e+2])+t[e+3]},readInt32:function(t,e){if(e<0)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(e+4>t.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(t[e]<<24)+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3]},readFloat:function(t,e){if(e<0)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(e+4>t.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";var n=new Uint8Array(4);return n[3]=t[e],n[2]=t[e+1],n[1]=t[e+2],n[0]=t[e+3],new Float32Array(n.buffer)[0]},readDouble:function(t,e){if(e<0)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(e+8>t.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";var n=new Uint8Array(8);return n[7]=t[e],n[6]=t[e+1],n[5]=t[e+2],n[4]=t[e+3],n[3]=t[e+4],n[2]=t[e+5],n[1]=t[e+6],n[0]=t[e+7],new Float64Array(n.buffer)[0]}};function F(t,n,r){if("undefined"!=typeof e&&t instanceof e)return t.slice(n,n+r);if(t instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset+n,r);throw"dicomParser.from: unknown type for byteArray"}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var z=function(){function t(n,r,o){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===n)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(void 0===r)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(r instanceof Uint8Array==0&&("undefined"==typeof e||r instanceof e==0))throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(o<0)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(o>=r.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=n,this.byteArray=r,this.position=o||0,this.warnings=[]}var n,r,o;return n=t,(r=[{key:"seek",value:function(t){if(this.position+t<0)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=t}},{key:"readByteStream",value:function(e){if(this.position+e>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var n=F(this.byteArray,this.position,e);return this.position+=e,new t(this.byteArrayParser,n)}},{key:"getSize",value:function(){return this.byteArray.length}},{key:"readUint16",value:function(){var t=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,t}},{key:"readUint32",value:function(){var t=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,t}},{key:"readFixedString",value:function(t){var e=w(this.byteArray,this.position,t);return this.position+=t,e}}])&&U(n.prototype,r),o&&U(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(),V={readUint16:function(t,e){if(e<0)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(e+2>t.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return t[e]+256*t[e+1]},readInt16:function(t,e){if(e<0)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(e+2>t.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";return e=t[e]+(t[e+1]<<8),32768&e?e-65535-1:e},readUint32:function(t,e){if(e<0)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(e+4>t.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return t[e]+256*t[e+1]+256*t[e+2]*256+256*t[e+3]*256*256},readInt32:function(t,e){if(e<0)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(e+4>t.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24)},readFloat:function(t,e){if(e<0)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(e+4>t.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";var n=new Uint8Array(4);return n[0]=t[e],n[1]=t[e+1],n[2]=t[e+2],n[3]=t[e+3],new Float32Array(n.buffer)[0]},readDouble:function(t,e){if(e<0)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(e+8>t.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";var n=new Uint8Array(8);return n[0]=t[e],n[1]=t[e+1],n[2]=t[e+2],n[3]=t[e+3],n[4]=t[e+4],n[5]=t[e+5],n[6]=t[e+6],n[7]=t[e+7],new Float64Array(n.buffer)[0]}};function W(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(void 0===t)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var n=e.TransferSyntaxUID,r=new z(V,t);return function(){var t=function(){if(r.getSize()<=132&&n)return!1;if(r.seek(128),"DICM"===r.readFixedString(4))return!0;if(!(e||{}).TransferSyntaxUID)throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file.";return r.seek(0),!1}(),o=[],i={};if(!t)return r.position=0,{elements:{x00020010:{tag:"x00020010",vr:"UI",Value:n}},warnings:o};for(;r.position<r.byteArray.length;){var a=r.position,s=k(r,o);if("x0002ffff"<s.tag){r.position=a;break}s.parser=V,i[s.tag]=s}return(t=new O(r.byteArrayParser,r.byteArray,i)).warnings=r.warnings,t.position=r.position,t}()}var H="1.2.840.10008.1.2.2";function Y(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(void 0===t)throw new Error("dicomParser.parseDicom: missing required parameter 'byteArray'");var n,i=function(e){if(void 0===e.elements.x00020010)throw new Error("dicomParser.parseDicom: missing required meta header attribute 0002,0010");return e=e.elements.x00020010,e&&e.Value||w(t,e.dataOffset,e.length)};function a(n){var a=i(n),s="1.2.840.10008.1.2"!==a;a=function(n,i){var a="[object process]"===Object.prototype.toString.call("undefined"!=typeof r?r:0);if("1.2.840.10008.1.2.1.99"!==n)return new z(n===H?N:V,t,i);if(e&&e.inflater)return n=e.inflater(t,i),new z(V,n,0);if(1==a){var s=o(0),c=F(t,i,t.length-i);s=s.inflateRawSync(c),c=M(t,s.length+i);return t.copy(c,0,0,i),s.copy(c,i),new z(V,c,0)}if("undefined"==typeof pako)throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax";return s=t.slice(i),c=pako.inflateRaw(s),(s=M(t,c.length+i)).set(t.slice(0,i),0),s.set(c,i),new z(V,s,0)}(a,n.position),n=new O(a.byteArrayParser,a.byteArray,{});n.warnings=a.warnings;try{(s?L:R)(n,a,a.byteArray.length,e)}catch(a){throw{exception:a,dataSet:n}}return n}return function(t,e){for(var n in t.elements)t.elements.hasOwnProperty(n)&&(e.elements[n]=t.elements[n]);return void 0!==t.warnings&&(e.warnings=t.warnings.concat(e.warnings)),e}(n=W(t,e),a(n))}var G=function(t,e,n){for(var r=0,o=e;o<e+n;o++)r+=t[o].length;return r};function $(t,e,n,r,o){if(o=o||e.fragments,void 0===t)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(void 0===e)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(void 0===n)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if(void 0===(r=r||1))throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if("x7fe00010"!==e.tag)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(!0!==e.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==e.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===e.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===e.fragments)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(e.fragments.length<=0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(n<0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(n>=e.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(r<1)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(n+r>e.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";var i=new z(t.byteArrayParser,t.byteArray,e.dataOffset);e=x(i);if("xfffee000"!==e.tag)throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";i.seek(e.length);var a=i.position;if(1===r)return F(i.byteArray,a+o[n].offset+8,o[n].length);e=G(o,n,r);for(var s=M(i.byteArray,e),c=0,u=n;u<n+r;u++)for(var l=a+o[u].offset+8,f=0;f<o[u].length;f++)s[c++]=i.byteArray[l++];return s}var X=function(t,e){for(var n=0;n<t.length;n++)if(t[n].offset===e)return n},K=function(t,e,n,r){if(t===e.length-1)return n.length-r;for(var o=e[t+1],i=r+1;i<n.length;i++)if(n[i].offset===o)return i-r;throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"};function q(t,e,n,r,o){if(r=r||e.basicOffsetTable,o=o||e.fragments,void 0===t)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(void 0===e)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(void 0===n)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(void 0===r)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if("x7fe00010"!==e.tag)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==e.encapsulatedPixelData)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==e.hadUndefinedLength)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(void 0===e.fragments)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(0===r.length)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(n<0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(n>=r.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";var i=r[n];i=X(o,i);if(void 0===i)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";return $(t,e,i,K(n,r,o,i),o)}var Z=!1;function J(t,e,n){if(Z||(Z=!0,console&&console.log&&console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")),void 0===t)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(void 0===e)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(void 0===n)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if("x7fe00010"!==e.tag)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==e.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(!0!==e.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===e.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===e.fragments)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(n<0)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return 0!==e.basicOffsetTable.length?q(t,e,n):$(t,e,0,e.fragments.length)}n.default={isStringVr:a,isPrivateTag:s,parsePN:c,parseTM:u,parseDA:f,explicitElementToString:p,explicitDataSetToJS:d,createJPEGBasicOffsetTable:v,parseDicomDataSetExplicit:L,parseDicomDataSetImplicit:R,readFixedString:w,alloc:M,version:B,bigEndianByteArrayParser:N,ByteStream:z,sharedCopy:F,DataSet:O,findAndSetUNElementLength:b,findEndOfEncapsulatedElement:g,findItemDelimitationItemAndSetElementLength:I,littleEndianByteArrayParser:V,parseDicom:Y,readDicomElementExplicit:k,readDicomElementImplicit:C,readEncapsulatedImageFrame:q,readEncapsulatedPixelData:J,readEncapsulatedPixelDataFromFragments:$,readPart10Header:W,readSequenceItemsExplicit:j,readSequenceItemsImplicit:P,readSequenceItem:x,readTag:m,LEI:"1.2.840.10008.1.2",LEE:"1.2.840.10008.1.2.1"}}],i={},n.m=o,n.c=i,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1);function n(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var o,i}))}).call(this,n("b639").Buffer,n("4362"))},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},adb1:function(t,e,n){},addb:function(t,e){var n=Math.floor,r=function(t,e){var a=t.length,s=n(a/2);return a<8?o(t,e):i(r(t.slice(0,s),e),r(t.slice(s),e),e)},o=function(t,e){var n,r,o=t.length,i=1;while(i<o){r=i,n=t[i];while(r&&e(t[r-1],n)>0)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},i=function(t,e,n){var r=t.length,o=e.length,i=0,a=0,s=[];while(i<r||a<o)i<r&&a<o?s.push(n(t[i],e[a])<=0?t[i++]:e[a++]):s.push(i<r?t[i++]:e[a++]);return s};t.exports=r},ae5f:function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.5 3.75a.75.75 0 01.75-.75h3A2.75 2.75 0 0121 5.75v3a.75.75 0 01-1.5 0v-3c0-.69-.56-1.25-1.25-1.25h-3a.75.75 0 01-.75-.75zM5.75 4.5c-.69 0-1.25.56-1.25 1.25v3a.75.75 0 01-1.5 0v-3A2.75 2.75 0 015.75 3h3a.75.75 0 010 1.5h-3zM14.5 20.281c0 .415.336.75.75.75h3a2.75 2.75 0 002.75-2.75v-3a.75.75 0 10-1.5 0v3c0 .69-.56 1.25-1.25 1.25h-3a.75.75 0 00-.75.75zM5.75 19.531c-.69 0-1.25-.56-1.25-1.25v-3a.75.75 0 00-1.5 0v3a2.75 2.75 0 002.75 2.75h3a.75.75 0 100-1.5h-3z"}})]))}}},ae93:function(t,e,n){"use strict";var r,o,i,a=n("d039"),s=n("1626"),c=n("7c73"),u=n("e163"),l=n("6eeb"),f=n("b622"),p=n("c430"),d=f("iterator"),h=!1;[].keys&&(i=[].keys(),"next"in i?(o=u(u(i)),o!==Object.prototype&&(r=o)):h=!0);var y=void 0==r||a((function(){var t={};return r[d].call(t)!==t}));y?r={}:p&&(r=c(r)),s(r[d])||l(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},aebe:function(t,e,n){},af03:function(t,e,n){var r=n("d039");t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},af93:function(t,e,n){var r=n("23e7"),o=n("861d"),i=n("f183").onFreeze,a=n("bb2f"),s=n("d039"),c=Object.seal,u=s((function(){c(1)}));r({target:"Object",stat:!0,forced:u,sham:!a},{seal:function(t){return c&&o(t)?c(i(t)):t}})},b041:function(t,e,n){"use strict";var r=n("00ee"),o=n("f5df");t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},b0c0:function(t,e,n){var r=n("83ab"),o=n("5e77").EXISTS,i=n("9bf2").f,a=Function.prototype,s=a.toString,c=/^\s*function ([^ (]*)/,u="name";r&&!o&&i(a,u,{configurable:!0,get:function(){try{return s.call(this).match(c)[1]}catch(t){return""}}})},b38f:function(t,e,n){},b39a:function(t,e,n){"use strict";var r=n("da84"),o=n("ebb5"),i=n("d039"),a=r.Int8Array,s=o.aTypedArray,c=o.exportTypedArrayMethod,u=[].toLocaleString,l=[].slice,f=!!a&&i((function(){u.call(new a(1))})),p=i((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!i((function(){a.prototype.toLocaleString.call([1,2])}));c("toLocaleString",(function(){return u.apply(f?l.call(s(this)):s(this),arguments)}),p)},b4df:function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.5 19.003v-14a.5.5 0 00-.5-.5H5a.5.5 0 00-.5.5v14a.5.5 0 00.5.5h14a.5.5 0 00.5-.5zm1.5-14v14a2 2 0 01-2 2H5a2 2 0 01-2-2v-14a2 2 0 012-2h14a2 2 0 012 2z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.75 3.253v17.5h-1.5v-17.5h1.5z"}}),n("circle",{attrs:{cx:"16",cy:"12.003",r:"1.5"}}),n("circle",{attrs:{cx:"7.984",cy:"12.003",r:"1.5"}})]))}}},b575:function(t,e,n){var r,o,i,a,s,c,u,l,f=n("da84"),p=n("06cf").f,d=n("2cf4").set,h=n("1cdc"),y=n("d4c3"),v=n("a4b4"),m=n("605d"),g=f.MutationObserver||f.WebKitMutationObserver,b=f.document,w=f.process,_=f.Promise,S=p(f,"queueMicrotask"),O=S&&S.value;O||(r=function(){var t,e;m&&(t=w.domain)&&t.exit();while(o){e=o.fn,o=o.next;try{e()}catch(n){throw o?a():i=void 0,n}}i=void 0,t&&t.enter()},h||m||v||!g||!b?!y&&_&&_.resolve?(u=_.resolve(void 0),u.constructor=_,l=u.then,a=function(){l.call(u,r)}):a=m?function(){w.nextTick(r)}:function(){d.call(f,r)}:(s=!0,c=b.createTextNode(""),new g(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),t.exports=O||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},b622:function(t,e,n){var r=n("da84"),o=n("5692"),i=n("5135"),a=n("90e3"),s=n("4930"),c=n("fdbf"),u=o("wks"),l=r.Symbol,f=c?l:l&&l.withoutSetter||a;t.exports=function(t){return i(u,t)&&(s||"string"==typeof u[t])||(s&&i(l,t)?u[t]=l[t]:u[t]=f("Symbol."+t)),u[t]}},b628:function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("825a"),a=n("0366"),s=n("5860"),c=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{find:function(t){var e=i(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(t,n){if(r(t,t,e))return n(t)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},b639:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),o=n("9152"),i=n("e3db");function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=u.prototype):(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?v(t,e,n,r):"string"===typeof e?h(t,e,n):m(t,e)}function f(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function p(t,e,n,r){return f(e),e<=0?c(t,e):void 0!==n?"string"===typeof r?c(t,e).fill(n,r):c(t,e).fill(n):c(t,e)}function d(t,e){if(f(e),t=c(t,e<0?0:0|g(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(e,n);t=c(t,r);var o=t.write(e,n);return o!==r&&(t=t.slice(0,o)),t}function y(t,e){var n=e.length<0?0:0|g(e.length);t=c(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function v(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=u.prototype):t=y(t,e),t}function m(t,e){if(u.isBuffer(e)){var n=0|g(e.length);return t=c(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?c(t,0):y(t,e);if("Buffer"===e.type&&i(e.data))return y(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function b(t){return+t!=t&&(t=0),u.alloc(+t)}function w(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(r)return q(t).length;e=(""+e).toLowerCase(),r=!0}}function _(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return D(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return M(this,e,n);case"base64":return j(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function S(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function O(t,e,n,r,o){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:I(t,e,n,r,o);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):I(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function I(t,e,n,r,o){var i,a=1,s=t.length,c=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=n;i<s;i++)if(u(t,i)===u(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var f=!0,p=0;p<c;p++)if(u(t,i+p)!==u(e,p)){f=!1;break}if(f)return i}return-1}function E(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function C(t,e,n,r){return tt(q(e,t.length-n),t,n,r)}function x(t,e,n,r){return tt(Z(e),t,n,r)}function A(t,e,n,r){return x(t,e,n,r)}function P(t,e,n,r){return tt(Q(e),t,n,r)}function T(t,e,n,r){return tt(J(e,t.length-n),t,n,r)}function j(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function D(t,e,n){n=Math.min(t.length,n);var r=[],o=e;while(o<n){var i,a,s,c,u=t[o],l=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:i=t[o+1],128===(192&i)&&(c=(31&u)<<6|63&i,c>127&&(l=c));break;case 3:i=t[o+1],a=t[o+2],128===(192&i)&&128===(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a,c>2047&&(c<55296||c>57343)&&(l=c));break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s,c>65535&&c<1114112&&(l=c))}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return L(r)}e.Buffer=u,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return p(null,t,e,n)},u.allocUnsafe=function(t){return d(null,t)},u.allocUnsafeSlow=function(t){return d(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=w,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)S(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)S(this,e,e+3),S(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)S(this,e,e+7),S(this,e+1,e+6),S(this,e+2,e+5),S(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?D(this,0,t):_.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var i=o-r,a=n-e,s=Math.min(i,a),c=this.slice(r,o),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return O(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return O(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return E(this,t,e,n);case"utf8":case"utf-8":return C(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return P(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function L(t){var e=t.length;if(e<=k)return String.fromCharCode.apply(String,t);var n="",r=0;while(r<e)n+=String.fromCharCode.apply(String,t.slice(r,r+=k));return n}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function M(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function B(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=K(t[i]);return o}function N(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function F(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function z(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function V(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function W(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(t,e,n,r,i){return i||W(t,e,n,4,34028234663852886e22,-34028234663852886e22),o.write(t,e,n,r,23,4),n+4}function Y(t,e,n,r,i){return i||W(t,e,n,8,17976931348623157e292,-17976931348623157e292),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=u.prototype;else{var o=e-t;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);var r=this[t],o=1,i=0;while(++i<e&&(o*=256))r+=this[t+i]*o;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);var r=this[t+--e],o=1;while(e>0&&(o*=256))r+=this[t+--e]*o;return r},u.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);var r=this[t],o=1,i=0;while(++i<e&&(o*=256))r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);var r=e,o=1,i=this[t+--r];while(r>0&&(o*=256))i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var o=Math.pow(2,8*n)-1;U(this,t,e,n,o,0)}var i=1,a=0;this[e]=255&t;while(++a<n&&(i*=256))this[e+a]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var o=Math.pow(2,8*n)-1;U(this,t,e,n,o,0)}var i=n-1,a=1;this[e+i]=255&t;while(--i>=0&&(a*=256))this[e+i]=t/a&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):V(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):V(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);U(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;this[e]=255&t;while(++i<n&&(a*=256))t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);U(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;this[e+i]=255&t;while(--i>=0&&(a*=256))t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):V(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):V(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return H(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return H(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return Y(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return Y(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=u.isBuffer(t)?t:q(new u(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function $(t){if(t=X(t).replace(G,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function X(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function K(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function J(t,e){for(var n,r,o,i=[],a=0;a<t.length;++a){if((e-=2)<0)break;n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r)}return i}function Q(t){return r.toByteArray($(t))}function tt(t,e,n,r){for(var o=0;o<r;++o){if(o+n>=e.length||o>=t.length)break;e[o+n]=t[o]}return o}function et(t){return t!==t}}).call(this,n("c8ba"))},b64b:function(t,e,n){var r=n("23e7"),o=n("7b0b"),i=n("df75"),a=n("d039"),s=a((function(){i(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(t){return i(o(t))}})},b65f:function(t,e,n){var r=n("23e7"),o=Math.ceil,i=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:o)(t)}})},b680:function(t,e,n){"use strict";var r=n("23e7"),o=n("a691"),i=n("408a"),a=n("1148"),s=n("d039"),c=1..toFixed,u=Math.floor,l=function(t,e,n){return 0===e?n:e%2===1?l(t,e-1,n*t):l(t*t,e/2,n)},f=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},p=function(t,e,n){var r=-1,o=n;while(++r<6)o+=e*t[r],t[r]=o%1e7,o=u(o/1e7)},d=function(t,e){var n=6,r=0;while(--n>=0)r+=t[n],t[n]=u(r/e),r=r%e*1e7},h=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var r=String(t[e]);n=""===n?r:n+a.call("0",7-r.length)+r}return n},y=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));r({target:"Number",proto:!0,forced:y},{toFixed:function(t){var e,n,r,s,c=i(this),u=o(t),y=[0,0,0,0,0,0],v="",m="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(v="-",c=-c),c>1e-21)if(e=f(c*l(2,69,1))-69,n=e<0?c*l(2,-e,1):c/l(2,e,1),n*=4503599627370496,e=52-e,e>0){p(y,0,n),r=u;while(r>=7)p(y,1e7,0),r-=7;p(y,l(10,r,1),0),r=e-1;while(r>=23)d(y,1<<23),r-=23;d(y,1<<r),p(y,1,1),d(y,2),m=h(y)}else p(y,0,n),p(y,1<<-e,0),m=h(y)+a.call("0",u);return u>0?(s=m.length,m=v+(s<=u?"0."+a.call("0",u-s)+m:m.slice(0,s-u)+"."+m.slice(s-u))):m=v+m,m}})},b6b7:function(t,e,n){var r=n("ebb5"),o=n("4840"),i=r.TYPED_ARRAY_CONSTRUCTOR,a=r.aTypedArrayConstructor;t.exports=function(t){return a(o(t,t[i]))}},b6ca:function(t,e,n){},b727:function(t,e,n){var r=n("0366"),o=n("44ad"),i=n("7b0b"),a=n("50c4"),s=n("65f0"),c=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,f=6==t,p=7==t,d=5==t||f;return function(h,y,v,m){for(var g,b,w=i(h),_=o(w),S=r(y,v,3),O=a(_.length),I=0,E=m||s,C=e?E(h,O):n||p?E(h,0):void 0;O>I;I++)if((d||I in _)&&(g=_[I],b=S(g,I,w),t))if(e)C[I]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return I;case 2:c.call(C,g)}else switch(t){case 4:return!1;case 7:c.call(C,g)}return f?-1:u||l?l:C}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},b79f:function(t,e,n){},b8e6:function(t,e,n){"use strict";n("f31a")},bb2f:function(t,e,n){var r=n("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bb40:function(t,e,n){},bf8e:function(t,e,n){},bfd3:function(t,e,n){"use strict";n("4fbc")},c04e:function(t,e,n){var r=n("861d"),o=n("d9b5"),i=n("dc4a"),a=n("485a"),s=n("b622"),c=s("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var n,s=i(t,c);if(s){if(void 0===e&&(e="default"),n=s.call(t,e),!r(n)||o(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},c19f:function(t,e,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("621a"),a=n("2626"),s="ArrayBuffer",c=i[s],u=o[s];r({global:!0,forced:u!==c},{ArrayBuffer:c}),a(s)},c1ac:function(t,e,n){"use strict";var r=n("ebb5"),o=n("b727").filter,i=n("1448"),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("filter",(function(t){var e=o(a(this),t,arguments.length>1?arguments[1]:void 0);return i(this,e)}))},c1f9:function(t,e,n){var r=n("23e7"),o=n("2266"),i=n("8418");r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,(function(t,n){i(e,t,n)}),{AS_ENTRIES:!0}),e}})},c206:function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("0a0d");r({target:"Map",proto:!0,real:!0,forced:o},{deleteAll:function(){return i.apply(this,arguments)}})},c283:function(t){t.exports=JSON.parse('{"ui":{"viewer":{"context-menu":{"zoom":"Zoom","pan":"Pan","scroll":"Scroll","open-mpr":"MPR"},"menu":{"cross-ref":"Cross-refs","toggle-fullscreen":"Fullscreen","toggle-annotation":"Toggle annotation visibility","toggle-slice-looping":"Toggle slice looping","scroll":"Scroll","zoom":"Zoom","translate":"Pan","contrast":"Contrast","reset":"Reset","ruler":"Ruler","protractor":"Protractor","layout-1-1":"One cell","layout-1-2":"Two vertical cells","layout-2-1":"Two horizontal cells","layout-1-3":"Three vertical cells","layout-3-1":"Three horizontal cells","layout-2-2":"Four cells","sync-series":"Synchronise series","toggle-menu":"Menu","open-mpr":"Enable MPR mode","windowing":{"title":"Windowing","options":{"default":"Default"},"actions":{"invert":"Invert"}},"advanced":{"title":"Advanced settings","options":{"imagery":{"title":"Imaging","options":{"human":"Human","vet":"Veterinary"}}}}}},"modals":{"import-file-popin":{"title":"Import files"},"input-from-url":{"inputLabel":"Your URL","title":"Import from URL","submitButton":"Load"},"toManyFiles":{"title":"Warning !","body":"You are trying to load a lot of files, the app may become slow."},"generic":{"cancel":"Cancel","accept":"OK"}},"disclaimer":{"title":"IMAIOS DICOM Viewer has not been tested or certified for clinical use. It is NOT approved as a medical device. It cannot be used for primary diagnosis in medical imaging.","accept":"Accept"},"use-app":{"title":"IDV is faster with the app.","button":"Use the app","dismiss":"Dismiss"},"internet-explorer":{"upgrade-message":{"text":"Please use another browser such as {edge}, {chrome} or {firefox}.","edge":"Microsoft Edge","chrome":"Google Chrome","firefox":"Firefox"},"features-not-available":"Some features are not supported on Internet Explorer","dismiss":"Dismiss"}},"voter":{"set-slice-index":{"no-scroll-when-only-one-slice":"This series contains only one image","begin-series":"Start of series","end-series":"End of series"}},"idv-placeholder":{"main-text":"Drag and drop file here","supported-files-format":"Supported format: JPEG, DICOM or ZIP","text-between-bar":"or","import-file":"Import a file","import-from-url":"Import from url","import-from-dropbox":"Import from dropbox"},"features":{"v-loading-feedback":{"label":"Loading ..."},"v-import-demo-case":{"label":"Open a demonstration case"},"v-top-bar":{"cancel":"Cancel","save":"Save"},"v-presentation-mode":{"label":"Toggle presentation mode","title":"Presentation mode"},"channel-explorer":{"title":"Choose the album to publish your case into","submit":"Publish","back":"Back"}},"annotation":{"stroke":"Stroke thickness","color":"Color"},"action":{"select_album":"Select the album in which you want to publish your case"},"error":{"series-has-no-files":"A problem occurred when loading the series \\"{seriesName}\\". Please try again later and if the issue persists contact our support team."}}')},c28b:function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){var t="undefined"!=typeof window,e="undefined"!=typeof navigator,n=t&&("ontouchstart"in window||e&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"];function r(t){var e=t.event,n=t.handler;(0,t.middleware)(e)&&n(e)}function o(t,e){var o=function(t){var e="function"==typeof t;if(!e&&"object"!=typeof t)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:e?t:t.handler,middleware:t.middleware||function(t){return t},events:t.events||n,isActive:!(!1===t.isActive),detectIframe:!(!1===t.detectIframe)}}(e.value),i=o.handler,a=o.middleware,s=o.detectIframe;if(o.isActive){if(t["__v-click-outside"]=o.events.map((function(e){return{event:e,srcTarget:document.documentElement,handler:function(e){return function(t){var e=t.el,n=t.event,o=t.handler,i=t.middleware,a=n.path||n.composedPath&&n.composedPath();(a?a.indexOf(e)<0:!e.contains(n.target))&&r({event:n,handler:o,middleware:i})}({el:t,event:e,handler:i,middleware:a})}}})),s){var c={event:"blur",srcTarget:window,handler:function(e){return function(t){var e=t.el,n=t.event,o=t.handler,i=t.middleware;setTimeout((function(){var t=document.activeElement;t&&"IFRAME"===t.tagName&&!e.contains(t)&&r({event:n,handler:o,middleware:i})}),0)}({el:t,event:e,handler:i,middleware:a})}};t["__v-click-outside"]=[].concat(t["__v-click-outside"],[c])}t["__v-click-outside"].forEach((function(e){var n=e.event,r=e.srcTarget,o=e.handler;return setTimeout((function(){t["__v-click-outside"]&&r.addEventListener(n,o,!1)}),0)}))}}function i(t){(t["__v-click-outside"]||[]).forEach((function(t){return t.srcTarget.removeEventListener(t.event,t.handler,!1)})),delete t["__v-click-outside"]}var a=t?{bind:o,update:function(t,e){var n=e.value,r=e.oldValue;JSON.stringify(n)!==JSON.stringify(r)&&(i(t),o(t,{value:n}))},unbind:i}:{};return{install:function(t){t.directive("click-outside",a)},directive:a}}))},c430:function(t,e){t.exports=!1},c4e3:function(t,e,n){(function(e,n){var r;!function(e){t.exports=e()}((function(){return function t(e,n,o){function i(s,c){if(!n[s]){if(!e[s]){var u="function"==typeof r&&r;if(!c&&u)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};e[s][0].call(f.exports,(function(t){var n=e[s][1][t];return i(n||t)}),f,f.exports,t,e,n,o)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){"use strict";var r=t("./utils"),o=t("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,o,a,s,c,u,l=[],f=0,p=t.length,d=p,h="string"!==r.getTypeOf(t);f<t.length;)d=p-f,o=h?(e=t[f++],n=f<p?t[f++]:0,f<p?t[f++]:0):(e=t.charCodeAt(f++),n=f<p?t.charCodeAt(f++):0,f<p?t.charCodeAt(f++):0),a=e>>2,s=(3&e)<<4|n>>4,c=1<d?(15&n)<<2|o>>6:64,u=2<d?63&o:64,l.push(i.charAt(a)+i.charAt(s)+i.charAt(c)+i.charAt(u));return l.join("")},n.decode=function(t){var e,n,r,a,s,c,u=0,l=0,f="data:";if(t.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var p,d=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===i.charAt(64)&&d--,t.charAt(t.length-2)===i.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=o.uint8array?new Uint8Array(0|d):new Array(0|d);u<t.length;)e=i.indexOf(t.charAt(u++))<<2|(a=i.indexOf(t.charAt(u++)))>>4,n=(15&a)<<4|(s=i.indexOf(t.charAt(u++)))>>2,r=(3&s)<<6|(c=i.indexOf(t.charAt(u++))),p[l++]=e,64!==s&&(p[l++]=n),64!==c&&(p[l++]=r);return p}},{"./support":30,"./utils":32}],2:[function(t,e,n){"use strict";var r=t("./external"),o=t("./stream/DataWorker"),i=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function s(t,e,n,r,o){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=o}s.prototype={getContentWorker:function(){var t=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,n){return t.pipe(new i).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){"use strict";var r=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(t){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){"use strict";var r=t("./utils"),o=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==r.getTypeOf(t)?function(t,e,n,r){var i=o,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}(0|e,t,t.length,0):function(t,e,n,r){var i=o,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^i[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:r}},{lie:37}],7:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=t("pako"),i=t("./utils"),a=t("./stream/GenericWorker"),s=r?"uint8array":"array";function c(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}n.magic="\b\0",i.inherits(c,a),c.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(s,t.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(t){return new c("Deflate",t)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,n){"use strict";function r(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r}function o(t,e,n,o,a,l){var f,p,d=t.file,h=t.compression,y=l!==s.utf8encode,v=i.transformTo("string",l(d.name)),m=i.transformTo("string",s.utf8encode(d.name)),g=d.comment,b=i.transformTo("string",l(g)),w=i.transformTo("string",s.utf8encode(g)),_=m.length!==d.name.length,S=w.length!==g.length,O="",I="",E="",C=d.dir,x=d.date,A={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(A.crc32=t.crc32,A.compressedSize=t.compressedSize,A.uncompressedSize=t.uncompressedSize);var P=0;e&&(P|=8),y||!_&&!S||(P|=2048);var T=0,j=0;C&&(T|=16),"UNIX"===a?(j=798,T|=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16}(d.unixPermissions,C)):(j=20,T|=function(t){return 63&(t||0)}(d.dosPermissions)),f=x.getUTCHours(),f<<=6,f|=x.getUTCMinutes(),f<<=5,f|=x.getUTCSeconds()/2,p=x.getUTCFullYear()-1980,p<<=4,p|=x.getUTCMonth()+1,p<<=5,p|=x.getUTCDate(),_&&(I=r(1,1)+r(c(v),4)+m,O+="up"+r(I.length,2)+I),S&&(E=r(1,1)+r(c(b),4)+w,O+="uc"+r(E.length,2)+E);var D="";return D+="\n\0",D+=r(P,2),D+=h.magic,D+=r(f,2),D+=r(p,2),D+=r(A.crc32,4),D+=r(A.compressedSize,4),D+=r(A.uncompressedSize,4),D+=r(v.length,2),D+=r(O.length,2),{fileRecord:u.LOCAL_FILE_HEADER+D+v+O,dirRecord:u.CENTRAL_FILE_HEADER+r(j,2)+D+r(b.length,2)+"\0\0\0\0"+r(T,4)+r(o,4)+v+O+b}}var i=t("../utils"),a=t("../stream/GenericWorker"),s=t("../utf8"),c=t("../crc32"),u=t("../signature");function l(t,e,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(l,a),l.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,a.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-r-1))/n:100}}))},l.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=o(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=o(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(t){return u.DATA_DESCRIPTOR+r(t.crc32,4)+r(t.compressedSize,4)+r(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,o=function(t,e,n,o,a){var s=i.transformTo("string",a(o));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(t,2)+r(t,2)+r(e,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(t){var e=this._sources;if(!a.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},l.prototype.lock=function(){a.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){"use strict";var r=t("../compressions"),o=t("./ZipFileWorker");n.generateWorker=function(t,e,n){var i=new o(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach((function(t,n){a++;var o=function(t,e){var n=t||e,o=r[n];if(!o)throw new Error(n+" is not a valid compression method !");return o}(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},c=n.dir,u=n.date;n._compressWorker(o,s).withStreamInfo("file",{name:t,dir:c,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)})),i.entriesCount=a}catch(t){i.error(t)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.7.1",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=t("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){"use strict";var r=t("./utils"),o=t("./external"),i=t("./utf8"),a=t("./zipEntries"),s=t("./stream/Crc32Probe"),c=t("./nodejsUtils");function u(t){return new o.Promise((function(e,n){var r=t.decompressed.getContentWorker().pipe(new s);r.on("error",(function(t){n(t)})).on("end",(function(){r.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var n=this;return e=r.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),c.isNode&&c.isStream(t)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new a(e);return n.load(t),n})).then((function(t){var n=[o.Promise.resolve(t)],r=t.files;if(e.checkCRC32)for(var i=0;i<r.length;i++)n.push(u(r[i]));return o.Promise.all(n)})).then((function(t){for(var r=t.shift(),o=r.files,i=0;i<o.length;i++){var a=o[i];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){"use strict";var r=t("../utils"),o=t("../stream/GenericWorker");function i(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}r.inherits(i,o),i.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){"use strict";var r=t("readable-stream").Readable;function o(t,e,n){r.call(this,e),this._helper=t;var o=this;t.on("data",(function(t,e){o.push(t)||o._helper.pause(),n&&n(e)})).on("error",(function(t){o.emit("error",t)})).on("end",(function(){o.push(null)}))}t("../utils").inherits(o,r),o.prototype._read=function(){this._helper.resume()},e.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,r){"use strict";n.exports={isNode:"undefined"!=typeof e,newBufferFrom:function(t,n){if(e.from&&e.from!==Uint8Array.from)return e.from(t,n);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new e(t,n)},allocBuffer:function(t){if(e.alloc)return e.alloc(t);var n=new e(t);return n.fill(0),n},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){"use strict";function r(t,e,n){var r,o=i.getTypeOf(e),s=i.extend(n||{},c);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=y(t)),s.createFolders&&(r=h(t))&&v.call(this,r,!0);var f="string"===o&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!f),(e instanceof u&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",o="string");var m=null;m=e instanceof u||e instanceof a?e:p.isNode&&p.isStream(e)?new d(t,e):i.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var g=new l(t,m,s);this.files[t]=g}var o=t("./utf8"),i=t("./utils"),a=t("./stream/GenericWorker"),s=t("./stream/StreamHelper"),c=t("./defaults"),u=t("./compressedObject"),l=t("./zipObject"),f=t("./generate"),p=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),h=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},y=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},v=function(t,e){return e=void 0!==e?e:c.createFolders,t=y(t),this.files[t]||r.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function m(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var g={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,r;for(e in this.files)r=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,r)},filter:function(t){var e=[];return this.forEach((function(n,r){t(n,r)&&e.push(r)})),e},file:function(t,e,n){if(1!==arguments.length)return t=this.root+t,r.call(this,t,e,n),this;if(m(t)){var o=t;return this.filter((function(t,e){return!e.dir&&o.test(t)}))}var i=this.files[this.root+t];return i&&!i.dir?i:null},folder:function(t){if(!t)return this;if(m(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=v.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=i.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");i.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";e=f.generateWorker(this,n,r)}catch(t){(e=new a("error")).error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=g},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){"use strict";var r=t("./DataReader");function o(t){r.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(o,r),o.prototype.byteAt=function(t){return this.data[this.zero+t]},o.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),o=t.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===e&&this.data[i+1]===n&&this.data[i+2]===r&&this.data[i+3]===o)return i-this.zero;return-1},o.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),o=t.charCodeAt(3),i=this.readData(4);return e===i[0]&&n===i[1]&&r===i[2]&&o===i[3]},o.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){"use strict";var r=t("../utils");function o(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=o},{"../utils":32}],19:[function(t,e,n){"use strict";var r=t("./Uint8ArrayReader");function o(t){r.call(this,t)}t("../utils").inherits(o,r),o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){"use strict";var r=t("./DataReader");function o(t){r.call(this,t)}t("../utils").inherits(o,r),o.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},o.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},o.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){"use strict";var r=t("./ArrayReader");function o(t){r.call(this,t)}t("../utils").inherits(o,r),o.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){"use strict";var r=t("../utils"),o=t("../support"),i=t("./ArrayReader"),a=t("./StringReader"),s=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");e.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||o.uint8array?"nodebuffer"===e?new s(t):o.uint8array?new c(r.transformTo("uint8array",t)):new i(r.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,n){"use strict";var r=t("./GenericWorker"),o=t("../utils");function i(t){r.call(this,"ConvertWorker to "+t),this.destType=t}o.inherits(i,r),i.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},e.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){"use strict";var r=t("./GenericWorker"),o=t("../crc32");function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(i,r),i.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){"use strict";var r=t("../utils"),o=t("./GenericWorker");function i(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}r.inherits(i,o),i.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}o.prototype.processChunk.call(this,t)},e.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){"use strict";var r=t("../utils"),o=t("./GenericWorker");function i(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=r.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}r.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){"use strict";function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=r},{}],29:[function(t,n,r){"use strict";var o=t("../utils"),i=t("./ConvertWorker"),a=t("./GenericWorker"),s=t("../base64"),c=t("../support"),u=t("../external"),l=null;if(c.nodestream)try{l=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function f(t,n){return new u.Promise((function(r,i){var a=[],c=t._internalType,u=t._outputType,l=t._mimeType;t.on("data",(function(t,e){a.push(t),n&&n(e)})).on("error",(function(t){a=[],i(t)})).on("end",(function(){try{var t=function(t,e,n){switch(t){case"blob":return o.newBlob(o.transformTo("arraybuffer",e),n);case"base64":return s.encode(e);default:return o.transformTo(t,e)}}(u,function(t,n){var r,o=0,i=null,a=0;for(r=0;r<n.length;r++)a+=n[r].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(i=new Uint8Array(a),r=0;r<n.length;r++)i.set(n[r],o),o+=n[r].length;return i;case"nodebuffer":return e.concat(n);default:throw new Error("concat : unsupported type '"+t+"'")}}(c,a),l);r(t)}catch(t){i(t)}a=[]})).resume()}))}function p(t,e,n){var r=e;switch(e){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=e,this._mimeType=n,o.checkSupport(r),this._worker=t.pipe(new i(r)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}p.prototype={accumulate:function(t){return f(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){o.delay(e,arguments,n)})),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(o.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},t)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof e,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var o=new ArrayBuffer(0);try{r.blob=0===new Blob([o],{type:"application/zip"}).size}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(o),r.blob=0===i.getBlob("application/zip").size}catch(t){r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch(t){r.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){"use strict";for(var r=t("./utils"),o=t("./support"),i=t("./nodejsUtils"),a=t("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function l(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(t){return o.nodebuffer?i.newBufferFrom(t,"utf-8"):function(t){var e,n,r,i,a,s=t.length,c=0;for(i=0;i<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=o.uint8array?new Uint8Array(c):new Array(c),i=a=0;a<c;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e}(t)},n.utf8decode=function(t){return o.nodebuffer?r.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,o,i,a=t.length,c=new Array(2*a);for(e=n=0;e<a;)if((o=t[e++])<128)c[n++]=o;else if(4<(i=s[o]))c[n++]=65533,e+=i-1;else{for(o&=2===i?31:3===i?15:7;1<i&&e<a;)o=o<<6|63&t[e++],i--;1<i?c[n++]=65533:o<65536?c[n++]=o:(o-=65536,c[n++]=55296|o>>10&1023,c[n++]=56320|1023&o)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),r.applyFromCharCode(c)}(t=r.transformTo(o.uint8array?"uint8array":"array",t))},r.inherits(u,a),u.prototype.processChunk=function(t){var e=r.transformTo(o.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var i=e;(e=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),e.set(i,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}(e),c=e;a!==e.length&&(o.uint8array?(c=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(c=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:n.utf8decode(c),meta:t.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,r.inherits(l,a),l.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})},n.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){"use strict";var r=t("./support"),o=t("./base64"),i=t("./nodejsUtils"),a=t("set-immediate-shim"),s=t("./external");function c(t){return t}function u(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}n.newBlob=function(e,r){n.checkSupport("blob");try{return new Blob([e],{type:r})}catch(t){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return o.append(e),o.getBlob(r)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(t,e,n){var r=[],o=0,i=t.length;if(i<=n)return String.fromCharCode.apply(null,t);for(;o<i;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(o,Math.min(o+n,i)))):r.push(String.fromCharCode.apply(null,t.subarray(o,Math.min(o+n,i)))),o+=n;return r.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(t){return!1}}()}};function f(t){var e=65536,r=n.getTypeOf(t),o=!0;if("uint8array"===r?o=l.applyCanBeUsed.uint8array:"nodebuffer"===r&&(o=l.applyCanBeUsed.nodebuffer),o)for(;1<e;)try{return l.stringifyByChunk(t,r,e)}catch(t){e=Math.floor(e/2)}return l.stringifyByChar(t)}function p(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}n.applyFromCharCode=f;var d={};d.string={string:c,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return d.string.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:function(t){return u(t,i.allocBuffer(t.length))}},d.array={string:f,array:c,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return i.newBufferFrom(t)}},d.arraybuffer={string:function(t){return f(new Uint8Array(t))},array:function(t){return p(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:c,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return i.newBufferFrom(new Uint8Array(t))}},d.uint8array={string:f,array:function(t){return p(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:c,nodebuffer:function(t){return i.newBufferFrom(t)}},d.nodebuffer={string:f,array:function(t){return p(t,new Array(t.length))},arraybuffer:function(t){return d.nodebuffer.uint8array(t).buffer},uint8array:function(t){return p(t,new Uint8Array(t.length))},nodebuffer:c},n.transformTo=function(t,e){if(e=e||"",!t)return e;n.checkSupport(t);var r=n.getTypeOf(e);return d[r][t](e)},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":r.nodebuffer&&i.isBuffer(t)?"nodebuffer":r.uint8array&&t instanceof Uint8Array?"uint8array":r.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!r[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)r+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return r},n.delay=function(t,e,n){a((function(){t.apply(n||null,e||[])}))},n.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},n.prepareContent=function(t,e,i,a,c){return s.Promise.resolve(e).then((function(t){return r.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise((function(e,n){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){n(t.target.error)},r.readAsArrayBuffer(t)})):t})).then((function(e){var l=n.getTypeOf(e);return l?("arraybuffer"===l?e=n.transformTo("uint8array",e):"string"===l&&(c?e=o.decode(e):i&&!0!==a&&(e=function(t){return u(t,r.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),o=t("./utils"),i=t("./signature"),a=t("./zipEntry"),s=(t("./utf8"),t("./support"));function c(t){this.files=[],this.loadOptions=t}c.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4)===e;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",n=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(0<r)this.isSignature(e,i.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=r(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),o=t("./utils"),i=t("./compressedObject"),a=t("./crc32"),s=t("./utf8"),c=t("./compressions"),u=t("./support");function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in c)if(c.hasOwnProperty(e)&&c[e].magic===t)return c[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,o=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<o;)e=t.readInt(2),n=t.readInt(2),r=t.readData(n),this.extraFields[e]={id:e,length:n,value:r};t.setIndex(o)},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=r(t.value);return 1!==e.readInt(1)||a(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=r(t.value);return 1!==e.readInt(1)||a(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){"use strict";function r(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var o=t("./stream/StreamHelper"),i=t("./stream/DataWorker"),a=t("./utf8"),s=t("./compressedObject"),c=t("./stream/GenericWorker");r.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var i=!this._dataBinary;i&&!r&&(e=e.pipe(new a.Utf8EncodeWorker)),!i&&r&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new c("error")).error(t)}return new o(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new i(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)r.prototype[u[f]]=l;e.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,r){(function(t){"use strict";var n,r,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,a=new o(l),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var c=new t.MessageChannel;c.port1.onmessage=l,n=function(){c.port2.postMessage(0)}}var u=[];function l(){var t,e;r=!0;for(var n=u.length;n;){for(e=u,u=[],t=-1;++t<n;)e[t]();n=u.length}r=!1}e.exports=function(t){1!==u.push(t)||r||n()}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,n){"use strict";var r=t("immediate");function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==o&&d(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(t,e,n){r((function(){var r;try{r=e(n)}catch(r){return i.reject(t,r)}r===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,r)}))}function p(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var n=!1;function r(e){n||(n=!0,i.reject(t,e))}function o(e){n||(n=!0,i.resolve(t,e))}var a=h((function(){e(o,r)}));"error"===a.status&&r(a.value)}function h(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=u).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))},u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(o);return this.state!==c?f(n,this.state===s?t:e,this.outcome):this.queue.push(new l(n,t,e)),n},l.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){i.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},i.resolve=function(t,e){var n=h(p,e);if("error"===n.status)return i.reject(t,n.value);var r=n.value;if(r)d(t,r);else{t.state=s,t.outcome=e;for(var o=-1,a=t.queue.length;++o<a;)t.queue[o].callFulfilled(e)}return t},i.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:i.resolve(new this(o),t)},u.reject=function(t){var e=new this(o);return i.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,u=new this(o);++c<n;)l(t[c],c);return u;function l(t,o){e.resolve(t).then((function(t){a[o]=t,++s!==n||r||(r=!0,i.resolve(u,a))}),(function(t){r||(r=!0,i.reject(u,t))}))}},u.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a,s=-1,c=new this(o);++s<n;)a=t[s],e.resolve(a).then((function(t){r||(r=!0,i.resolve(c,t))}),(function(t){r||(r=!0,i.reject(c,t))}));return c}},{immediate:36}],38:[function(t,e,n){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){"use strict";var r=t("./zlib/deflate"),o=t("./utils/common"),i=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),c=Object.prototype.toString,u=0,l=-1,f=0,p=8;function d(t){if(!(this instanceof d))return new d(t);this.options=o.assign({level:l,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==u)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var h;if(h="string"==typeof e.dictionary?i.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=r.deflateSetDictionary(this.strm,h))!==u)throw new Error(a[n]);this._dict_set=!0}}function h(t,e){var n=new d(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}d.prototype.push=function(t,e){var n,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=i.string2buf(t):"[object ArrayBuffer]"===c.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=r.deflate(s,a))&&n!==u)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==a||(this.onEnd(u),!(s.avail_out=0))},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=d,n.deflate=h,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,h(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){"use strict";var r=t("./zlib/inflate"),o=t("./utils/common"),i=t("./utils/strings"),a=t("./zlib/constants"),s=t("./zlib/messages"),c=t("./zlib/zstream"),u=t("./zlib/gzheader"),l=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function p(t,e){var n=new f(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(t,e){var n,s,c,u,f,p,d=this.strm,h=this.options.chunkSize,y=this.options.dictionary,v=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?d.input=i.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new o.Buf8(h),d.next_out=0,d.avail_out=h),(n=r.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&y&&(p="string"==typeof y?i.string2buf(y):"[object ArrayBuffer]"===l.call(y)?new Uint8Array(y):y,n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===v&&(n=a.Z_OK,v=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&n!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=i.utf8border(d.output,d.next_out),u=d.next_out-c,f=i.buf2string(d.output,c),d.next_out=u,d.avail_out=h-u,u&&o.arraySet(d.output,d.output,c,u,0),this.onData(f)):this.onData(o.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(v=!0)}while((0<d.avail_in||0===d.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(d.avail_out=0))},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=f,n.inflate=p,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,o){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),o);else for(var i=0;i<r;i++)t[o+i]=e[n+i]},flattenChunks:function(t){var e,n,r,o,i,a;for(e=r=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),e=o=0,n=t.length;e<n;e++)i=t[e],a.set(i,o),o+=i.length;return a}},i={arraySet:function(t,e,n,r,o){for(var i=0;i<r;i++)t[o+i]=e[n+i]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,i))},n.setTyped(r)},{}],42:[function(t,e,n){"use strict";var r=t("./common"),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){i=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(t,e){if(e<65537&&(t.subarray&&i||!t.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,n.string2buf=function(t){var e,n,o,i,a,s=t.length,c=0;for(i=0;i<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(c),i=a=0;a<c;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},n.buf2binstring=function(t){return c(t,t.length)},n.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,o=e.length;n<o;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,o,i,s=e||t.length,u=new Array(2*s);for(n=r=0;n<s;)if((o=t[n++])<128)u[r++]=o;else if(4<(i=a[o]))u[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;1<i&&n<s;)o=o<<6|63&t[n++],i--;1<i?u[r++]=65533:o<65536?u[r++]=o:(o-=65536,u[r++]=55296|o>>10&1023,u[r++]=56320|1023&o)}return c(u,r)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},{"./common":41}],43:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){for(var o=65535&t|0,i=t>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;i=i+(o=o+e[r++]|0)|0,--a;);o%=65521,i%=65521}return o|i<<16|0}},{}],44:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,o){var i=r,a=o+n;t^=-1;for(var s=o;s<a;s++)t=t>>>8^i[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,n){"use strict";var r,o=t("../utils/common"),i=t("./trees"),a=t("./adler32"),s=t("./crc32"),c=t("./messages"),u=0,l=4,f=0,p=-2,d=-1,h=4,y=2,v=8,m=9,g=286,b=30,w=19,_=2*g+1,S=15,O=3,I=258,E=I+O+1,C=42,x=113,A=1,P=2,T=3,j=4;function D(t,e){return t.msg=c[e],e}function k(t){return(t<<1)-(4<t?9:0)}function L(t){for(var e=t.length;0<=--e;)t[e]=0}function R(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(o.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function M(t,e){i._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,R(t.strm)}function B(t,e){t.pending_buf[t.pending++]=e}function N(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function F(t,e){var n,r,o=t.max_chain_length,i=t.strstart,a=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-E?t.strstart-(t.w_size-E):0,u=t.window,l=t.w_mask,f=t.prev,p=t.strstart+I,d=u[i+a-1],h=u[i+a];t.prev_length>=t.good_match&&(o>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(n=e)+a]===h&&u[n+a-1]===d&&u[n]===u[i]&&u[++n]===u[i+1]){i+=2,n++;do{}while(u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&i<p);if(r=I-(p-i),i=p-I,a<r){if(t.match_start=e,s<=(a=r))break;d=u[i+a-1],h=u[i+a]}}}while((e=f[e&l])>c&&0!=--o);return a<=t.lookahead?a:t.lookahead}function U(t){var e,n,r,i,c,u,l,f,p,d,h=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-E)){for(o.arraySet(t.window,t.window,h,h,0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=n=t.hash_size;r=t.head[--e],t.head[e]=h<=r?r-h:0,--n;);for(e=n=h;r=t.prev[--e],t.prev[e]=h<=r?r-h:0,--n;);i+=h}if(0===t.strm.avail_in)break;if(u=t.strm,l=t.window,f=t.strstart+t.lookahead,p=i,d=void 0,d=u.avail_in,p<d&&(d=p),n=0===d?0:(u.avail_in-=d,o.arraySet(l,u.input,u.next_in,d,f),1===u.state.wrap?u.adler=a(u.adler,l,d,f):2===u.state.wrap&&(u.adler=s(u.adler,l,d,f)),u.next_in+=d,u.total_in+=d,d),t.lookahead+=n,t.lookahead+t.insert>=O)for(c=t.strstart-t.insert,t.ins_h=t.window[c],t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+O-1])&t.hash_mask,t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<O)););}while(t.lookahead<E&&0!==t.strm.avail_in)}function z(t,e){for(var n,r;;){if(t.lookahead<E){if(U(t),t.lookahead<E&&e===u)return A;if(0===t.lookahead)break}if(n=0,t.lookahead>=O&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-E&&(t.match_length=F(t,n)),t.match_length>=O)if(r=i._tr_tally(t,t.strstart-t.match_start,t.match_length-O),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=O){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(M(t,!1),0===t.strm.avail_out))return A}return t.insert=t.strstart<O-1?t.strstart:O-1,e===l?(M(t,!0),0===t.strm.avail_out?T:j):t.last_lit&&(M(t,!1),0===t.strm.avail_out)?A:P}function V(t,e){for(var n,r,o;;){if(t.lookahead<E){if(U(t),t.lookahead<E&&e===u)return A;if(0===t.lookahead)break}if(n=0,t.lookahead>=O&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=O-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-E&&(t.match_length=F(t,n),t.match_length<=5&&(1===t.strategy||t.match_length===O&&4096<t.strstart-t.match_start)&&(t.match_length=O-1)),t.prev_length>=O&&t.match_length<=t.prev_length){for(o=t.strstart+t.lookahead-O,r=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-O),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=O-1,t.strstart++,r&&(M(t,!1),0===t.strm.avail_out))return A}else if(t.match_available){if((r=i._tr_tally(t,0,t.window[t.strstart-1]))&&M(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return A}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<O-1?t.strstart:O-1,e===l?(M(t,!0),0===t.strm.avail_out?T:j):t.last_lit&&(M(t,!1),0===t.strm.avail_out)?A:P}function W(t,e,n,r,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=o}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*_),this.dyn_dtree=new o.Buf16(2*(2*b+1)),this.bl_tree=new o.Buf16(2*(2*w+1)),L(this.dyn_ltree),L(this.dyn_dtree),L(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(S+1),this.heap=new o.Buf16(2*g+1),L(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*g+1),L(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Y(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=y,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?C:x,t.adler=2===e.wrap?0:1,e.last_flush=u,i._tr_init(e),f):D(t,p)}function G(t){var e=Y(t);return e===f&&function(t){t.window_size=2*t.w_size,L(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=O-1,t.match_available=0,t.ins_h=0}(t.state),e}function $(t,e,n,r,i,a){if(!t)return p;var s=1;if(e===d&&(e=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),i<1||m<i||n!==v||r<8||15<r||e<0||9<e||a<0||h<a)return D(t,p);8===r&&(r=9);var c=new H;return(t.state=c).strm=t,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=i+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+O-1)/O),c.window=new o.Buf8(2*c.w_size),c.head=new o.Buf16(c.hash_size),c.prev=new o.Buf16(c.w_size),c.lit_bufsize=1<<i+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new o.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=a,c.method=n,G(t)}r=[new W(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(U(t),0===t.lookahead&&e===u)return A;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,M(t,!1),0===t.strm.avail_out))return A;if(t.strstart-t.block_start>=t.w_size-E&&(M(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===l?(M(t,!0),0===t.strm.avail_out?T:j):(t.strstart>t.block_start&&(M(t,!1),t.strm.avail_out),A)})),new W(4,4,8,4,z),new W(4,5,16,8,z),new W(4,6,32,32,z),new W(4,4,16,16,V),new W(8,16,32,32,V),new W(8,16,128,128,V),new W(8,32,128,256,V),new W(32,128,258,1024,V),new W(32,258,258,4096,V)],n.deflateInit=function(t,e){return $(t,e,v,15,8,0)},n.deflateInit2=$,n.deflateReset=G,n.deflateResetKeep=Y,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?p:(t.state.gzhead=e,f):p},n.deflate=function(t,e){var n,o,a,c;if(!t||!t.state||5<e||e<0)return t?D(t,p):p;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||666===o.status&&e!==l)return D(t,0===t.avail_out?-5:p);if(o.strm=t,n=o.last_flush,o.last_flush=e,o.status===C)if(2===o.wrap)t.adler=0,B(o,31),B(o,139),B(o,8),o.gzhead?(B(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),B(o,255&o.gzhead.time),B(o,o.gzhead.time>>8&255),B(o,o.gzhead.time>>16&255),B(o,o.gzhead.time>>24&255),B(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),B(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(B(o,255&o.gzhead.extra.length),B(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=s(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(B(o,0),B(o,0),B(o,0),B(o,0),B(o,0),B(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),B(o,3),o.status=x);else{var d=v+(o.w_bits-8<<4)<<8;d|=(2<=o.strategy||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(d|=32),d+=31-d%31,o.status=x,N(o,d),0!==o.strstart&&(N(o,t.adler>>>16),N(o,65535&t.adler)),t.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),R(t),a=o.pending,o.pending!==o.pending_buf_size));)B(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),R(t),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,B(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),R(t),a=o.pending,o.pending===o.pending_buf_size)){c=1;break}c=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,B(o,c)}while(0!==c);o.gzhead.hcrc&&o.pending>a&&(t.adler=s(t.adler,o.pending_buf,o.pending-a,a)),0===c&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&R(t),o.pending+2<=o.pending_buf_size&&(B(o,255&t.adler),B(o,t.adler>>8&255),t.adler=0,o.status=x)):o.status=x),0!==o.pending){if(R(t),0===t.avail_out)return o.last_flush=-1,f}else if(0===t.avail_in&&k(e)<=k(n)&&e!==l)return D(t,-5);if(666===o.status&&0!==t.avail_in)return D(t,-5);if(0!==t.avail_in||0!==o.lookahead||e!==u&&666!==o.status){var h=2===o.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(U(t),0===t.lookahead)){if(e===u)return A;break}if(t.match_length=0,n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(M(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===l?(M(t,!0),0===t.strm.avail_out?T:j):t.last_lit&&(M(t,!1),0===t.strm.avail_out)?A:P}(o,e):3===o.strategy?function(t,e){for(var n,r,o,a,s=t.window;;){if(t.lookahead<=I){if(U(t),t.lookahead<=I&&e===u)return A;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=O&&0<t.strstart&&(r=s[o=t.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){a=t.strstart+I;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<a);t.match_length=I-(a-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=O?(n=i._tr_tally(t,1,t.match_length-O),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(M(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===l?(M(t,!0),0===t.strm.avail_out?T:j):t.last_lit&&(M(t,!1),0===t.strm.avail_out)?A:P}(o,e):r[o.level].func(o,e);if(h!==T&&h!==j||(o.status=666),h===A||h===T)return 0===t.avail_out&&(o.last_flush=-1),f;if(h===P&&(1===e?i._tr_align(o):5!==e&&(i._tr_stored_block(o,0,0,!1),3===e&&(L(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),R(t),0===t.avail_out))return o.last_flush=-1,f}return e!==l?f:o.wrap<=0?1:(2===o.wrap?(B(o,255&t.adler),B(o,t.adler>>8&255),B(o,t.adler>>16&255),B(o,t.adler>>24&255),B(o,255&t.total_in),B(o,t.total_in>>8&255),B(o,t.total_in>>16&255),B(o,t.total_in>>24&255)):(N(o,t.adler>>>16),N(o,65535&t.adler)),R(t),0<o.wrap&&(o.wrap=-o.wrap),0!==o.pending?f:1)},n.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==C&&69!==e&&73!==e&&91!==e&&103!==e&&e!==x&&666!==e?D(t,p):(t.state=null,e===x?D(t,-3):f):p},n.deflateSetDictionary=function(t,e){var n,r,i,s,c,u,l,d,h=e.length;if(!t||!t.state)return p;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==C||n.lookahead)return p;for(1===s&&(t.adler=a(t.adler,e,h,0)),n.wrap=0,h>=n.w_size&&(0===s&&(L(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new o.Buf8(n.w_size),o.arraySet(d,e,h-n.w_size,n.w_size,0),e=d,h=n.w_size),c=t.avail_in,u=t.next_in,l=t.input,t.avail_in=h,t.next_in=0,t.input=e,U(n);n.lookahead>=O;){for(r=n.strstart,i=n.lookahead-(O-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+O-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--i;);n.strstart=r,n.lookahead=O-1,U(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=O-1,n.match_available=0,t.next_in=u,t.input=l,t.avail_in=c,n.wrap=s,f},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r,o,i,a,s,c,u,l,f,p,d,h,y,v,m,g,b,w,_,S,O,I,E,C;n=t.state,r=t.next_in,E=t.input,o=r+(t.avail_in-5),i=t.next_out,C=t.output,a=i-(e-t.avail_out),s=i+(t.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,f=n.wnext,p=n.window,d=n.hold,h=n.bits,y=n.lencode,v=n.distcode,m=(1<<n.lenbits)-1,g=(1<<n.distbits)-1;t:do{h<15&&(d+=E[r++]<<h,h+=8,d+=E[r++]<<h,h+=8),b=y[d&m];e:for(;;){if(d>>>=w=b>>>24,h-=w,0===(w=b>>>16&255))C[i++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=y[(65535&b)+(d&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}_=65535&b,(w&=15)&&(h<w&&(d+=E[r++]<<h,h+=8),_+=d&(1<<w)-1,d>>>=w,h-=w),h<15&&(d+=E[r++]<<h,h+=8,d+=E[r++]<<h,h+=8),b=v[d&g];n:for(;;){if(d>>>=w=b>>>24,h-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=v[(65535&b)+(d&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(S=65535&b,h<(w&=15)&&(d+=E[r++]<<h,(h+=8)<w&&(d+=E[r++]<<h,h+=8)),c<(S+=d&(1<<w)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=w,h-=w,(w=i-a)<S){if(l<(w=S-w)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(I=p,(O=0)===f){if(O+=u-w,w<_){for(_-=w;C[i++]=p[O++],--w;);O=i-S,I=C}}else if(f<w){if(O+=u+f-w,(w-=f)<_){for(_-=w;C[i++]=p[O++],--w;);if(O=0,f<_){for(_-=w=f;C[i++]=p[O++],--w;);O=i-S,I=C}}}else if(O+=f-w,w<_){for(_-=w;C[i++]=p[O++],--w;);O=i-S,I=C}for(;2<_;)C[i++]=I[O++],C[i++]=I[O++],C[i++]=I[O++],_-=3;_&&(C[i++]=I[O++],1<_&&(C[i++]=I[O++]))}else{for(O=i-S;C[i++]=C[O++],C[i++]=C[O++],C[i++]=C[O++],2<(_-=3););_&&(C[i++]=C[O++],1<_&&(C[i++]=C[O++]))}break}}break}}while(r<o&&i<s);r-=_=h>>3,d&=(1<<(h-=_<<3))-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?o-r+5:5-(r-o),t.avail_out=i<s?s-i+257:257-(i-s),n.hold=d,n.bits=h}},{}],49:[function(t,e,n){"use strict";var r=t("../utils/common"),o=t("./adler32"),i=t("./crc32"),a=t("./inffast"),s=t("./inftrees"),c=1,u=2,l=0,f=-2,p=1,d=852,h=592;function y(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=p,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(d),e.distcode=e.distdyn=new r.Buf32(h),e.sane=1,e.back=-1,l):f}function g(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,m(t)):f}function b(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?f:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,g(t))):f}function w(t,e){var n,r;return t?(r=new v,(t.state=r).window=null,(n=b(t,e))!==l&&(t.state=null),n):f}var _,S,O=!0;function I(t){if(O){var e;for(_=new r.Buf32(512),S=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(c,t.lens,0,288,_,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(u,t.lens,0,32,S,0,t.work,{bits:5}),O=!1}t.lencode=_,t.lenbits=9,t.distcode=S,t.distbits=5}function E(t,e,n,o){var i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),o>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(o<(i=a.wsize-a.wnext)&&(i=o),r.arraySet(a.window,e,n-o,i,a.wnext),(o-=i)?(r.arraySet(a.window,e,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}n.inflateReset=g,n.inflateReset2=b,n.inflateResetKeep=m,n.inflateInit=function(t){return w(t,15)},n.inflateInit2=w,n.inflate=function(t,e){var n,d,h,v,m,g,b,w,_,S,O,C,x,A,P,T,j,D,k,L,R,M,B,N,F=0,U=new r.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return f;12===(n=t.state).mode&&(n.mode=13),m=t.next_out,h=t.output,b=t.avail_out,v=t.next_in,d=t.input,g=t.avail_in,w=n.hold,_=n.bits,S=g,O=b,M=l;t:for(;;)switch(n.mode){case p:if(0===n.wrap){n.mode=13;break}for(;_<16;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}if(2&n.wrap&&35615===w){U[n.check=0]=255&w,U[1]=w>>>8&255,n.check=i(n.check,U,2,0),_=w=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&w)<<8)+(w>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&w)){t.msg="unknown compression method",n.mode=30;break}if(_-=4,R=8+(15&(w>>>=4)),0===n.wbits)n.wbits=R;else if(R>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<R,t.adler=n.check=1,n.mode=512&w?10:12,_=w=0;break;case 2:for(;_<16;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}if(n.flags=w,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=w>>8&1),512&n.flags&&(U[0]=255&w,U[1]=w>>>8&255,n.check=i(n.check,U,2,0)),_=w=0,n.mode=3;case 3:for(;_<32;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}n.head&&(n.head.time=w),512&n.flags&&(U[0]=255&w,U[1]=w>>>8&255,U[2]=w>>>16&255,U[3]=w>>>24&255,n.check=i(n.check,U,4,0)),_=w=0,n.mode=4;case 4:for(;_<16;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}n.head&&(n.head.xflags=255&w,n.head.os=w>>8),512&n.flags&&(U[0]=255&w,U[1]=w>>>8&255,n.check=i(n.check,U,2,0)),_=w=0,n.mode=5;case 5:if(1024&n.flags){for(;_<16;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}n.length=w,n.head&&(n.head.extra_len=w),512&n.flags&&(U[0]=255&w,U[1]=w>>>8&255,n.check=i(n.check,U,2,0)),_=w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(g<(C=n.length)&&(C=g),C&&(n.head&&(R=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,d,v,C,R)),512&n.flags&&(n.check=i(n.check,d,C,v)),g-=C,v+=C,n.length-=C),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break t;for(C=0;R=d[v+C++],n.head&&R&&n.length<65536&&(n.head.name+=String.fromCharCode(R)),R&&C<g;);if(512&n.flags&&(n.check=i(n.check,d,C,v)),g-=C,v+=C,R)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break t;for(C=0;R=d[v+C++],n.head&&R&&n.length<65536&&(n.head.comment+=String.fromCharCode(R)),R&&C<g;);if(512&n.flags&&(n.check=i(n.check,d,C,v)),g-=C,v+=C,R)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;_<16;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}if(w!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}_=w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;_<32;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}t.adler=n.check=y(w),_=w=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=m,t.avail_out=b,t.next_in=v,t.avail_in=g,n.hold=w,n.bits=_,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){w>>>=7&_,_-=7&_,n.mode=27;break}for(;_<3;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}switch(n.last=1&w,_-=1,3&(w>>>=1)){case 0:n.mode=14;break;case 1:if(I(n),n.mode=20,6!==e)break;w>>>=2,_-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}w>>>=2,_-=2;break;case 14:for(w>>>=7&_,_-=7&_;_<32;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}if((65535&w)!=(w>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&w,_=w=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(C=n.length){if(g<C&&(C=g),b<C&&(C=b),0===C)break t;r.arraySet(h,d,v,C,m),g-=C,v+=C,b-=C,m+=C,n.length-=C;break}n.mode=12;break;case 17:for(;_<14;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}if(n.nlen=257+(31&w),w>>>=5,_-=5,n.ndist=1+(31&w),w>>>=5,_-=5,n.ncode=4+(15&w),w>>>=4,_-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;_<3;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}n.lens[z[n.have++]]=7&w,w>>>=3,_-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,B={bits:n.lenbits},M=s(0,n.lens,0,19,n.lencode,0,n.work,B),n.lenbits=B.bits,M){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;T=(F=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,j=65535&F,!((P=F>>>24)<=_);){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}if(j<16)w>>>=P,_-=P,n.lens[n.have++]=j;else{if(16===j){for(N=P+2;_<N;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}if(w>>>=P,_-=P,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}R=n.lens[n.have-1],C=3+(3&w),w>>>=2,_-=2}else if(17===j){for(N=P+3;_<N;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}_-=P,R=0,C=3+(7&(w>>>=P)),w>>>=3,_-=3}else{for(N=P+7;_<N;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}_-=P,R=0,C=11+(127&(w>>>=P)),w>>>=7,_-=7}if(n.have+C>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=R}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,B={bits:n.lenbits},M=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,B),n.lenbits=B.bits,M){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,B={bits:n.distbits},M=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,B),n.distbits=B.bits,M){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=g&&258<=b){t.next_out=m,t.avail_out=b,t.next_in=v,t.avail_in=g,n.hold=w,n.bits=_,a(t,O),m=t.next_out,h=t.output,b=t.avail_out,v=t.next_in,d=t.input,g=t.avail_in,w=n.hold,_=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;T=(F=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,j=65535&F,!((P=F>>>24)<=_);){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}if(T&&0==(240&T)){for(D=P,k=T,L=j;T=(F=n.lencode[L+((w&(1<<D+k)-1)>>D)])>>>16&255,j=65535&F,!(D+(P=F>>>24)<=_);){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}w>>>=D,_-=D,n.back+=D}if(w>>>=P,_-=P,n.back+=P,n.length=j,0===T){n.mode=26;break}if(32&T){n.back=-1,n.mode=12;break}if(64&T){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&T,n.mode=22;case 22:if(n.extra){for(N=n.extra;_<N;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}n.length+=w&(1<<n.extra)-1,w>>>=n.extra,_-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;T=(F=n.distcode[w&(1<<n.distbits)-1])>>>16&255,j=65535&F,!((P=F>>>24)<=_);){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}if(0==(240&T)){for(D=P,k=T,L=j;T=(F=n.distcode[L+((w&(1<<D+k)-1)>>D)])>>>16&255,j=65535&F,!(D+(P=F>>>24)<=_);){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}w>>>=D,_-=D,n.back+=D}if(w>>>=P,_-=P,n.back+=P,64&T){t.msg="invalid distance code",n.mode=30;break}n.offset=j,n.extra=15&T,n.mode=24;case 24:if(n.extra){for(N=n.extra;_<N;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}n.offset+=w&(1<<n.extra)-1,w>>>=n.extra,_-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===b)break t;if(C=O-b,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}x=C>n.wnext?(C-=n.wnext,n.wsize-C):n.wnext-C,C>n.length&&(C=n.length),A=n.window}else A=h,x=m-n.offset,C=n.length;for(b<C&&(C=b),b-=C,n.length-=C;h[m++]=A[x++],--C;);0===n.length&&(n.mode=21);break;case 26:if(0===b)break t;h[m++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;_<32;){if(0===g)break t;g--,w|=d[v++]<<_,_+=8}if(O-=b,t.total_out+=O,n.total+=O,O&&(t.adler=n.check=n.flags?i(n.check,h,O,m-O):o(n.check,h,O,m-O)),O=b,(n.flags?w:y(w))!==n.check){t.msg="incorrect data check",n.mode=30;break}_=w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;_<32;){if(0===g)break t;g--,w+=d[v++]<<_,_+=8}if(w!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}_=w=0}n.mode=29;case 29:M=1;break t;case 30:M=-3;break t;case 31:return-4;case 32:default:return f}return t.next_out=m,t.avail_out=b,t.next_in=v,t.avail_in=g,n.hold=w,n.bits=_,(n.wsize||O!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&E(t,t.output,t.next_out,O-t.avail_out)?(n.mode=31,-4):(S-=t.avail_in,O-=t.avail_out,t.total_in+=S,t.total_out+=O,n.total+=O,n.wrap&&O&&(t.adler=n.check=n.flags?i(n.check,h,O,t.next_out-O):o(n.check,h,O,t.next_out-O)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==S&&0===O||4===e)&&M===l&&(M=-5),M)},n.inflateEnd=function(t){if(!t||!t.state)return f;var e=t.state;return e.window&&(e.window=null),t.state=null,l},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?f:((n.head=e).done=!1,l):f},n.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?f:11===n.mode&&o(1,e,r,0)!==n.check?-3:E(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,l):f},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){"use strict";var r=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,c,u,l,f,p){var d,h,y,v,m,g,b,w,_,S=p.bits,O=0,I=0,E=0,C=0,x=0,A=0,P=0,T=0,j=0,D=0,k=null,L=0,R=new r.Buf16(16),M=new r.Buf16(16),B=null,N=0;for(O=0;O<=15;O++)R[O]=0;for(I=0;I<c;I++)R[e[n+I]]++;for(x=S,C=15;1<=C&&0===R[C];C--);if(C<x&&(x=C),0===C)return u[l++]=20971520,u[l++]=20971520,p.bits=1,0;for(E=1;E<C&&0===R[E];E++);for(x<E&&(x=E),O=T=1;O<=15;O++)if(T<<=1,(T-=R[O])<0)return-1;if(0<T&&(0===t||1!==C))return-1;for(M[1]=0,O=1;O<15;O++)M[O+1]=M[O]+R[O];for(I=0;I<c;I++)0!==e[n+I]&&(f[M[e[n+I]]++]=I);if(g=0===t?(k=B=f,19):1===t?(k=o,L-=257,B=i,N-=257,256):(k=a,B=s,-1),O=E,m=l,P=I=D=0,y=-1,v=(j=1<<(A=x))-1,1===t&&852<j||2===t&&592<j)return 1;for(;;){for(b=O-P,_=f[I]<g?(w=0,f[I]):f[I]>g?(w=B[N+f[I]],k[L+f[I]]):(w=96,0),d=1<<O-P,E=h=1<<A;u[m+(D>>P)+(h-=d)]=b<<24|w<<16|_|0,0!==h;);for(d=1<<O-1;D&d;)d>>=1;if(0!==d?(D&=d-1,D+=d):D=0,I++,0==--R[O]){if(O===C)break;O=e[n+f[I]]}if(x<O&&(D&v)!==y){for(0===P&&(P=x),m+=E,T=1<<(A=O-P);A+P<C&&!((T-=R[A+P])<=0);)A++,T<<=1;if(j+=1<<A,1===t&&852<j||2===t&&592<j)return 1;u[y=D&v]=x<<24|A<<16|m-l|0}}return 0!==D&&(u[m+D]=O-P<<24|64<<16|0),p.bits=x,0}},{"../utils/common":41}],51:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){"use strict";var r=t("../utils/common"),o=0,i=1;function a(t){for(var e=t.length;0<=--e;)t[e]=0}var s=0,c=29,u=256,l=u+1+c,f=30,p=19,d=2*l+1,h=15,y=16,v=7,m=256,g=16,b=17,w=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(2*(l+2));a(E);var C=new Array(2*f);a(C);var x=new Array(512);a(x);var A=new Array(256);a(A);var P=new Array(c);a(P);var T,j,D,k=new Array(f);function L(t,e,n,r,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=t&&t.length}function R(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function M(t){return t<256?x[t]:x[256+(t>>>7)]}function B(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function N(t,e,n){t.bi_valid>y-n?(t.bi_buf|=e<<t.bi_valid&65535,B(t,t.bi_buf),t.bi_buf=e>>y-t.bi_valid,t.bi_valid+=n-y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function F(t,e,n){N(t,n[2*e],n[2*e+1])}function U(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function z(t,e,n){var r,o,i=new Array(h+1),a=0;for(r=1;r<=h;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=e;o++){var s=t[2*o+1];0!==s&&(t[2*o]=U(i[s]++,s))}}function V(t){var e;for(e=0;e<l;e++)t.dyn_ltree[2*e]=0;for(e=0;e<f;e++)t.dyn_dtree[2*e]=0;for(e=0;e<p;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*m]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function W(t){8<t.bi_valid?B(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function H(t,e,n,r){var o=2*e,i=2*n;return t[o]<t[i]||t[o]===t[i]&&r[e]<=r[n]}function Y(t,e,n){for(var r=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&H(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!H(e,r,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=r}function G(t,e,n){var r,o,i,a,s=0;if(0!==t.last_lit)for(;r=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],o=t.pending_buf[t.l_buf+s],s++,0===r?F(t,o,e):(F(t,(i=A[o])+u+1,e),0!==(a=_[i])&&N(t,o-=P[i],a),F(t,i=M(--r),n),0!==(a=S[i])&&N(t,r-=k[i],a)),s<t.last_lit;);F(t,m,e)}function $(t,e){var n,r,o,i=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,c=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=d,n=0;n<c;n++)0!==i[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)i[2*(o=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[o]=0,t.opt_len--,s&&(t.static_len-=a[2*o+1]);for(e.max_code=u,n=t.heap_len>>1;1<=n;n--)Y(t,i,n);for(o=c;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Y(t,i,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,i[2*o]=i[2*n]+i[2*r],t.depth[o]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,i[2*n+1]=i[2*r+1]=o,t.heap[1]=o++,Y(t,i,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,o,i,a,s,c=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,f=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,y=e.stat_desc.extra_base,v=e.stat_desc.max_length,m=0;for(i=0;i<=h;i++)t.bl_count[i]=0;for(c[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<d;n++)v<(i=c[2*c[2*(r=t.heap[n])+1]+1]+1)&&(i=v,m++),c[2*r+1]=i,u<r||(t.bl_count[i]++,a=0,y<=r&&(a=p[r-y]),s=c[2*r],t.opt_len+=s*(i+a),f&&(t.static_len+=s*(l[2*r+1]+a)));if(0!==m){do{for(i=v-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[v]--,m-=2}while(0<m);for(i=v;0!==i;i--)for(r=t.bl_count[i];0!==r;)u<(o=t.heap[--n])||(c[2*o+1]!==i&&(t.opt_len+=(i-c[2*o+1])*c[2*o],c[2*o+1]=i),r--)}}(t,e),z(i,u,t.bl_count)}function X(t,e,n){var r,o,i=-1,a=e[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=e[2*(r+1)+1],++s<c&&o===a||(s<u?t.bl_tree[2*o]+=s:0!==o?(o!==i&&t.bl_tree[2*o]++,t.bl_tree[2*g]++):s<=10?t.bl_tree[2*b]++:t.bl_tree[2*w]++,i=o,u=(s=0)===a?(c=138,3):o===a?(c=6,3):(c=7,4))}function K(t,e,n){var r,o,i=-1,a=e[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),r=0;r<=n;r++)if(o=a,a=e[2*(r+1)+1],!(++s<c&&o===a)){if(s<u)for(;F(t,o,t.bl_tree),0!=--s;);else 0!==o?(o!==i&&(F(t,o,t.bl_tree),s--),F(t,g,t.bl_tree),N(t,s-3,2)):s<=10?(F(t,b,t.bl_tree),N(t,s-3,3)):(F(t,w,t.bl_tree),N(t,s-11,7));i=o,u=(s=0)===a?(c=138,3):o===a?(c=6,3):(c=7,4)}}a(k);var q=!1;function Z(t,e,n,o){N(t,(s<<1)+(o?1:0),3),function(t,e,n,o){W(t),o&&(B(t,n),B(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}n._tr_init=function(t){q||(function(){var t,e,n,r,o,i=new Array(h+1);for(r=n=0;r<c-1;r++)for(P[r]=n,t=0;t<1<<_[r];t++)A[n++]=r;for(A[n-1]=r,r=o=0;r<16;r++)for(k[r]=o,t=0;t<1<<S[r];t++)x[o++]=r;for(o>>=7;r<f;r++)for(k[r]=o<<7,t=0;t<1<<S[r]-7;t++)x[256+o++]=r;for(e=0;e<=h;e++)i[e]=0;for(t=0;t<=143;)E[2*t+1]=8,t++,i[8]++;for(;t<=255;)E[2*t+1]=9,t++,i[9]++;for(;t<=279;)E[2*t+1]=7,t++,i[7]++;for(;t<=287;)E[2*t+1]=8,t++,i[8]++;for(z(E,l+1,i),t=0;t<f;t++)C[2*t+1]=5,C[2*t]=U(t,5);T=new L(E,_,u+1,l,h),j=new L(C,S,0,f,h),D=new L(new Array(0),O,0,p,v)}(),q=!0),t.l_desc=new R(t.dyn_ltree,T),t.d_desc=new R(t.dyn_dtree,j),t.bl_desc=new R(t.bl_tree,D),t.bi_buf=0,t.bi_valid=0,V(t)},n._tr_stored_block=Z,n._tr_flush_block=function(t,e,n,r){var a,s,c=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return i;for(e=32;e<u;e++)if(0!==t.dyn_ltree[2*e])return i;return o}(t)),$(t,t.l_desc),$(t,t.d_desc),c=function(t){var e;for(X(t,t.dyn_ltree,t.l_desc.max_code),X(t,t.dyn_dtree,t.d_desc.max_code),$(t,t.bl_desc),e=p-1;3<=e&&0===t.bl_tree[2*I[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),a=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==e?Z(t,e,n,r):4===t.strategy||s===a?(N(t,2+(r?1:0),3),G(t,E,C)):(N(t,4+(r?1:0),3),function(t,e,n,r){var o;for(N(t,e-257,5),N(t,n-1,5),N(t,r-4,4),o=0;o<r;o++)N(t,t.bl_tree[2*I[o]+1],3);K(t,t.dyn_ltree,e-1),K(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,c+1),G(t,t.dyn_ltree,t.dyn_dtree)),V(t),r&&W(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(A[n]+u+1)]++,t.dyn_dtree[2*M(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){N(t,2,3),F(t,m,E),function(t){16===t.bi_valid?(B(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,n){"use strict";e.exports="function"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)}))}).call(this,n("b639").Buffer,n("c8ba"))},c61d:function(t,e,n){"use strict";n("3cbd")},c6b6:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},c6cd:function(t,e,n){var r=n("da84"),o=n("ce4e"),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},c740:function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").findIndex,i=n("44d2"),a="findIndex",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(a)},c85c:function(t){t.exports=JSON.parse('{"ui":{"viewer":{"context-menu":{"zoom":"Zoom","pan":"Mover","scroll":"Desplazar","open-mpr":"MPR"},"menu":{"cross-ref":"Líneas de referencia","toggle-fullscreen":"Pantalla completa","toggle-annotation":"Mostrar anotaciones","toggle-slice-looping":"Activar la lectura automática de series","scroll":"Desplazar","zoom":"Zoom","translate":"Mover","contrast":"Contraste","reset":"Restablecer","ruler":"Regla","protractor":"Transportador","layout-1-1":"Una célula","layout-1-2":"Dos células verticales","layout-2-1":"Dos células horizontales","layout-1-3":"Tres células verticales","layout-3-1":"Tres células horizontales","layout-2-2":"Cuatro células","sync-series":"Sincronizar series","toggle-menu":"Menú","open-mpr":"Activar modo MPR","windowing":{"title":"Windowing","options":{"default":"Automático"},"actions":{"invert":"Invertir"}},"advanced":{"title":"Ajustes avanzados","options":{"imagery":{"title":"Imaging","options":{"human":"Humano","vet":"Veterinario"}}}}}},"modals":{"import-file-popin":{"title":"Importar archivos"},"input-from-url":{"inputLabel":"Su URL","title":"Importar desde URL","submitButton":"Importar"},"toManyFiles":{"title":"¡Atención!","body":"Está intentando cargar demasiados archivos al mismo tiempo, la aplicación puede ralentizar."},"generic":{"cancel":"Cancelar","accept":"OK"}},"disclaimer":{"title":"IMAIOS DICOM Viewer no ha sido probado ni certificado para uso clínico. NO está aprobado como dispositivo médico. No se puede utilizar para diagnósticos en imágenes médicas.","accept":"Aceptar"},"use-app":{"title":"IDV es más rápido en la aplicación.","button":"Continuar en la aplicación","dismiss":"Cerrar"},"internet-explorer":{"upgrade-message":{"text":"Por favor, utilice otro navegador como {edge}, {chrome} o {firefox}.","edge":"Microsoft Edge","chrome":"Google Chrome","firefox":"Firefox"},"features-not-available":"Algunas funciones no son compatibles con Internet Explorer","dismiss":"Cerrar"}},"voter":{"set-slice-index":{"no-scroll-when-only-one-slice":"Esta serie solo contiene una imagen","begin-series":"Inicio de serie","end-series":"Fin de serie"}},"idv-placeholder":{"main-text":"Arrastre y suelte los archivos aquí","supported-files-format":"Formatos compatibles: JPEG, DICOM o ZIP","text-between-bar":"o","import-file":"Importar archivo","import-from-url":"Importar desde URL","import-from-dropbox":"Importar desde Dropbox"},"features":{"v-loading-feedback":{"label":"Cargando ..."},"v-import-demo-case":{"label":"Abrir un caso de demostración"},"v-top-bar":{"cancel":"Cancelar","save":"Guardar"},"v-presentation-mode":{"label":"Activar modo presentación","title":"Modo presentación"},"channel-explorer":{"title":"Seleccione el álbum en el que publicar su caso","submit":"Publicar","back":"Retroceder"}},"annotation":{"stroke":"Grosor del trazo","color":"Color"},"action":{"select_album":"Seleccione el álbum en el que desea publicar su caso"},"error":{"series-has-no-files":"Ocurrió un problema al cargar la serie \\"{seriesName}\\". Por favor, vuelva a intentarlo más tarde y, si el problema persiste, póngase en contacto con nuestro equipo de soporte."}}')},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},c8cc:function(t,e,n){"use strict";n("d8c5")},c8cf:function(t,e,n){"use strict";n("5935")},c8d2:function(t,e,n){var r=n("5e77").PROPER,o=n("d039"),i=n("5899"),a="​᠎";t.exports=function(t){return o((function(){return!!i[t]()||a[t]()!==a||r&&i[t].name!==t}))}},c96a:function(t,e,n){"use strict";var r=n("23e7"),o=n("857a"),i=n("af03");r({target:"String",proto:!0,forced:i("small")},{small:function(){return o(this,"small","","")}})},ca84:function(t,e,n){var r=n("5135"),o=n("fc6a"),i=n("4d64").indexOf,a=n("d012");t.exports=function(t,e){var n,s=o(t),c=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);while(e.length>c)r(s,n=e[c++])&&(~i(u,n)||u.push(n));return u}},ca91:function(t,e,n){"use strict";var r=n("ebb5"),o=n("d58f").left,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("reduce",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},caad:function(t,e,n){"use strict";var r=n("23e7"),o=n("4d64").includes,i=n("44d2");r({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cb05:function(t,e,n){},cb29:function(t,e,n){var r=n("23e7"),o=n("81d5"),i=n("44d2");r({target:"Array",proto:!0},{fill:o}),i("fill")},cc12:function(t,e,n){var r=n("da84"),o=n("861d"),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},cca6:function(t,e,n){var r=n("23e7"),o=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},cd26:function(t,e,n){"use strict";var r=n("ebb5"),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){var t,e=this,n=o(e).length,r=a(n/2),i=0;while(i<r)t=e[i],e[i++]=e[--n],e[n]=t;return e}))},cd7e:function(t,e,n){},cdf9:function(t,e,n){var r=n("825a"),o=n("861d"),i=n("f069");t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t),a=n.resolve;return a(e),n.promise}},ce4e:function(t,e,n){var r=n("da84");t.exports=function(t,e){try{Object.defineProperty(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,n){var r=n("da84"),o=n("1626"),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t]):r[t]&&r[t][e]}},d139:function(t,e,n){"use strict";var r=n("ebb5"),o=n("b727").find,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("find",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},d1e7:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},d28b:function(t,e,n){var r=n("746f");r("iterator")},d2af:function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("825a"),a=n("0366"),s=n("4acb"),c=n("2266");r({target:"Map",proto:!0,real:!0,forced:o},{find:function(t){var e=i(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(t,n,o){if(r(n,t,e))return o(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},d2bb:function(t,e,n){var r=n("825a"),o=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(i){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},d3b7:function(t,e,n){var r=n("00ee"),o=n("6eeb"),i=n("b041");r||o(Object.prototype,"toString",i,{unsafe:!0})},d44e:function(t,e,n){var r=n("9bf2").f,o=n("5135"),i=n("b622"),a=i("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},d4c3:function(t,e,n){var r=n("342f"),o=n("da84");t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},d58f:function(t,e,n){var r=n("59ed"),o=n("7b0b"),i=n("44ad"),a=n("50c4"),s=function(t){return function(e,n,s,c){r(n);var u=o(e),l=i(u),f=a(u.length),p=t?f-1:0,d=t?-1:1;if(s<2)while(1){if(p in l){c=l[p],p+=d;break}if(p+=d,t?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:f>p;p+=d)p in l&&(c=n(c,l[p],p,u));return c}};t.exports={left:s(!1),right:s(!0)}},d5d6:function(t,e,n){"use strict";var r=n("ebb5"),o=n("b727").forEach,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("forEach",(function(t){o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),o=n("9263"),i=n("d039"),a=n("b622"),s=n("9112"),c=a("species"),u=RegExp.prototype;t.exports=function(t,e,n,l){var f=a(t),p=!i((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),d=p&&!i((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!p||!d||n){var h=/./[f],y=e(f,""[t],(function(t,e,n,r,i){var a=e.exec;return a===o||a===u.exec?p&&!i?{done:!0,value:h.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}));r(String.prototype,t,y[0]),r(u,f,y[1])}l&&s(u[f],"sham",!0)}},d7a0:function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.901 18.131a.75.75 0 10-.964-1.15L9.01 18.6a2.75 2.75 0 11-3.535-4.213l1.927-1.617 1.603-1.346a2.75 2.75 0 013.875.339.75.75 0 101.149-.964 4.25 4.25 0 00-5.988-.524L6.437 11.62 4.51 13.237a4.25 4.25 0 005.464 6.511l1.927-1.617zM12.1 6.869a.75.75 0 10.964 1.15L14.99 6.4a2.75 2.75 0 113.536 4.213l-1.927 1.617-1.604 1.346a2.75 2.75 0 01-3.875-.339.75.75 0 10-1.149.964 4.25 4.25 0 005.988.524l1.604-1.346 1.927-1.617a4.25 4.25 0 00-5.464-6.511l-1.927 1.617z"}})]))}}},d7de:function(t,e,n){},d81d:function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").map,i=n("1dde"),a=i("map");r({target:"Array",proto:!0,forced:!a},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},d851:function(t,e){t.exports=r},d8a5:function(t,e,n){},d8c5:function(t,e,n){},d98c:function(t,e,n){"use strict";n("4d30")},d998:function(t,e,n){var r=n("342f");t.exports=/MSIE|Trident/.test(r)},d9b5:function(t,e,n){var r=n("1626"),o=n("d066"),i=n("fdbf");t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return r(e)&&Object(t)instanceof e}},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dac5:function(t,e,n){"use strict";n("cb05")},dbb4:function(t,e,n){var r=n("23e7"),o=n("83ab"),i=n("56ef"),a=n("fc6a"),s=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,n,r=a(t),o=s.f,u=i(r),l={},f=0;while(u.length>f)n=o(r,e=u[f++]),void 0!==n&&c(l,e,n);return l}})},dc4a:function(t,e,n){var r=n("59ed");t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},dc50:function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19 4.5H5a.5.5 0 00-.5.5v14a.5.5 0 00.5.5h14a.5.5 0 00.5-.5V5a.5.5 0 00-.5-.5zM5 3h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.25 14.25h17.5v1.5H3.25v-1.5zM3.25 8.25h17.5v1.5H3.25v-1.5z"}})]))}}},dca8:function(t,e,n){var r=n("23e7"),o=n("bb2f"),i=n("d039"),a=n("861d"),s=n("f183").onFreeze,c=Object.freeze,u=i((function(){c(1)}));r({target:"Object",stat:!0,forced:u,sham:!o},{freeze:function(t){return c&&a(t)?c(s(t)):t}})},dd07:function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({width:"24",height:"24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.098 17.192a8 8 0 111.067-1.055l3.616 3.616a.75.75 0 11-1.06 1.061l-3.623-3.622zM17.53 11a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z"}})]))}}},ddb0:function(t,e,n){var r=n("da84"),o=n("fdbc"),i=n("785a"),a=n("e260"),s=n("9112"),c=n("b622"),u=c("iterator"),l=c("toStringTag"),f=a.values,p=function(t,e){if(t){if(t[u]!==f)try{s(t,u,f)}catch(r){t[u]=f}if(t[l]||s(t,l,e),o[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(r){t[n]=a[n]}}};for(var d in o)p(r[d]&&r[d].prototype,d);p(i,"DOMTokenList")},dee5:function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("d066"),a=n("59ed"),s=n("825a"),c=n("0366"),u=n("4840"),l=n("5860"),f=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{filter:function(t){var e=s(this),n=l(e),r=c(t,arguments.length>1?arguments[1]:void 0,3),o=new(u(e,i("Set"))),p=a(o.add);return f(n,(function(t){r(t,t,e)&&p.call(o,t)}),{IS_ITERATOR:!0}),o}})},df75:function(t,e,n){var r=n("ca84"),o=n("7839");t.exports=Object.keys||function(t){return r(t,o)}},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t){"string"!==typeof t&&(t+="");var e,n=0,r=-1,o=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!o){n=e+1;break}}else-1===r&&(o=!1,r=e+1);return-1===r?"":t.slice(n,r)}function o(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return e=n(o(e.split("/"),(function(t){return!!t})),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),a="/"===i(t,-1);return t=n(o(t.split("/"),(function(t){return!!t})),!r).join("/"),t||r||(t="."),t&&a&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=r(t.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,c=0;c<a;c++)if(o[c]!==i[c]){s=c;break}var u=[];for(c=s;c<o.length;c++)u.push("..");return u=u.concat(i.slice(s)),u.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,o=!0,i=t.length-1;i>=1;--i)if(e=t.charCodeAt(i),47===e){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=r(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,r=-1,o=!0,i=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(o=!1,r=a+1),46===s?-1===e?e=a:1!==i&&(i=1):-1!==e&&(i=-1);else if(!o){n=a+1;break}}return-1===e||-1===r||0===i||1===i&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},dfb9:function(t,e){t.exports=function(t,e){var n=0,r=e.length,o=new t(r);while(r>n)o[n]=e[n++];return o}},e01a:function(t,e,n){"use strict";var r=n("23e7"),o=n("83ab"),i=n("da84"),a=n("5135"),s=n("1626"),c=n("861d"),u=n("9bf2").f,l=n("e893"),f=i.Symbol;if(o&&s(f)&&(!("description"in f.prototype)||void 0!==f().description)){var p={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new f(t):void 0===t?f():f(t);return""===t&&(p[e]=!0),e};l(d,f);var h=d.prototype=f.prototype;h.constructor=d;var y=h.toString,v="Symbol(test)"==String(f("test")),m=/^Symbol\((.*)\)[^)]+$/;u(h,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=y.call(t);if(a(p,t))return"";var n=v?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},e023:function(t,e,n){"use strict";n("8649")},e155:function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.5 19V5a.5.5 0 00-.5-.5H5a.5.5 0 00-.5.5v14a.5.5 0 00.5.5h14a.5.5 0 00.5-.5zM21 5v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h14a2 2 0 012 2z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.75 3.25v17.5h-1.5V3.25h1.5zM15.75 3.25v17.5h-1.5V3.25h1.5z"}})]))}}},e163:function(t,e,n){var r=n("5135"),o=n("1626"),i=n("7b0b"),a=n("f772"),s=n("e177"),c=a("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){var e=i(t);if(r(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof Object?u:null}},e177:function(t,e,n){var r=n("d039");t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,n){"use strict";var r=n("fc6a"),o=n("44d2"),i=n("3f8c"),a=n("69f3"),s=n("7dd0"),c="Array Iterator",u=a.set,l=a.getterFor(c);t.exports=s(Array,"Array",(function(t,e){u(this,{type:c,target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},e285:function(t,e,n){var r=n("da84"),o=r.isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&o(t)}},e2cc:function(t,e,n){var r=n("6eeb");t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},e3db:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},e3df:function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("7d72");r({target:"Set",proto:!0,real:!0,forced:o},{addAll:function(){return i.apply(this,arguments)}})},e439:function(t,e,n){var r=n("23e7"),o=n("d039"),i=n("fc6a"),a=n("06cf").f,s=n("83ab"),c=o((function(){a(1)})),u=!s||c;r({target:"Object",stat:!0,forced:u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},e482:function(t,e,n){"use strict";n("2d6f")},e495:function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("825a"),a=n("5860"),s=n("2266");r({target:"Set",proto:!0,real:!0,forced:o},{join:function(t){var e=i(this),n=a(e),r=void 0===t?",":String(t),o=[];return s(n,o.push,{that:o,IS_ITERATOR:!0}),o.join(r)}})},e538:function(t,e,n){var r=n("b622");e.f=r},e58c:function(t,e,n){"use strict";var r=n("fc6a"),o=n("a691"),i=n("50c4"),a=n("a640"),s=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,l=a("lastIndexOf"),f=u||!l;t.exports=f?function(t){if(u)return c.apply(this,arguments)||0;var e=r(this),n=i(e.length),a=n-1;for(arguments.length>1&&(a=s(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:c},e5a6:function(t,e){t.exports=o},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e6cf:function(t,e,n){"use strict";var r,o,i,a,s=n("23e7"),c=n("c430"),u=n("da84"),l=n("d066"),f=n("fea9"),p=n("6eeb"),d=n("e2cc"),h=n("d2bb"),y=n("d44e"),v=n("2626"),m=n("59ed"),g=n("1626"),b=n("861d"),w=n("19aa"),_=n("8925"),S=n("2266"),O=n("1c7e"),I=n("4840"),E=n("2cf4").set,C=n("b575"),x=n("cdf9"),A=n("44de"),P=n("f069"),T=n("e667"),j=n("69f3"),D=n("94ca"),k=n("b622"),L=n("6069"),R=n("605d"),M=n("2d00"),B=k("species"),N="Promise",F=j.get,U=j.set,z=j.getterFor(N),V=f&&f.prototype,W=f,H=V,Y=u.TypeError,G=u.document,$=u.process,X=P.f,K=X,q=!!(G&&G.createEvent&&u.dispatchEvent),Z=g(u.PromiseRejectionEvent),J="unhandledrejection",Q="rejectionhandled",tt=0,et=1,nt=2,rt=1,ot=2,it=!1,at=D(N,(function(){var t=_(W),e=t!==String(W);if(!e&&66===M)return!0;if(c&&!H["finally"])return!0;if(M>=51&&/native code/.test(t))return!1;var n=new W((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))},o=n.constructor={};return o[B]=r,it=n.then((function(){}))instanceof r,!it||!e&&L&&!Z})),st=at||!O((function(t){W.all(t)["catch"]((function(){}))})),ct=function(t){var e;return!(!b(t)||!g(e=t.then))&&e},ut=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;C((function(){var r=t.value,o=t.state==et,i=0;while(n.length>i){var a,s,c,u=n[i++],l=o?u.ok:u.fail,f=u.resolve,p=u.reject,d=u.domain;try{l?(o||(t.rejection===ot&&dt(t),t.rejection=rt),!0===l?a=r:(d&&d.enter(),a=l(r),d&&(d.exit(),c=!0)),a===u.promise?p(Y("Promise-chain cycle")):(s=ct(a))?s.call(a,f,p):f(a)):p(r)}catch(h){d&&!c&&d.exit(),p(h)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&ft(t)}))}},lt=function(t,e,n){var r,o;q?(r=G.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!Z&&(o=u["on"+t])?o(r):t===J&&A("Unhandled promise rejection",n)},ft=function(t){E.call(u,(function(){var e,n=t.facade,r=t.value,o=pt(t);if(o&&(e=T((function(){R?$.emit("unhandledRejection",r,n):lt(J,n,r)})),t.rejection=R||pt(t)?ot:rt,e.error))throw e.value}))},pt=function(t){return t.rejection!==rt&&!t.parent},dt=function(t){E.call(u,(function(){var e=t.facade;R?$.emit("rejectionHandled",e):lt(Q,e,t.value)}))},ht=function(t,e,n){return function(r){t(e,r,n)}},yt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=nt,ut(t,!0))},vt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Y("Promise can't be resolved itself");var r=ct(e);r?C((function(){var n={done:!1};try{r.call(e,ht(vt,n,t),ht(yt,n,t))}catch(o){yt(n,o,t)}})):(t.value=e,t.state=et,ut(t,!1))}catch(o){yt({done:!1},o,t)}}};if(at&&(W=function(t){w(this,W,N),m(t),r.call(this);var e=F(this);try{t(ht(vt,e),ht(yt,e))}catch(n){yt(e,n)}},H=W.prototype,r=function(t){U(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:tt,value:void 0})},r.prototype=d(H,{then:function(t,e){var n=z(this),r=X(I(this,W));return r.ok=!g(t)||t,r.fail=g(e)&&e,r.domain=R?$.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=tt&&ut(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=F(t);this.promise=t,this.resolve=ht(vt,e),this.reject=ht(yt,e)},P.f=X=function(t){return t===W||t===i?new o(t):K(t)},!c&&g(f)&&V!==Object.prototype)){a=V.then,it||(p(V,"then",(function(t,e){var n=this;return new W((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),p(V,"catch",H["catch"],{unsafe:!0}));try{delete V.constructor}catch(mt){}h&&h(V,H)}s({global:!0,wrap:!0,forced:at},{Promise:W}),y(W,N,!1,!0),v(N),i=l(N),s({target:N,stat:!0,forced:at},{reject:function(t){var e=X(this);return e.reject.call(void 0,t),e.promise}}),s({target:N,stat:!0,forced:c||at},{resolve:function(t){return x(c&&this===i?W:this,t)}}),s({target:N,stat:!0,forced:st},{all:function(t){var e=this,n=X(e),r=n.resolve,o=n.reject,i=T((function(){var n=m(e.resolve),i=[],a=0,s=1;S(t,(function(t){var c=a++,u=!1;i.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,i[c]=t,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=X(e),r=n.reject,o=T((function(){var o=m(e.resolve);S(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},e7c3:function(t,e){t.exports=i},e893:function(t,e,n){var r=n("5135"),o=n("56ef"),i=n("06cf"),a=n("9bf2");t.exports=function(t,e){for(var n=o(e),s=a.f,c=i.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||s(t,l,c(e,l))}}},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},e91f:function(t,e,n){"use strict";var r=n("ebb5"),o=n("4d64").indexOf,i=r.aTypedArray,a=r.exportTypedArrayMethod;a("indexOf",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},e95a:function(t,e,n){var r=n("b622"),o=n("3f8c"),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},e9b1:function(t,e,n){},ea2b:function(t){t.exports=JSON.parse('{"ui":{"viewer":{"context-menu":{"zoom":"Изменение размера изображения","pan":"Переместить","scroll":"Прокрутка","open-mpr":"MPR"},"menu":{"cross-ref":"Референтные линии","toggle-fullscreen":"Полноэкранный режим","toggle-annotation":"Показать аннотации","toggle-slice-looping":"Включить/отключить бесконечную прокрутку","scroll":"Прокрутка","zoom":"Изменение размера изображения","translate":"Переместить","contrast":"Контраст","reset":"Перезагрузить","ruler":"Линейка","protractor":"Транспортир","layout-1-1":"Одна ячейка","layout-1-2":"Две вертикальные ячейки","layout-2-1":"Две горизонтальные ячейки","layout-1-3":"Три вертикальные ячейки","layout-3-1":"Три горизонтальные ячейки","layout-2-2":"Четыре ячейки","sync-series":"Синхронизация серий","toggle-menu":"Меню","open-mpr":"Включить режим MPR","windowing":{"title":"Настройки окна","options":{"default":"Настройки по умолчанию"},"actions":{"invert":"Инверсия"}},"advanced":{"title":"дополнительные настройки","options":{"imagery":{"title":"Imaging","options":{"human":"Человек","vet":"Ветеринария"}}}}}},"modals":{"import-file-popin":{"title":"Импорт файлов"},"input-from-url":{"inputLabel":"Ваш URL-адрес","title":"Импорт по URL-адресу","submitButton":"Загрузить"},"toManyFiles":{"title":"Внимание!","body":"Вы пытаетесь загрузить большое количество файлов, это может замедлить работу приложения."},"generic":{"cancel":"Отменить","accept":"ДА"}},"disclaimer":{"title":"Программа IMAIOS Dicom Viewer не тестировалась и не была сертифицирована для использования в медицинских целях. Она НЕ одобрена в качестве медицинского изделия и не может использоваться для первичной диагностики в медицинской визуализации.","accept":"Согласиться"},"use-app":{"title":"IDV работает лучше, если использовать приложение.","button":"Скачать приложение","dismiss":"Закрыть"},"internet-explorer":{"upgrade-message":{"text":"Пожалуйста, используйте другой браузер, например: {edge}, {chrome} или {firefox}.","edge":"Microsoft Edge","chrome":"Google Chrome","firefox":"Firefox"},"features-not-available":"Некоторые функции не поддерживаются в Internet Explorer","dismiss":"Закрыть"}},"voter":{"set-slice-index":{"no-scroll-when-only-one-slice":"В этой серии только одно изображение","begin-series":"Начало серии","end-series":"Конец серии"}},"idv-placeholder":{"main-text":"Перетащите свои файлы сюда","supported-files-format":"Поддерживаемые форматы: JPEG, DICOM или ZIP","text-between-bar":"или","import-file":"Импортировать файл","import-from-url":"Импорт по URL-адресу","import-from-dropbox":"Импорт из Dropbox"},"features":{"v-loading-feedback":{"label":"Загрузка ..."},"v-import-demo-case":{"label":"Открыть пример клинического случая"},"v-top-bar":{"cancel":"Отменить","save":"Сохранить"},"v-presentation-mode":{"label":"Включить/отключить режим презентации","title":"Режим презентации"},"channel-explorer":{"title":"Выберите альбом, в котором вы хотите опубликовать клинический случай","submit":"Опубликовать","back":"Назад"}},"annotation":{"stroke":"Толщина штриха","color":"Цвет"},"action":{"select_album":"Выберите альбом, в котором вы хотите опубликовать клинический случай"},"error":{"series-has-no-files":"При загрузке серии \\"{seriesName}\\" произошла ошибка. Повторите попытку позже. Если проблема не исчезнет, обратитесь в нашу службу поддержки."}}')},eadb:function(t,e,n){},ebb5:function(t,e,n){"use strict";var r,o,i,a=n("a981"),s=n("83ab"),c=n("da84"),u=n("1626"),l=n("861d"),f=n("5135"),p=n("f5df"),d=n("0d51"),h=n("9112"),y=n("6eeb"),v=n("9bf2").f,m=n("e163"),g=n("d2bb"),b=n("b622"),w=n("90e3"),_=c.Int8Array,S=_&&_.prototype,O=c.Uint8ClampedArray,I=O&&O.prototype,E=_&&m(_),C=S&&m(S),x=Object.prototype,A=x.isPrototypeOf,P=b("toStringTag"),T=w("TYPED_ARRAY_TAG"),j=w("TYPED_ARRAY_CONSTRUCTOR"),D=a&&!!g&&"Opera"!==p(c.opera),k=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},R={BigInt64Array:8,BigUint64Array:8},M=function(t){if(!l(t))return!1;var e=p(t);return"DataView"===e||f(L,e)||f(R,e)},B=function(t){if(!l(t))return!1;var e=p(t);return f(L,e)||f(R,e)},N=function(t){if(B(t))return t;throw TypeError("Target is not a typed array")},F=function(t){if(u(t)&&(!g||A.call(E,t)))return t;throw TypeError(d(t)+" is not a typed array constructor")},U=function(t,e,n){if(s){if(n)for(var r in L){var o=c[r];if(o&&f(o.prototype,t))try{delete o.prototype[t]}catch(i){}}C[t]&&!n||y(C,t,n?e:D&&S[t]||e)}},z=function(t,e,n){var r,o;if(s){if(g){if(n)for(r in L)if(o=c[r],o&&f(o,t))try{delete o[t]}catch(i){}if(E[t]&&!n)return;try{return y(E,t,n?e:D&&E[t]||e)}catch(i){}}for(r in L)o=c[r],!o||o[t]&&!n||y(o,t,e)}};for(r in L)o=c[r],i=o&&o.prototype,i?h(i,j,o):D=!1;for(r in R)o=c[r],i=o&&o.prototype,i&&h(i,j,o);if((!D||!u(E)||E===Function.prototype)&&(E=function(){throw TypeError("Incorrect invocation")},D))for(r in L)c[r]&&g(c[r],E);if((!D||!C||C===x)&&(C=E.prototype,D))for(r in L)c[r]&&g(c[r].prototype,C);if(D&&m(I)!==C&&g(I,C),s&&!f(C,P))for(r in k=!0,v(C,P,{get:function(){return l(this)?this[T]:void 0}}),L)c[r]&&h(c[r],T,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_CONSTRUCTOR:j,TYPED_ARRAY_TAG:k&&T,aTypedArray:N,aTypedArrayConstructor:F,exportTypedArrayMethod:U,exportTypedArrayStaticMethod:z,isView:M,isTypedArray:B,TypedArray:E,TypedArrayPrototype:C}},ec12:function(t,e,n){},eda2:function(t,e,n){},f00c:function(t,e,n){var r=n("23e7"),o=n("e285");r({target:"Number",stat:!0},{isFinite:o})},f055:function(t,e,n){"use strict";n("5a1e")},f069:function(t,e,n){"use strict";var r=n("59ed"),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},f183:function(t,e,n){var r=n("23e7"),o=n("d012"),i=n("861d"),a=n("5135"),s=n("9bf2").f,c=n("241c"),u=n("057f"),l=n("90e3"),f=n("bb2f"),p=!1,d=l("meta"),h=0,y=Object.isExtensible||function(){return!0},v=function(t){s(t,d,{value:{objectID:"O"+h++,weakData:{}}})},m=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,d)){if(!y(t))return"F";if(!e)return"E";v(t)}return t[d].objectID},g=function(t,e){if(!a(t,d)){if(!y(t))return!0;if(!e)return!1;v(t)}return t[d].weakData},b=function(t){return f&&p&&y(t)&&!a(t,d)&&v(t),t},w=function(){_.enable=function(){},p=!0;var t=c.f,e=[].splice,n={};n[d]=1,t(n).length&&(c.f=function(n){for(var r=t(n),o=0,i=r.length;o<i;o++)if(r[o]===d){e.call(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},_=t.exports={enable:w,fastKey:m,getWeakData:g,onFreeze:b};o[d]=!0},f31a:function(t,e,n){},f43e:function(t,e,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("825a"),a=n("59ed");r({target:"Map",proto:!0,real:!0,forced:o},{update:function(t,e){var n=i(this),r=arguments.length;a(e);var o=n.has(t);if(!o&&r<3)throw TypeError("Updating absent value");var s=o?n.get(t):a(r>2?arguments[2]:void 0)(t,n);return n.set(t,e(s,t,n)),n}})},f5df:function(t,e,n){var r=n("00ee"),o=n("1626"),i=n("c6b6"),a=n("b622"),s=a("toStringTag"),c="Arguments"==i(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=Object(t),s))?n:c?i(e):"Object"==(r=i(e))&&o(e.callee)?"Arguments":r}},f70f:function(t,e,n){"use strict";n("bf8e")},f727:function(t,e,n){},f772:function(t,e,n){var r=n("5692"),o=n("90e3"),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},f8cd:function(t,e,n){var r=n("a691");t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},fb15:function(t,e,n){"use strict";if(n.r(e),n.d(e,"ImaiosButton",(function(){return jf})),n.d(e,"ColorPicker",(function(){return ML})),n.d(e,"ButtonIconSide",(function(){return ff})),n.d(e,"ButtonSize",(function(){return uf})),n.d(e,"ButtonTextTransform",(function(){return lf})),n.d(e,"ButtonType",(function(){return cf})),n.d(e,"KeyframeManager",(function(){return Jt})),n.d(e,"VFeatureBuilder",(function(){return ik})),n.d(e,"VIEWER_NOTIFICATIONS",(function(){return xc})),n.d(e,"Series",(function(){return bc})),n.d(e,"FileContainer",(function(){return ao})),n.d(e,"SLICE_PROVIDER_NOTIFICATION",(function(){return lo})),n.d(e,"FilelistSeriesFileContainer",(function(){return Nc})),n.d(e,"SliceFileContainerInterface",(function(){})),n.d(e,"VUseAppBannerFeature",(function(){return UB})),n.d(e,"VInternetExplorerBannerFeature",(function(){return hM})),n.d(e,"InternetExplorerBannerSettings",(function(){})),n.d(e,"Viewer",(function(){return Hc})),n.d(e,"Plane",(function(){return Xc})),n.d(e,"AnnotationCoordinates",(function(){return Mt})),n.d(e,"LineAnnotation",(function(){return cu})),n.d(e,"Annotation",(function(){return zn})),n.d(e,"BoxCoordinates",(function(){return ae})),n.d(e,"CircleResizer",(function(){return yu})),n.d(e,"Resizer",(function(){return lu})),n.d(e,"BoxKeyframeManager",(function(){return ue})),n.d(e,"BasicImage",(function(){return Uu})),n.d(e,"ViewerState",(function(){return d})),n.d(e,"LineCoordinates",(function(){return wu})),n.d(e,"CachedKeyframeManager",(function(){return Ou})),n.d(e,"NonInterpolatableKeyframeManager",(function(){return re})),n.d(e,"ImaiosDICOMViewer",(function(){return NM})),n.d(e,"AbstractWidgetBehaviorFeature",(function(){return Gu})),n.d(e,"AbstractWidgetComponent",(function(){return Zu})),n.d(e,"SubscribableFeature",(function(){return Wu})),n.d(e,"RequestFullscreenFeature",(function(){return vu})),n.d(e,"publicEvents",(function(){return mu})),n.d(e,"CursorIconMode",(function(){return he})),n.d(e,"servicesLocator",(function(){return vc})),n.d(e,"SeriesFormatSelectorService",(function(){return ec})),n.d(e,"SeriesFormatSelectorInterface",(function(){})),n.d(e,"SupportedFormat",(function(){return $s})),n.d(e,"PropertyTransformerService",(function(){return E_})),n.d(e,"AbstractTransformer",(function(){return x_})),n.d(e,"tagDictionary",(function(){return nS})),n.d(e,"reverseDictionary",(function(){return rS})),n.d(e,"SeriesBuilderService",(function(){return g_})),n.d(e,"ResourceManager",(function(){return O})),n.d(e,"SelectableOnePerOneResourceManager",(function(){return W})),n.d(e,"ThumbnailService",(function(){return L})),n.d(e,"THUMBNAIL_NOTIFICATIONS",(function(){return A})),n.d(e,"SeriesService",(function(){return ft})),n.d(e,"SeriesInterface",(function(){})),n.d(e,"SeriesSettings",(function(){})),n.d(e,"SeriesFile",(function(){})),n.d(e,"SupportedSeriesFormat",(function(){return no})),n.d(e,"SERIES_NOTIFICATIONS",(function(){return nt})),n.d(e,"CaseService",(function(){return ht})),n.d(e,"AnnotationService",(function(){return mr})),n.d(e,"ANNOTATION_NOTIFICATIONS",(function(){return xt})),n.d(e,"ProxyAnnotation",(function(){return pr})),n.d(e,"AnimationItemTriggerable",(function(){return Kn})),n.d(e,"AnimationLoop",(function(){return Ni})),n.d(e,"AnnotationAnimation",(function(){return Qn})),n.d(e,"setStroke",(function(){return de})),n.d(e,"getRandomColor",(function(){return fe})),n.d(e,"isAdditionalAnnotation",(function(){return im})),n.d(e,"getAnimation",(function(){return lm})),n.d(e,"STROKE_STYLE",(function(){return Yt})),n.d(e,"ItemCallback",(function(){})),n.d(e,"PoolDebugStats",(function(){})),n.d(e,"PoolInterface",(function(){})),n.d(e,"PoolLifeCycleHookMap",(function(){})),n.d(e,"PoolLifeCycleHook",(function(){return U_})),n.d(e,"InitializerParameter",(function(){})),n.d(e,"Constructor",(function(){})),n.d(e,"Pool",(function(){return SS})),n.d(e,"IncompatibleObjectPoolException",(function(){return mS})),n.d(e,"FreeFormAnnotation",(function(){return rO})),n.d(e,"FreeFormAnnotationInterface",(function(){})),n.d(e,"FreeFormAnnotationAnimation",(function(){return QS})),n.d(e,"BoundingBoxInterface",(function(){})),n.d(e,"BoundingBox",(function(){return RS})),n.d(e,"freeFormPointPool",(function(){return OS})),n.d(e,"FreeFormPointInterface",(function(){})),n.d(e,"SerializedFreeFormPoint",(function(){})),n.d(e,"FreeFormPoint",(function(){return hS})),n.d(e,"FreeFormCoordinateInterface",(function(){})),n.d(e,"FreeFormCoordinateSchema",(function(){})),n.d(e,"FreeFormCoordinate",(function(){return US})),n.d(e,"PointAlreadyExistsException",(function(){return CS})),n.d(e,"PointNotFoundException",(function(){return WB})),n.d(e,"localToAbsolute",(function(){return kS})),n.d(e,"absoluteToLocal",(function(){return DS})),n.d(e,"DicomSeriesService",(function(){return br})),n.d(e,"SliceService",(function(){return $r})),n.d(e,"SLICE_NOTIFICATIONS",(function(){return xr})),n.d(e,"Slice",(function(){return bo})),n.d(e,"SliceProvider",(function(){return Uo})),n.d(e,"ImageService",(function(){return Jo})),n.d(e,"CellService",(function(){return Di})),n.d(e,"CELL_NOTIFICATIONS",(function(){return ii})),n.d(e,"DISPLAY_MODE_NAMES",(function(){return rn})),n.d(e,"INTERACTION",(function(){return un})),n.d(e,"CANVAS_NAMES",(function(){return dn})),n.d(e,"ANNOTATION_CANVAS",(function(){return pn})),n.d(e,"IMAGE_CANVAS",(function(){return fn})),n.d(e,"Cell",(function(){return bi})),n.d(e,"TransformationContext",(function(){return Tu})),n.d(e,"KeyboardService",(function(){return Ri})),n.d(e,"AnimationService",(function(){return Wi})),n.d(e,"InteractionService",(function(){return Ki})),n.d(e,"Interaction",(function(){return kn})),n.d(e,"PointerService",(function(){return Zi})),n.d(e,"PlaneSeriesService",(function(){return ia})),n.d(e,"SeriesEditionService",(function(){return ua})),n.d(e,"WidgetService",(function(){return xa})),n.d(e,"AbstractAnnotationAnimationDecorator",(function(){return Ta})),n.d(e,"ResizableAnnotationDecorator",(function(){return Za})),n.d(e,"MovableAnnotationDecorator",(function(){return cs})),n.d(e,"SelectableAnnotationDecorator",(function(){return js})),n.d(e,"AbstractAnnotationInteractionDecorator",(function(){return Ua})),n.d(e,"AbstractAnnotationInteraction",(function(){return ir})),n.d(e,"makeImageFromSvg",(function(){return Mg})),n.d(e,"drawSVGToCanvas",(function(){return Bg})),n.d(e,"placeButton",(function(){return kg})),n.d(e,"SELECTABLE_ANNOTATION_ICON_CONFIG",(function(){return ds})),n.d(e,"DicomDictionaryProvider",(function(){return ks})),n.d(e,"FileHandlerService",(function(){return Ys})),n.d(e,"PublisherComposite",(function(){return Tn})),n.d(e,"LOAD_SERIES_HANDLING_CONTEXT",(function(){return Rh})),n.d(e,"USER_INPUT_HANDLING_CONTEXT",(function(){return Mh})),n.d(e,"FILE_HANDLER_NOTIFICATIONS",(function(){return Ms})),n.d(e,"BufferLoadedPayload",(function(){})),n.d(e,"FileLoadedPayload",(function(){})),n.d(e,"localStorageHandler",(function(){return qs})),n.d(e,"InputCheckbox",(function(){return eN})),n.d(e,"ModalWindow",(function(){return fA})),n.d(e,"ProgressBar",(function(){return Wl})),n.d(e,"ResizerManager",(function(){return Cg})),n.d(e,"AbstractLineAnnotationFactory",(function(){return wg})),n.d(e,"AbstractBoxAnnotationFactory",(function(){return rN})),n.d(e,"BoxAnnotation",(function(){return yk})),n.d(e,"EllipsisAnnotation",(function(){return Rk})),n.d(e,"RectangleAnnotation",(function(){return _k})),n.d(e,"ArrowAnnotation",(function(){return tL})),n.d(e,"drawArrow",(function(){return Wk})),n.d(e,"ARROW_ANNOTATION_DEFAULT_WIDTH",(function(){return Vk})),n.d(e,"AbstractCreateAnnotationInteraction",(function(){return Wg})),n.d(e,"ArrowCoordinate",(function(){return zk})),n.d(e,"DEFAULT_ANNOTATION_SETTINGS",(function(){return ou})),n.d(e,"INTERACTION_NOTIFICATIONS",(function(){return Ie})),n.d(e,"injectComponent",(function(){return ST})),n.d(e,"generateMutationPath",(function(){return Zf})),n.d(e,"generateGetterPath",(function(){return Zf})),n.d(e,"generateActionPath",(function(){return Zf})),n.d(e,"checkFeatureRequirement",(function(){return $p})),n.d(e,"loadNestedFeatures",(function(){return Kp})),n.d(e,"waitFeatureRequirement",(function(){return Xp})),n.d(e,"loadFromUrl",(function(){return Hh})),n.d(e,"getBlob",(function(){return Vh})),n.d(e,"getArrayBuffer",(function(){return Wh})),n.d(e,"LOADING_NOTIFICATIONS",(function(){return Fh})),n.d(e,"generateURL",(function(){return Tw})),n.d(e,"getQueryStringAsDict",(function(){return Iw})),n.d(e,"getQueryParameter",(function(){return Ow})),n.d(e,"FeatureLaunchingFailureException",(function(){return Yp})),n.d(e,"createFormatWrapper",(function(){return iN})),n.d(e,"deduplicate",(function(){return P_})),n.d(e,"restoreDuplicates",(function(){return j_})),n.d(e,"makeChunks",(function(){return Jb})),n.d(e,"mergeChunks",(function(){return Qb})),n.d(e,"objectOfArrayToArrayOfObject",(function(){return ew})),n.d(e,"arrayOfObjectToObjectOfArray",(function(){return nw})),n.d(e,"areAllValuesEqual",(function(){return rw})),n.d(e,"generateId",(function(){return ge})),n.d(e,"makeUUID4",(function(){return SI})),n.d(e,"waitUntil",(function(){return EI})),n.d(e,"transformCanvasCoordinateIntoImageCoordinates",(function(){return La})),n.d(e,"transformImageCoordinateIntoCanvasCoordinates",(function(){return Ra})),n.d(e,"getIEVersion",(function(){return Xm})),n.d(e,"getIsIE",(function(){return Km})),n.d(e,"lerp",(function(){return zt})),n.d(e,"changeReference",(function(){return Vt})),n.d(e,"getPointOnEllipsisAtParameter",(function(){return Ut})),n.d(e,"primeFactors",(function(){return Ft})),n.d(e,"getVectorDirectorFrom2XY",(function(){return Ht})),n.d(e,"recycleVectors",(function(){return Wt})),n.d(e,"debounce",(function(){return Sy})),n.d(e,"createHookableModule",(function(){return _T})),n.d(e,"JpgSeriesSupportFeature",(function(){return VO})),n.d(e,"PngSeriesSupportFeature",(function(){return vN})),n.d(e,"CONTEXT_MENU_MODULE_NAME",(function(){return KC})),n.d(e,"ContextMenuMutations",(function(){return hC})),n.d(e,"ContextMenuActions",(function(){return yC})),n.d(e,"ContextMenuGetters",(function(){return vC})),n.d(e,"ContextMenu",(function(){return $C})),n.d(e,"TOP_BAR_MODULE_NAME",(function(){return sp})),n.d(e,"DefaultCallbackNames",(function(){return kf})),n.d(e,"TOP_BAR_ACTIONS",(function(){return Rf})),n.d(e,"GALLERY_MODULE_NAME",(function(){return rf})),n.d(e,"GALLERY_ACTIONS",(function(){return Al})),n.d(e,"GALLERY_MUTATIONS",(function(){return xl})),n.d(e,"AbstractAddInteractionFeature",(function(){return Ny})),n.d(e,"VDemoCaseFeature",(function(){return FN})),n.d(e,"VChannelExplorerFeature",(function(){return VF})),n.d(e,"CHANNEL_EXPLORER_MODULE_NAME",(function(){return GN})),n.d(e,"CHANNEL_EXPLORER_NOTIFICATIONS",(function(){return $N})),n.d(e,"LOAD_CASE_NOTIFICATIONS",(function(){return sL})),n.d(e,"IdleInteractionAnimation",(function(){return pS})),n.d(e,"InteractionAnimation",(function(){return zy})),n.d(e,"MenuFeature",(function(){return wd})),n.d(e,"LoadSeriesAbstractFeature",(function(){return Qh})),n.d(e,"SLICE_ORDER_LOADED",(function(){return _y})),n.d(e,"AnnotationNotFoundException",(function(){return jt})),n.d(e,"SeriesIdNotFoundException",(function(){return B})),n.d(e,"SeriesNotFoundException",(function(){return Sc})),n.d(e,"InvalidAnnotationException",(function(){return Pg})),n.d(e,"InvalidParameterValueException",(function(){return ct})),n.d(e,"InvalidAnimationTypeException",(function(){return Ga})),n.d(e,"FeedbackIssueException",(function(){return _v})),n.d(e,"UnsupportedFormatException",(function(){return Qs})),n.d(e,"CellNotBoundException",(function(){return YF})),n.d(e,"SCROLL_SERIES_WIDGET_NAME",(function(){return Em})),n.d(e,"TOAST_NO_SCROLL_WIDGET_NAME",(function(){return Hm})),n.d(e,"SLICE_INDICATOR_WIDGET_NAME",(function(){return _m})),n.d(e,"SERIES_NAME_WIDGET_NAME",(function(){return vw})),n.d(e,"menuConfig",(function(){return mC})),n.d(e,"INTERACTION_GROUP",(function(){return cC})),n.d(e,"ANNOTATION_COLOR_LIST",(function(){return Bt})),"undefined"!==typeof window){var r=window.document.currentScript,o=n("8875");r=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var i=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}n("81fa"),n("7f0f");var a=n("acd4"),s=n.n(a),c=(n("1f6c"),n("cca6"),n("d3b7"),n("e6cf"),n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("3ca3"),n("ddb0"),n("99af"),n("a15b"),n("b64b"),n("159b"),n("07ac"),n("7db0"),n("b680"),n("ac1f"),n("1276"),{name:"viewer",data:{containerDiv:null,disabledAnnotations:!1,enabledPointTarget:!1,caseId:0,resolution:+(4/3).toFixed(2),mode:"default"},api:{base_ws_url:"/".concat(window.location.pathname.split("/")[1]),series_data_ws_url:"/imcases/getCaseViewerData"},ux:{minTimeBetweenTwoTaps:80,maxTimeBetweenTwoTaps:200,CANVAS_CONTAINER_CLASSNAME:"canvas-container",DRAG_MODES:{SCROLL:0,ZOOM:1,TRANSLATE:2,CONTRAST:3,MEASURE_DISTANCE:4,MEASURE_ANGLE:"measureAngle",TARGET:6}}}),u=c,l=n("e7c3"),f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e){var n=t.call(this,e)||this;return n.reset(),n}return f(e,t),e.prototype.reset=function(){this.cornerSelected=0,this.lastDisplayMode=0,this.displayMode=0,this.nbMaxSeriesActives=0,this.data.series={lastSeriesFocused:null,setLastSeriesHovered:null,lastSeriesHovered:null},this.width=0,this.height=0;var t=Object.values(this.core.subscriptions);t.forEach((function(t){t.forEach((function(t){return t.unsubscribe()}))}))},e}(l["SmartComponent"]),d=p,h=(n("b0c0"),n("4de4"),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),y=function(t){function e(e){var n=t.call(this,'No id was provided when adding a resource to the resource manager "'.concat(e,'".'))||this;return n.name="NoResourceIdError",n}return h(e,t),e}(Error),v=y,m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(t){function e(e,n){var r=t.call(this,'Resource with id "'.concat(e,' was not found amongst resources of type "').concat(n,'".'))||this;return r.name="ResourceNotFoundError",r}return m(e,t),e}(Error),b=g;function w(t,e){var n=!0,r=Object.keys(t);return r.forEach((function(r){var o=t[r];n=!!Object.prototype.hasOwnProperty.call(e,r)&&("undefined"!==typeof o&&Array.isArray(o.$in)?n&&o.$in.indexOf(e[r])>=0:"undefined"!==typeof o&&Array.isArray(o.$or)?n&&o.$or.some((function(t){return t===e[r]})):e[r]===o&&(n&&!0))})),n}var _=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t){function e(e){void 0===e&&(e={});var n,r=this;return r=t.call(this,e)||this,r.resourceCollection=null!==(n=e.resources)&&void 0!==n?n:{},r.numberOfResources=Object.keys(r.resourceCollection).length,r}return _(e,t),e.prototype.getResources=function(){return this.resourceCollection},e.prototype.getNumberOfResources=function(){return this.numberOfResources},e.prototype.addResource=function(t,e){if(void 0===e&&(e=t.id),"undefined"===typeof e)throw new v(this.getType());this.resourceCollection[e]=t,this.numberOfResources=Object.keys(this.resourceCollection).length},e.prototype.updateById=function(t,e){var n=this.findById(t);if(null===n)throw new b(t,this.getType());for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=e[r])},e.prototype.removeById=function(t){delete this.resourceCollection[t],this.numberOfResources--},e.prototype.removeAll=function(){var t=this;Object.keys(this.resourceCollection).forEach((function(e){return t.removeById(e)})),this.numberOfResources=0},e.prototype.isAvailable=function(t){return null!==this.findById(t)},e.prototype.findById=function(t){var e;return null!==(e=this.resourceCollection[t])&&void 0!==e?e:null},e.prototype.findOne=function(t){var e=Object.values(this.resourceCollection),n=null,r=0;while(null===n&&r<e.length){var o=e[r],i=w(t,o);!0===i?n=o:r++}return n},e.prototype.find=function(t){void 0===t&&(t={});var e=Object.values(this.resourceCollection);return e.filter((function(e){return w(t,e)}))},e.prototype.getType=function(){return"ResourceManager"},e}(l["SmartComponent"]),O=S,I="thumbnail-added",E="thumbnail-updated",C="thumbnail-removed",x="thumbnail-removed-all",A={THUMBNAIL_ADDED:I,THUMBNAIL_UPDATED:E,THUMBNAIL_REMOVED:C,THUMBNAIL_REMOVED_ALL:x},P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(t){function e(e){var n=t.call(this,'Unable to found thumbnail with id "'.concat(e,'".'))||this;return n.name="ThumbnailNotFoundException",n}return P(e,t),e}(Error),j=T,D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(t){function e(){var e=t.call(this,{name:"ThumbnailService"})||this;return e.thumbnailIdBySeriesId={},e}return D(e,t),e.prototype.hasThumbnail=function(t){return"undefined"!==typeof this.thumbnailIdBySeriesId[t]},e.prototype.findBySeriesId=function(t){var e=this.thumbnailIdBySeriesId[t];return this.findById(e)},e.prototype.addThumbnail=function(t){this.thumbnailIdBySeriesId[t.seriesId]=t.id,this.addResource(t,t.id),this.publish(I,{seriesId:t.seriesId,thumbnailId:t.id})},e.prototype.updateById=function(e,n){t.prototype.updateById.call(this,e,n),this.publish(E,{thumbnailId:e,updates:n})},e.prototype.removeById=function(e){var n=this.findById(e);if(null===n)throw new j(e);delete this.thumbnailIdBySeriesId[n.seriesId],t.prototype.removeById.call(this,e),this.publish(C,{thumbnailId:e})},e.prototype.removeAll=function(){t.prototype.removeAll.call(this),this.publish(x)},e.prototype.getType=function(){return"ThumbnailService"},e.prototype.getThumbnailIdBySeriesId=function(t){var e=this.findBySeriesId(t);return null!==e?e.id:null},e}(O),L=k,R=(n("8ba4"),n("a9e3"),n("a434"),n("4e82"),n("5319"),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),M=function(t){function e(e){var n=t.call(this,'Series with id "'.concat(e,'" was not found.'))||this;return n.name="SeriesIdNotFoundException",n}return R(e,t),e}(Error),B=M,N=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(t){function e(e){var n=t.call(this,'No series exists at index "'.concat(e,'"'))||this;return n.name="SeriesNotFoundAtIndexError",n}return N(e,t),e}(Error),U=F,z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentId=null,e.defaultId=null,e}return z(e,t),e.prototype.removeById=function(e){t.prototype.removeById.call(this,e),this.currentId===e&&(this.currentId=null),this.defaultId===e&&(this.defaultId=null)},e.prototype.removeAll=function(){t.prototype.removeAll.call(this),this.currentId=null,this.defaultId=null},e.prototype.getType=function(){return"SelectableOnePerOneResourceManager"},e.prototype.isSelected=function(t){return this.currentId===t},e.prototype.hasSelected=function(){return null!==this.currentId},e.prototype.getCurrentId=function(){return this.currentId},e.prototype.getCurrentResource=function(){var t;return null!==(t=this.resourceCollection[this.currentId])&&void 0!==t?t:null},e.prototype.toggle=function(t){return this.currentId===t?(this.select(t),!1):(this.currentId=t,!0)},e.prototype.select=function(t){if(null===this.findById(t))throw new b(t,this.getType());this.currentId=t},e.prototype.unselect=function(){this.currentId=null},e.prototype.getDefault=function(){return this.defaultId},e.prototype.setDefault=function(t){this.defaultId=t},e}(O),W=V,H="series-added",Y="series-updated",G="series-remove",$="series-removed-all",X="series-change-cell",K="series-selected",q="series-renamed",Z="series-order-changed",J="series-reset",Q="series-loading-end",tt="series-focus",et="series-hover",nt={SERIES_ADDED:H,SERIES_UPDATED:Y,SERIES_REMOVED:G,SERIES_REMOVED_ALL:$,SERIES_CHANGE_CELL:X,SERIES_SELECTED:K,SERIES_RENAMED:q,SERIES_ORDER_CHANGED:Z,SERIES_RESET:J,SERIES_LOADING_END:Q,SERIES_FOCUS:tt,SERIES_HOVER:et},rt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ot=function(t){function e(e){var n=this,r='Unable to call "series.service::'.concat(e,'" before setting series-meta-provider.');return n=t.call(this,r)||this,n.name="MissingSeriesMetaProviderException",n}return rt(e,t),e}(Error),it=ot,at=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),st=function(t){function e(e,n,r,o){var i=t.call(this,"Invalid parameter provided. Parameter '".concat(e,"' expected to be ").concat(n,", was ").concat(JSON.stringify(r),".").concat("undefined"!==typeof o?" ".concat(o):""))||this;return i.name="InvalidParameterValueException",i}return at(e,t),e}(Error),ct=st,ut=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(t){function e(){var e=t.call(this,{name:"core_series_service"})||this;return e.seriesIdBySortOrder=[],e.seriesFocused=null,e.seriesHovered=null,e.seriesMetaProvider=null,e}return ut(e,t),e.prototype.setSeriesMetaProvider=function(t){this.seriesMetaProvider=t},e.prototype.focus=function(t){if(!this.isAvailable(t))throw new B(t);this.seriesFocused=t,this.publish(tt,{seriesId:t})},e.prototype.isFocus=function(t){return this.seriesFocused===t},e.prototype.getVoxelCoordinates=function(t,e,n,r){if(null===this.seriesMetaProvider)throw new it("getVoxelCoordinates");var o=this.seriesMetaProvider.getIOP(t,r),i=this.seriesMetaProvider.getIPP(t,r),a=this.seriesMetaProvider.getPixelSpace(t,r);return{x:i.x+o.xx*e*a.x+o.yx*n*a.y,y:i.y+o.xy*e*a.x+o.yy*n*a.y,z:i.z+o.xz*e*a.x+o.yz*n*a.y}},e.prototype.getFocusId=function(){return this.seriesFocused},e.prototype.hover=function(t){if(null!==t){if(!this.isAvailable(t))throw new B(t);this.seriesHovered=t,this.publish(et,{seriesId:t})}else this.seriesHovered=null},e.prototype.isHover=function(t){return this.seriesHovered===t},e.prototype.getHoveredId=function(){return this.seriesHovered},e.prototype.addResource=function(e,n){if(void 0===n&&(n=e.getId()),-1===e.sortOrder&&(e.sortOrder=this.seriesIdBySortOrder.length),Number.isInteger(e.sortOrder)&&e.sortOrder<0)throw new ct("series.sortOrder","positive integer",e.sortOrder);t.prototype.addResource.call(this,e,n),this.seriesIdBySortOrder.push(n),this.refreshSeriesOrderIndex(),this.publish(H,{seriesId:n})},e.prototype.updateById=function(n,r){"name"in r&&(r.name=e.sanitizeSeriesName(r.name)),t.prototype.updateById.call(this,n,r),this.publish(Y,{seriesId:n}),"name"in r&&this.publish(q,{seriesId:n,name:r.name})},e.prototype.removeById=function(e){var n=this.findById(e);if(null===n)throw new B(e);t.prototype.removeById.call(this,e);var r=this.seriesIdBySortOrder.indexOf(e);-1!==r&&this.seriesIdBySortOrder.splice(r,1),this.seriesFocused===e&&(this.seriesFocused=null),this.seriesHovered===e&&(this.seriesHovered=null),this.publish(G,{seriesId:e})},e.prototype.removeAll=function(){t.prototype.removeAll.call(this),this.publish($)},e.prototype.getType=function(){return"SeriesService"},e.prototype.select=function(e){t.prototype.select.call(this,e),this.publish(K,{id:this.currentId})},e.prototype.getSeriesByIndex=function(t){var e,n=null!==(e=this.seriesIdBySortOrder[t])&&void 0!==e?e:null;if(null===n)throw new U(t);var r=this.findById(n);if(null===r)throw new B(n);return r},e.prototype.getSeriesIndex=function(t){var e=this.seriesIdBySortOrder.indexOf(t);if(-1===e)throw new B(t);return e},e.prototype.hasSeriesAtIndex=function(t){return 0<=t&&t<=this.seriesIdBySortOrder.length},e.prototype.changeSeriesIndex=function(t,e){if(Number.isInteger(e)&&e<0)throw new ct("index","positive integer",JSON.stringify(e));var n=this.findById(t);if(null===n)throw new B(t);var r=this.seriesIdBySortOrder.indexOf(t);if(-1===r)throw new B(t);var o=Math.min(r,e),i=Math.min(Math.max(r,e),this.seriesIdBySortOrder.length-1),a=this.getSeriesByIndex(i).sortOrder,s=this.getSeriesByIndex(o).sortOrder;if(r===o){for(var c=i;c>=o;c--)this.updateById(this.getSeriesByIndex(c).getId(),{sortOrder:this.getSeriesByIndex(c-1).sortOrder});n.sortOrder=a}else{for(c=o;c<=i;c++)this.updateById(this.getSeriesByIndex(c).getId(),{sortOrder:this.getSeriesByIndex(c+1).sortOrder});n.sortOrder=s}this.refreshSeriesOrderIndex(),this.publish(Z,{min:o,max:i})},e.prototype.refreshSeriesOrderIndex=function(){var t=this;this.seriesIdBySortOrder.sort((function(e,n){return t.findById(e).sortOrder-t.findById(n).sortOrder}))},e.sanitizeSeriesName=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},e.prototype.findOneByFilterKey=function(t){return this.findOne({filterKey:t})},e}(W),ft=lt,pt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pt(e,t),e}(l["SmartComponent"]),ht=dt,yt=(n("6062"),n("e3df"),n("015a"),n("85ca"),n("74d4"),n("dee5"),n("b628"),n("658e"),n("0b52"),n("9661"),n("0a8d"),n("e495"),n("72d0"),n("2705"),n("a9a1"),n("4a2e"),n("0466"),n("a630"),n("d81d"),"annotation-removed"),vt="annotation-keyframe-removed",mt="annotation-created",gt="annotation-updated",bt="annotation-selected",wt="annotation-unselected",_t="annotation-interacted-with",St="annotation-mouse-out",Ot="annotation-mouse-in",It="annotation-style-changed",Et="annotation-animation-changed",Ct="annotation-interaction-changed",xt={ANNOTATION_REMOVED:yt,ANNOTATION_KEYFRAME_REMOVED:vt,ANNOTATION_CREATED:mt,ANNOTATION_UPDATED:gt,ANNOTATION_SELECTED:bt,ANNOTATION_UNSELECTED:wt,ANNOTATION_INTERACTED_WITH:_t,ANNOTATION_MOUSE_OUT:St,ANNOTATION_MOUSE_IN:Ot,ANNOTATION_STYLE_CHANGED:It,ANNOTATION_ANIMATION_CHANGED:Et,ANNOTATION_INTERACTION_CHANGED:Ct},At=n("e5a6"),Pt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt=function(t){function e(e){var n=t.call(this,'Annotation with id "'.concat(e,'" was not found'))||this;return n.name="AnnotationNotFoundException",n}return Pt(e,t),e}(Error),jt=Tt,Dt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kt=function(t){function e(e,n,r){var o=t.call(this,"Keyframe Index Out Of Bound: the keyframe exists on the range [".concat(e,"..").concat(n,"], received: ").concat(r))||this;return o.name="KeyframeIndexOutOfBoundsError",o}return Dt(e,t),e}(Error),Lt=kt,Rt=function(){function t(t){void 0===t&&(t=!1),this.isInterpolated=t}return t}(),Mt=Rt,Bt=["#F32626","#FD6001","#F89809","#BAFF00","#5FF006","#04B721","#31FFB8","#00CC8F","#00FFFF","#1EC9FF","#0688FF","#2245FF","#C0AAFF","#9966FF","#5111D2","#C173FF","#8F00FF","#FF208B","#FF5AA9","#FF5F7D","#FFAEC3"],Nt=Math.sqrt(2);function Ft(t){var e=[],n=2;while(t>=2)t%n==0?(e.push(n),t/=n):n++;return e}function Ut(t,e,n,r,o){return{x:t*Math.cos(o)+n,y:e*Math.sin(o)+r}}function zt(t,e,n){return t+(e-t)*n}function Vt(t,e,n){return t/e+n}function Wt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++)t[n].recycle()}function Ht(t,e,n,r){var o=l["Vec3"].getOne(t,e,0),i=l["Vec3"].getOne(n,r,0),a=l["Vec3"].fromPoints(o,i);return Wt(o,i),a}var Yt,Gt=function(){function t(){this.colorOffset=0,this.availableColors=Bt,this.stepSize=Ft(this.availableColors.length).pop()+1}return t.prototype.getColor=function(){return this.colorOffset+=this.stepSize,this.availableColors[this.colorOffset%this.availableColors.length]},t}(),$t=Gt,Xt=(n("fb6a"),n("4ec9"),n("c206"),n("477f"),n("97fb"),n("d2af"),n("9f9a"),n("43b3"),n("567a"),n("9c87"),n("094c"),n("a9cd"),n("54ec"),n("4e16"),n("f43e"),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Kt=function(t){function e(e,n){var r=t.call(this,"Not Enough Keyframes For Interpolation: the minimum amount of keyframes needed to perform interpolation is ".concat(e," but there is only ").concat(n," keyframes."))||this;return r.name="NotEnoughKeyframesForInterpolationError",r}return Xt(e,t),e}(Error),qt=Kt,Zt=function(){function t(){this.keyframeCollection=new Map,this.keyframeIndexes=[]}return t.prototype.getCoordinatesAt=function(t){if(!this.coordinatesExistsAt(t))throw new Lt(this.getLowerBound(),this.getUpperBound(),t);return this.keyframeCollection.has(t)?this.keyframeCollection.get(t):this.interpolateAt(t)},t.prototype.setKeyframeAt=function(t,e){this.keyframeCollection.set(e,t),this.refreshIndex()},t.prototype.deleteKeyframeAt=function(t){var e=this.keyframeCollection.delete(t);e&&this.refreshIndex()},t.prototype.coordinatesExistsAt=function(t){return!!this.keyframeCollection.has(t)||this.getLowerBound()<=t&&t<=this.getUpperBound()},t.prototype.hasKeyframeAt=function(t){return this.keyframeCollection.has(t)},t.prototype.getNumberOfKeyframes=function(){return this.keyframeCollection.size},t.prototype.getAll=function(){return Array.from(this.keyframeCollection)},t.prototype.getLowerBound=function(){return this.keyframeIndexes[0]},t.prototype.getUpperBound=function(){return this.keyframeIndexes[this.keyframeIndexes.length-1]},t.prototype.translate=function(t,e){var n=this.getCoordinatesAt(e);n.translateBy(t),this.setKeyframeAt(n,e)},t.prototype.serialize=function(){var t={};return this.keyframeCollection.forEach((function(e,n){t[n]=e.serialize()})),t},t.prototype.saveAsKeyframe=function(t){this.coordinatesExistsAt(t)?this.setKeyframeAt(this.getCoordinatesAt(t),t):t<this.getLowerBound()?this.setKeyframeAt(this.getCoordinatesAt(this.getLowerBound()).clone(),t):this.setKeyframeAt(this.getCoordinatesAt(this.getUpperBound()).clone(),t)},t.prototype.getKeyframeAt=function(t){if(!this.keyframeCollection.has(t))throw new Lt(this.getLowerBound(),this.getUpperBound(),t);return this.keyframeCollection.get(t)},t.prototype.interpolateAt=function(t){var e=this.getNeighbouringKeyframesIndex(t),n=e.previousIndex,r=e.nextIndex;if(null===n||null===r)throw new Lt(this.getLowerBound(),this.getUpperBound(),t);var o=(t-n)/(r-n);return this.interpolateBetween(this.keyframeCollection.get(n),this.keyframeCollection.get(r),o)},t.prototype.getNeighbouringKeyframesIndex=function(t){var e=this.keyframeIndexes.length;if(e<2)throw new qt(2,e);if(2===e)return{previousIndex:this.keyframeIndexes[0],nextIndex:this.keyframeIndexes[1]};for(var n=0,r=null;n<e;++n)if(r=this.keyframeIndexes[n],r>t)return{previousIndex:this.keyframeIndexes[n-1],nextIndex:this.keyframeIndexes[n]};throw new Lt(this.getLowerBound(),this.getUpperBound(),t)},t.prototype.refreshIndex=function(){this.keyframeIndexes=Array.from(this.keyframeCollection.keys()).sort((function(t,e){return t-e}))},t.prototype.removeAll=function(){this.keyframeCollection.clear(),this.keyframeIndexes=[]},t}(),Jt=Zt,Qt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),te=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},ee=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qt(e,t),e.prototype.interpolateBetween=function(){},e.prototype.translateKeyframeBy=function(t,e){this.getCoordinatesAt(e).translateBy(t)},e.prototype.getCoordinatesAt=function(t){if(!this.keyframeCollection.has(t)){var e=Object.keys(this.keyframeCollection).map(Number),n=Math.min.apply(Math,ee([],te(e),!1)),r=Math.max.apply(Math,ee([],te(e),!1));throw new Lt(n,r,t)}return this.keyframeCollection.get(t)},e.prototype.coordinatesExistsAt=function(t){return this.keyframeCollection.has(t)},e.prototype.saveAsKeyframe=function(){},e}(Jt),re=ne,oe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ie=function(t){function e(e){return void 0===e&&(e=!1),t.call(this,e)||this}return oe(e,t),e.prototype.getStartX=function(){return Math.min(this.startX,this.endX)},e.prototype.getEndX=function(){return Math.max(this.startX,this.endX)},e.prototype.getStartY=function(){return Math.min(this.startY,this.endY)},e.prototype.getEndY=function(){return Math.max(this.startY,this.endY)},e.prototype.getRotation=function(){return this.rotation},e.prototype.getCenterX=function(){return this.getStartX()+this.getWidth()/2},e.prototype.getCenterY=function(){return this.getStartY()+this.getHeight()/2},e.prototype.getHeight=function(){return Math.abs(this.endY-this.startY)},e.prototype.getWidth=function(){return Math.abs(this.endX-this.startX)},e.prototype.getArea=function(){return this.getWidth()*this.getHeight()},e.prototype.serialize=function(){var t={points:[this.getStartX(),this.getStartY(),this.getEndX(),this.getEndY()]},e=this.getRotation();return 0!==e&&(t.rotation=e),t},e.prototype.apply=function(t){var e;return this.startX=t.points[0],this.startY=t.points[1],this.endX=t.points[2],this.endY=t.points[3],this.rotation=null!==(e=t.rotation)&&void 0!==e?e:0,this},e.prototype.updateCoords=function(t){var e,n,r,o,i;return this.startX=null!==(e=t.startX)&&void 0!==e?e:this.startX,this.endX=null!==(n=t.endX)&&void 0!==n?n:this.endX,this.startY=null!==(r=t.startY)&&void 0!==r?r:this.startY,this.endY=null!==(o=t.endY)&&void 0!==o?o:this.endY,this.rotation=null!==(i=t.rotation)&&void 0!==i?i:this.rotation,this},e.prototype.sanitize=function(){var t=Math.min(this.startX,this.endX),e=Math.min(this.startY,this.endY);this.endX=Math.max(this.endX,this.startX),this.endY=Math.max(this.endY,this.startY),this.startX=t,this.startY=e},e.prototype.transfersToCanvasSpace=function(t,n){return(new e).updateCoords({startX:Vt(this.startX,n.width,t.x),startY:Vt(this.startY,n.height,t.y),endX:Vt(this.endX,n.width,t.x),endY:Vt(this.endY,n.height,t.y),rotation:this.getRotation()})},e.prototype.translateBy=function(t){this.startX+=t.x,this.startY+=t.y,this.endX+=t.x,this.endY+=t.y,this.sanitize()},e.prototype.clone=function(){return(new e).updateCoords({startX:this.startX,startY:this.startY,endX:this.endX,endY:this.endY,rotation:this.getRotation()})},e}(Mt),ae=ie,se=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return se(e,t),e.prototype.interpolateBetween=function(t,e,n){return new ae(!0).updateCoords({startX:zt(t.getStartX(),e.getStartX(),n),startY:zt(t.getStartY(),e.getStartY(),n),endX:zt(t.getEndX(),e.getEndX(),n),endY:zt(t.getEndY(),e.getEndY(),n),rotation:zt(t.getRotation(),e.getRotation(),n)})},e}(Jt),ue=ce;(function(t){t["DASHED"]="dashed",t["SOLID"]="solid",t["DOTTED"]="dotted"})(Yt||(Yt={}));var le=new $t,fe=function(){return le.getColor()},pe=function(t){return void 0===t&&(t={enableInterpolation:!0}),t.enableInterpolation?new ue:new re};function de(t,e,n){switch(e){case Yt.DASHED:t.setLineDash([10*n,5*n]);break;case Yt.DOTTED:t.setLineDash([n,2*n]);break}t.lineWidth=n,t.lineCap="round"}var he,ye=function(){function t(){this.idManager={}}return t.prototype.generateId=function(t){var e="undefined"===typeof this.idManager[t]?0:this.idManager[t],n="".concat(t,"_").concat(e);return this.idManager[t]=e+1,n},t}(),ve=ye,me=new ve,ge=function(t){return me.generateId(t)},be="trigger-interaction",we="interaction-change",_e="interaction-start",Se="interaction-end",Oe="interaction-added",Ie={TRIGGER_INTERACTION:be,INTERACTION_CHANGE:we,INTERACTION_START:_e,INTERACTION_END:Se,INTERACTION_ADDED:Oe},Ee=function(){function t(){this.nbViews=0,this.nbViews=0}return t.prototype.apply=function(t){for(var e=this.getLayoutName(),n=[],r=0;r<this.nbViews;++r)t[r].getAllCanvas().forEach((function(t){var n=t.canvasTag.parentNode;n.dataset.mode=e,n.classList.remove("hidden")})),n.push(t[r]);return n},t}(),Ce=Ee,xe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ae=function(t){function e(){var e=t.call(this)||this;return e.nbViews=1,e}return xe(e,t),e.prototype.getLayoutName=function(){return"single"},e}(Ce),Pe=Ae,Te=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),je=function(t){function e(){var e=t.call(this)||this;return e.nbViews=2,e}return Te(e,t),e.prototype.getLayoutName=function(){return"dual-vertical"},e}(Ce),De=je,ke=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Le=function(t){function e(){var e=t.call(this)||this;return e.nbViews=2,e}return ke(e,t),e.prototype.getLayoutName=function(){return"dual"},e}(Ce),Re=Le,Me=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Be=function(t){function e(){var e=t.call(this)||this;return e.nbViews=3,e}return Me(e,t),e.prototype.getLayoutName=function(){return"triple-vertical"},e}(Ce),Ne=Be,Fe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ue=function(t){function e(){var e=t.call(this)||this;return e.nbViews=3,e}return Fe(e,t),e.prototype.getLayoutName=function(){return"triple"},e}(Ce),ze=Ue,Ve=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),We=function(t){function e(){var e=t.call(this)||this;return e.nbViews=4,e}return Ve(e,t),e.prototype.getLayoutName=function(){return"quad"},e}(Ce),He=We;(function(t){t["DEFAULT"]="default",t["SCROLL"]="scroll",t["SCROLL_START"]="scroll-start",t["PAN"]="pan",t["PAN_START"]="pan-start",t["CONTRAST"]="contrast",t["CONTRAST_START"]="contrast-start",t["ZOOM"]="zoom",t["ZOOM_START"]="zoom-start",t["MOVE_ANNOTATION"]="move-annotation",t["MOVE_ANNOTATION_START"]="move-annotation-start",t["HOVER_RESIZER"]="hover-resizer",t["HOVER_RESIZER_START"]="hover-resizer-start",t["SELECT_RESIZER"]="selected-resizer",t["SELECT_RESIZER_START"]="selected-resizer-start",t["MEASURE"]="measure",t["MEASURE_START"]="measure-start",t["TARGET_ANNOTATION"]="target-annotation",t["TARGET_ANNOTATION_START"]="target-annotation-start",t["LASER"]="laser"})(he||(he={}));var Ye,Ge,$e="zip",Xe="file-container-file-list",Ke=4,qe=document.createElement("div"),Ze="layout-1-1",Je="layout-2-1",Qe="layout-1-2",tn="layout-3-1",en="layout-1-3",nn="layout-2-2",rn={DISPLAY_MODE_ONE_COLUMN_ONE_LINE:Ze,DISPLAY_MODE_TWO_COLUMNS_ONE_LINE:Je,DISPLAY_MODE_ONE_COLUMN_TWO_LINES:Qe,DISPLAY_MODE_THREE_COLUMNS_ONE_LINE:tn,DISPLAY_MODE_ONE_COLUMN_THREE_LINES:en,DISPLAY_MODE_TWO_COLUMNS_TWO_LINES:nn},on="cell-focused",an=30,sn={SingleView:new Pe,TwoVerticalViews:new De,TwoHorizontalViews:new Re,ThreeVerticalViews:new Ne,ThreeHorizontalViews:new ze,FourGridViews:new He},cn={TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_LEFT:2,BOTTOM_RIGHT:3},un={DEFAULT:{ZOOM:"zoom",PAN:"pan",SCROLL:"scroll",CONTRAST:he.CONTRAST},MEASURE:{RULER:"ruler",PROTRACTOR:"protractor"},ANNOTATE:{RECTANGLE:"rectangle",ELLIPSIS:"ellipsis",ARROW:"arrow",MASK:"mask",FREE_FORM:"free-form"}},ln={ONE_COLUMN_ONE_LINE:{name:Ze,nbCanvas:1,layout:sn.SingleView,isSelectable:!0},TWO_COLUMNS_ONE_LINE:{name:Je,nbCanvas:2,layout:sn.TwoHorizontalViews,isSelectable:!0},ONE_COLUMN_TWO_LINES:{name:Qe,nbCanvas:2,layout:sn.TwoVerticalViews,isSelectable:!0},THREE_COLUMNS_ONE_LINE:{name:tn,nbCanvas:3,layout:sn.ThreeHorizontalViews,isSelectable:!0},ONE_COLUMN_THREE_LINES:{name:en,nbCanvas:3,layout:sn.ThreeVerticalViews,isSelectable:!0},TWO_COLUMNS_TWO_LINES:{name:nn,nbCanvas:4,layout:sn.FourGridViews,isSelectable:!0}},fn="image-canvas",pn="annotation-canvas",dn={IMAGE_CANVAS:fn,ANNOTATION_CANVAS:pn},hn=1,yn=20,vn=2,mn=100,gn=.1,bn=100,wn={LOW:-10,DEFAULT:0,MEDIUM:50,HIGH:100},_n=1e3,Sn=800,On=5,In={MEASURE:he.MEASURE,MOVE_ANNOTATION:he.MOVE_ANNOTATION},En=1,Cn=3,xn="viewer-placeholder",An="ready",Pn=function(){function t(t){this.publisher=new At["Publisher"](t),this.publisher.stopPublicationOnException()}return t.prototype.publish=function(t,e){this.publisher.publish(t,e)},t.prototype.addSubscriber=function(t,e){this.publisher.addSubscriber(t,e)},t.prototype.removeSubscriber=function(t){this.publisher.removeSubscriber(t)},t.prototype.findSubscriptionBySubscriberId=function(t){return this.publisher.findSubscriptionBySubscriberId(t)},t.prototype.findSubscriptionsByNotificationAndSubscriberId=function(t,e){return this.publisher.findSubscriptionsByNotificationAndSubscriberId(t,e)},t.prototype.stopPublicationOnException=function(){this.publisher.stopPublicationOnException()},t.prototype.continuePublicationOnException=function(){this.publisher.continuePublicationOnException()},t.prototype.destroy=function(){this.publisher.destroy()},t.prototype.hasSubscription=function(t){return this.publisher.hasSubscription(t)},t.prototype.getSubscriptions=function(){return this.publisher.getSubscriptions()},t.prototype.getNbSubscriptions=function(){return this.publisher.getNbSubscriptions()},t.prototype.findSubscriptionsByNotification=function(t){return this.publisher.findSubscriptionsByNotification(t)},t.prototype.findSubscriptionById=function(t){return this.publisher.findSubscriptionById(t)},t.prototype.getId=function(){return this.publisher.getId()},t.prototype.is=function(t){return this.publisher.is(t)},t.prototype.clearSubscription=function(t){this.publisher.clearSubscription(t)},t}(),Tn=Pn,jn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dn=function(t){function e(e){var n=t.call(this,e)||this;return n.enabled=!0,n.isInPause=!1,n.running=!1,n.id=e,n.animationItem=null,n}return jn(e,t),e.prototype.isRunning=function(){return this.running},e.prototype.disableForTime=function(t){var e=this;void 0===t&&(t=0),this.enabled=!1,setTimeout((function(){e.enabled=!0}),t)},e.prototype.finish=function(t){var e;(this.isRunning()||this.isInPause)&&(this.running=!1,this.isInPause=!1,this.onFinish(t),null===(e=this.getAnimation())||void 0===e||e.stop())},e.prototype.getAnimation=function(){return this.animationItem},e.prototype.start=function(t,e){this.running=!0,this.setCellId(e),this.onStart(t)},e.prototype.setAnimationItem=function(t){this.animationItem=t},e.prototype.pause=function(){var t;this.running=!1,this.isInPause=!0,this.onPause(),null===(t=this.getAnimation())||void 0===t||t.stop()},e.prototype.play=function(){var t;this.running=!0,this.isInPause=!1,null===(t=this.getAnimation())||void 0===t||t.start()},e.prototype.onMouseMove=function(t){var e;null===(e=this.getAnimation())||void 0===e||e.start()},e.prototype.onMouseUp=function(t){this.finish(t)},e.prototype.onMouseLeave=function(t){this.finish(t)},e.prototype.onMouseDown=function(t){},e.prototype.onClick=function(t){},e.prototype.onMouseEnter=function(t){},e.prototype.onMouseWheel=function(t){},e.prototype.onTouchStart=function(t){},e.prototype.onTouchMove=function(t){},e.prototype.onTouchEnd=function(t){},e.prototype.onStart=function(t){},e.prototype.onFinish=function(t){this.publish(Se)},e.prototype.onPause=function(){},e.prototype.onPlay=function(){},e.prototype.onAnimation=function(){},e.prototype.setCellId=function(t){this.cellId=t},e.prototype.getCellId=function(){return this.cellId},e.prototype.getCursorName=function(t){return he.DEFAULT},e.INTERACTION_ANIMATION_DEFAULT_PRIORITY=wn.MEDIUM,e}(Tn),kn=Dn,Ln=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ln(e,t),e.prototype.checkCollision=function(t,e){return!1},e.prototype.getAnimation=function(){return t.prototype.getAnimation.call(this)},e.prototype.setAnimationItem=function(e){t.prototype.setAnimationItem.call(this,e)},e}(kn),Mn=Rn,Bn=new Mn("idle-annotation-interaction"),Nn=Bn,Fn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Un=function(t){function e(){var e=t.call(this,ge("annotation"))||this;return e.type=lr,e.strokeStyle=Yt.SOLID,e.strokeThickness=2,e.interaction=Nn,e.color=fe(),e.sensitivity=1,e.stopPublicationOnException(),e}return Fn(e,t),e.prototype.setInteraction=function(t){this.interaction=t,this.publish(Ct,{annotationId:this.getId(),interactionId:t.getId()})},e.prototype.getInteraction=function(){return this.interaction},e.prototype.getAnimation=function(){return this.animation},e.prototype.setKeyframeManager=function(t){this.keyframeManager=t},e.prototype.getKeyframeManager=function(){return this.keyframeManager},e.prototype.setAnimation=function(t){this.animation=t,this.animation.setAnnotation(this),this.publish(Et,{annotationId:this.getId(),animationId:t.getId()})},e.prototype.getType=function(){return this.type},e.prototype.getColor=function(){return this.color},e.prototype.setColor=function(t){this.color=t,this.publish(It)},e.prototype.isAvailableForSliceIndex=function(t){return this.keyframeManager.coordinatesExistsAt(t)},e.prototype.saveAsKeyframe=function(t){this.keyframeManager.saveAsKeyframe(t)},e.prototype.getCoordinatesAt=function(t){return this.keyframeManager.getCoordinatesAt(t)},e.prototype.setCoordinatesAt=function(t,e){this.keyframeManager.setKeyframeAt(e,t),this.publish(gt,{sliceIndex:t})},e.prototype.deleteKeyframe=function(t){var e=this.keyframeManager.getCoordinatesAt(t);return this.keyframeManager.deleteKeyframeAt(t),this.publish(vt,{sliceIndex:t}),e},e.prototype.translateKeyframeByImageCoords=function(t,e){this.keyframeManager.translate(e,t),this.publish(gt,{sliceIndex:t})},e.prototype.getAllKeyframes=function(){return this.keyframeManager.getAll()},e.prototype.render=function(t,e){this.keyframeManager.coordinatesExistsAt(e)&&(this.animation.setCell(t),this.animation.start())},e.prototype.getDrawCoords=function(t,e){var n=t.getDrawCoords(),r=t.getTransformContext(),o={height:r.getContentHeight()/n.height,width:r.getContentWidth()/n.width};return this.keyframeManager.getCoordinatesAt(e).transfersToCanvasSpace(n,o)},e.prototype.serialize=function(){return{keyframes:this.keyframeManager.serialize(),style:{color:this.getColor()},type:this.type}},e.prototype.getLowerBound=function(){return this.keyframeManager.getLowerBound()},e.prototype.getUpperBound=function(){return this.keyframeManager.getUpperBound()},e.prototype.getBoundClosestToSliceIndex=function(t){var e=this.getLowerBound(),n=this.getUpperBound();if(t<e)return e;if(t>n)return n;throw"Annotation already exist on slice ".concat(t)},e.prototype.getStrokeStyle=function(){return this.strokeStyle},e.prototype.setStrokeStyle=function(t){this.strokeStyle=t,this.publish(It)},e.prototype.getStrokeThickness=function(){return this.strokeThickness},e.prototype.setStrokeThickness=function(t){this.strokeThickness=t,this.publish(It)},e.coordinateType=Mt,e.type=lr,e}(At["Publisher"]),zn=Un,Vn=(n("cb29"),"animation-start"),Wn="animation-rendered",Hn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yn=function(t){function e(e){var n=t.call(this,e)||this;return n.isCurrentlyPlaying=!1,n.shouldRefreshValue=!1,n.nextIterationCallback=n.loop.bind(n),n}return Hn(e,t),e.prototype.stop=function(){this.isCurrentlyPlaying=!1},e.prototype.start=function(){this.isCurrentlyPlaying=!0,this.publish(Vn)},e.prototype.isPlaying=function(){return this.isCurrentlyPlaying},e.prototype.shouldRefresh=function(){return this.shouldRefreshValue},e.prototype.loop=function(t){this.shouldRefreshValue=!1,this.publish(Wn,t)},e.prototype.setRefreshRequired=function(t){this.shouldRefreshValue=t},e}(At["PublisherSubscriber"]),Gn=Yn,$n=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.counter=0,e}return $n(e,t),e.prototype.resetCounter=function(){this.counter=0},e.prototype.shouldRefresh=function(){return this.counter>0},e.prototype.loop=function(e){this.resetCounter(),t.prototype.loop.call(this,e)},e.prototype.start=function(){this.counter++,t.prototype.start.call(this)},e}(Gn),Kn=Xn,qn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zn=function(){return Zn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Zn.apply(this,arguments)},Jn=function(t){function e(e){var n=t.call(this,e)||this;return n.styleOverride={},n}return qn(e,t),e.prototype.getAnnotation=function(){return this.annotation},e.prototype.getCell=function(){return this.cell},e.prototype.setAnnotation=function(t){this.annotation=t},e.prototype.setCell=function(t){this.cell=t},e.prototype.getSliceIndex=function(){return this.sliceIndex},e.prototype.setSliceIndex=function(t){this.sliceIndex=t},e.prototype.addStyleOverride=function(t,e){void 0===e&&(e=!1),this.styleOverride=e?t:Zn(Zn({},this.styleOverride),t)},e.prototype.getStyle=function(){var t,e,n,r,o;return{strokeStyle:null!==(t=this.styleOverride.strokeStyle)&&void 0!==t?t:this.annotation.getStrokeStyle(),strokeThickness:null!==(e=this.styleOverride.strokeThickness)&&void 0!==e?e:this.annotation.getStrokeThickness(),color:null!==(n=this.styleOverride.color)&&void 0!==n?n:this.annotation.getColor(),fill:null!==(r=this.styleOverride.fill)&&void 0!==r?r:"#000000",fillOpacity:null!==(o=this.styleOverride.fillOpacity)&&void 0!==o?o:0}},e.prototype.clearStyleOverride=function(){this.styleOverride={}},e}(Kn),Qn=Jn,tr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),er=function(t){function e(e){var n=t.call(this,ge("proxy-annotation-animation"))||this;return n.setAnnotation(e),n}return tr(e,t),e.prototype.loop=function(e){t.prototype.loop.call(this,e),this.getAnnotation().getAnimation().loop(e),this.stop()},e.prototype.setCell=function(e){t.prototype.setCell.call(this,e),this.getAnnotation().getAnimation().setCell(e)},e.prototype.setSliceIndex=function(e){t.prototype.setSliceIndex.call(this,e),this.getAnnotation().getAnimation().setSliceIndex(e)},e}(Qn),nr=er,rr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),or=function(t){function e(e,n){var r=t.call(this,e)||this;return r.annotationService=vc.annotationService,r.sliceService=vc.sliceService,r.annotation=n,r}return rr(e,t),e.prototype.getAnimation=function(){return this.annotation.getAnimation()},e.prototype.setAnimationItem=function(e){t.prototype.setAnimationItem.call(this,e)},e.prototype.getSliceIndex=function(){var t=this.getAnimation().getCell().getSeriesId();if(null===t)throw new B(t);return this.sliceService.getSliceIndex(t)},e.prototype.isAnnotationSelected=function(){return this.annotationService.isSelected(this.annotation.getId())},e}(kn),ir=or,ar=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sr=function(t){function e(e){return t.call(this,ge("basic-annotation-interaction"),e)||this}return ar(e,t),e.prototype.checkCollision=function(t,e){return this.annotation.checkCollision(t,e)},e}(ir),cr=sr,ur=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr="proxy",fr=function(t){function e(){var e=t.call(this)||this;return e.type=lr,e.animationProxy=new nr(e),e.setInteraction(new cr(e)),e}return ur(e,t),e.prototype.getProxyAnimation=function(){return this.animationProxy},e.prototype.checkCollision=function(t,e){return!1},e.prototype.setAnimation=function(e){var n=this;this.getProxyAnimation().unsubscribeFromNotification(Vn),t.prototype.setAnimation.call(this,e),this.getProxyAnimation().subscribe(e,Vn,(function(t){n.publish(Vn,t)}))},e.type=lr,e}(zn),pr=fr,dr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hr=function(){return hr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},hr.apply(this,arguments)},yr=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},vr=function(t){function e(){var e=t.call(this)||this;return e.seriesIdByAnnotationId={},e.annotationIdBySeriesId={},e.annotationHover={},e.hoveredAnnotationId=null,e.subscriber=new At["Subscriber"]("annotation-service-subscriber"),e}return dr(e,t),e.prototype.removeById=function(e){var n=this.findById(e);if(null===n)throw new jt(e);var r=n instanceof pr?n.getProxyAnimation():n.getAnimation(),o=r.getId(),i=n.getInteraction().getId();t.prototype.removeById.call(this,e);var a=this.seriesIdByAnnotationId[e];delete this.seriesIdByAnnotationId[e],this.annotationIdBySeriesId[a].delete(e),this.hoveredAnnotationId=null,this.subscriber.unsubscribeFromPublisherId(e),this.publish(yt,{annotationId:e,seriesId:a,animationId:o,interactionId:i})},e.prototype.addAnnotation=function(e,n){var r=e.getId();t.prototype.addResource.call(this,e,r),this.seriesIdByAnnotationId[r]=n,"undefined"===typeof this.annotationIdBySeriesId[n]?this.annotationIdBySeriesId[n]=new Set([r]):this.annotationIdBySeriesId[n].add(r),this.subscribeToAnnotation(e),this.publish(mt,{annotationId:r,seriesId:n}),this.select(r)},e.prototype.subscribeToAnnotation=function(t){this.addProxy(t,gt).addProxy(t,_t).addProxy(t,It).addProxy(t,Ct).addProxy(t,Et)},e.prototype.addProxy=function(t,e){var n=this;return this.subscriber.subscribe(t,e,(function(r){n.publish(e,hr(hr({},r),{annotationId:t.getId()}))})),this},e.prototype.removeProxy=function(t,e){var n=this,r=this.subscriber.findSubscriptionsByNotificationAndPublisherId(e,t.getId());return r.forEach((function(t){n.subscriber.unsubscribeFromSubscriptionId(t.id)})),this},e.prototype.updateById=function(e,n){t.prototype.updateById.call(this,e,n),this.publish(gt,{annotationId:e})},e.prototype.getRelatedSeriesId=function(t){if(t in this.seriesIdByAnnotationId)return this.seriesIdByAnnotationId[t];throw new jt(t)},e.prototype.getBySeriesId=function(t,e){var n=this;void 0===e&&(e={});var r=Array.from(this.annotationIdBySeriesId[t]||[]);return r.length,0===Object.keys(e).length?r.map((function(t){return n.findById(t)})):this.find(hr({_id:{$in:r}},e))},e.prototype.hasSelectedInSeries=function(t){var e=this.getCurrentId();return this.hasSelected()&&null!==e&&this.getRelatedSeriesId(e)===t},e.prototype.select=function(e){var n=this.getCurrentId();n!==e&&(t.prototype.select.call(this,e),null!==n&&this.publish(wt,{annotationId:n}),this.publish(bt,{annotationId:e}))},e.prototype.setHover=function(t,e){this.annotationHover[t]=e},e.prototype.unselect=function(){var e=this.getCurrentId();null!==e&&this.publish(wt,{annotationId:e}),t.prototype.unselect.call(this)},e.prototype.setHovered=function(t){if(this.hoveredAnnotationId!==t){var e=this.hoveredAnnotationId;this.hoveredAnnotationId=t,null!==e&&this.publish(St,{annotationId:e}),null!==t&&this.publish(Ot,{annotationId:t})}},e.prototype.getHovered=function(){return this.hoveredAnnotationId},e.prototype.isHovered=function(t){return this.hoveredAnnotationId===t},e.prototype.removeKeyframesBeforeIndex=function(t,e){var n=this.findById(t);if(null===t)throw new jt(t);if(!n.isAvailableForSliceIndex(e))throw new Lt(n.getLowerBound(),n.getUpperBound(),e);n.saveAsKeyframe(e),n.getAllKeyframes().forEach((function(t){var r=yr(t,1),o=r[0];o<e&&n.deleteKeyframe(o)}))},e.prototype.removeKeyframesAfterIndex=function(t,e){var n=this.findById(t);if(null===t)throw new jt(t);if(!n.isAvailableForSliceIndex(e))throw new Lt(n.getLowerBound(),n.getUpperBound(),e);n.saveAsKeyframe(e),n.getAllKeyframes().forEach((function(t){var r=yr(t,1),o=r[0];o>e&&n.deleteKeyframe(o)}))},e.prototype.addKeyframeAtIndex=function(t,e){var n=this.findById(t);if(null===t)throw new jt(t);n.saveAsKeyframe(e),this.publish(gt,{annotationId:t})},e.prototype.applyStateToAnnotation=function(t,e){var n=this.findById(t);if(null===t)throw new jt(t);n.apply(e),this.publish(gt,{annotationId:t})},e}(W),mr=vr,gr=function(){function t(){this.isMultipartCollection={},this.multipartIndex={}}return t.prototype.checkMultipartIndex=function(t,e){void 0===e&&(e={});var n=!1,r=NaN;"undefined"!==typeof e.dicomMultiplePartIndex&&(r=parseInt(e.dicomMultiplePartIndex),n=!isNaN(r)),this.isMultipartCollection[t]=n,n&&(this.multipartIndex[t]=r)},t.prototype.getMultipartIndex=function(t){return this.multipartIndex[t]},t.prototype.isMultipart=function(t){return this.isMultipartCollection[t]},t}(),br=gr,wr=(n("caad"),n("2532"),"slice-change"),_r="slice-index-change",Sr="slice-loaded",Or="slice-added",Ir="slice-order-change",Er="blocked-slice-index-change",Cr="slice-updated",xr={SLICE_CHANGE:wr,SLICE_INDEX_CHANGE:_r,SLICE_LOADED:Sr,SLICE_ADDED:Or,SLICE_ORDER_CHANGE:Ir,BLOCKED_SLICE_INDEX_CHANGE:Er,SLICE_UPDATED:Cr},Ar=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pr=function(t){function e(e,n,r){var o=this,i='index "'.concat(e,'" is not a valid for series "').concat(n,'". Candidates are integer in range [0..').concat(r,"].");return o=t.call(this,i)||this,o.name="InvalidSliceIndexException",o}return Ar(e,t),e}(Error),Tr=Pr,jr=function(){function t(t){this.sliceService=t}return t.prototype.getSliceService=function(){return this.sliceService},t.prototype.vote=function(t,e,n){var r=this.sliceService.getNbSlices(t);return 1===r&&0!==e?(n.reason="voter.set-slice-index.no-scroll-when-only-one-slice",!1):e<0?(n.reason="voter.set-slice-index.begin-series",!1):e>=r?(n.reason="voter.set-slice-index.end-series",!1):!isNaN(e)},t}(),Dr=jr,kr=function(){function t(t,e){this.sliceService=t,this.setPriority(e)}return t.prototype.getSliceService=function(){return this.sliceService},t.prototype.setPriority=function(t){this.priority=t},t.prototype.getPriority=function(){return this.priority},t.prototype.sanitize=function(t,e,n){n.priority<this.getPriority()&&(n.sliceIndex=Math.min(Math.max(0,e),this.getSliceService().getNbSlices(t)-1),n.priority=this.getPriority())},t}(),Lr=kr,Rr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mr=function(t){function e(e){var n=this,r='No slot found for series "'.concat(e,'" in slice.service.');return n=t.call(this,r)||this,n.name="SeriesSlotNotFoundException",n}return Rr(e,t),e}(Error),Br=Mr,Nr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fr=function(t){function e(e){var n=this,r='Unable to add slice "'.concat(e,'" twice.');return n=t.call(this,r)||this,n.name="UnableToAddSliceTwiceException",n}return Nr(e,t),e}(Error),Ur=Fr,zr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vr=function(t){function e(e){var n=this,r='Try to update slice order for series "'.concat(e,'" with invalid number of slice.');return n=t.call(this,r)||this,n.name="InvalidSliceOrderException",n}return zr(e,t),e}(Error),Wr=Vr,Hr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yr=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gr=function(t){function e(){var e=t.call(this)||this;e.sliceIndexBySeriesId={},e.slicesIdBySeriesId={},e.setSliceIndexVoter=[],e.sliceIndexSanitizer=[],e.sliceUIDIndex=new Set,e.addSetSliceIndexVoter(new Dr(e));var n=10;return e.addSliceIndexSanitize(new Lr(e,n)),e}return Hr(e,t),e.prototype.getCurrentSliceId=function(t){var e=this.sliceIndexBySeriesId[t];return this.slicesIdBySeriesId[t][e]},e.prototype.getSlice=function(t,e){var n=this.slicesIdBySeriesId[t][e];if("undefined"===typeof e)throw new Tr(e,t,this.slicesIdBySeriesId[t].length);return this.findById(n)},e.prototype.getCurrentSlice=function(t){var e=this.getCurrentSliceId(t);return this.findById(e)},e.prototype.addSetSliceIndexVoter=function(t){this.setSliceIndexVoter.push(t)},e.prototype.addSliceIndexSanitize=function(t){this.sliceIndexSanitizer.push(t)},e.prototype.addSeriesSlot=function(t){this.slicesIdBySeriesId[t]=[],this.sliceIndexBySeriesId[t]=NaN},e.prototype.removeById=function(e){var n=this.findById(e);this.sliceUIDIndex.delete(n.sliceUID),t.prototype.removeById.call(this,e)},e.prototype.removeBySeriesId=function(t){var e,n;try{for(var r=Yr(this.slicesIdBySeriesId[t]),o=r.next();!o.done;o=r.next()){var i=o.value;this.removeById(i)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}delete this.slicesIdBySeriesId[t],delete this.sliceIndexBySeriesId[t]},e.prototype.addSlice=function(t,e){if(!Array.isArray(this.slicesIdBySeriesId[t]))throw new Br(t);if(this.slicesIdBySeriesId[t].includes(e.getId()))throw new Ur(e.getId());this.slicesIdBySeriesId[t].push(e.getId()),this.sliceUIDIndex.add(e.sliceUID),this.addResource(e,e.getId()),this.publish(Or,{seriesId:t,sliceId:e.getId()})},e.prototype.setSliceIndex=function(t,e){var n,r={sliceIndex:e,reason:""};if(!this.shouldSetSliceIndex(t,e,r)){if(r.reason.length>0)return void this.publish(Er,{seriesId:t,reason:r.reason});throw new Tr(e,t,this.getNbSlices(t)-1)}e=null!==(n=r.sliceIndex)&&void 0!==n?n:e,this.getSliceIndex(t)!==e&&(this.sliceIndexBySeriesId[t]=e,this.publish(wr,{seriesId:t,sliceIndex:e}))},e.prototype.getNbSlices=function(t){return this.slicesIdBySeriesId[t].length},e.prototype.setSliceOrder=function(t,e){var n=this.slicesIdBySeriesId[t];if("undefined"!==typeof n&&n.length!==e.length)throw new Wr(t);var r=this.getCurrentSliceId(t);this.slicesIdBySeriesId[t]=e,this.publish(Ir,{seriesId:t}),this.shouldRenderAfterSliceOrderChanged(t,r)},e.prototype.shouldRenderAfterSliceOrderChanged=function(t,e){var n=this.getCurrentSliceId(t),r=e!==n;r&&this.publish(wr,{seriesId:t,sliceIndex:this.getSliceIndex(t)})},e.prototype.sanitizeSliceIndex=function(t,e){var n={sliceIndex:e,priority:-1};return this.sliceIndexSanitizer.forEach((function(r){return r.sanitize(t,e,n)})),n.sliceIndex},e.prototype.moveSlice=function(t,e){var n=this.getSliceIndex(t)+e;this.setSliceIndex(t,n)},e.prototype.getSliceIndex=function(t){if("undefined"===typeof this.sliceIndexBySeriesId)throw new B(t);return this.sliceIndexBySeriesId[t]},e.prototype.shouldSetSliceIndex=function(t,e,n){return this.setSliceIndexVoter.reduce((function(r,o){return r||o.vote(t,e,n)}),!1)},e.prototype.isSliceDuplicated=function(t){return this.sliceUIDIndex.has(t.sliceUID)},e.prototype.getSliceBySeriesId=function(t){var e=this;return this.slicesIdBySeriesId[t].map((function(t){return e.resourceCollection[t]}))},e}(O),$r=Gr,Xr=(n("2b3d"),n("9861"),function(t){var e=window.URL||window.webkitURL;e.revokeObjectURL(t.src)}),Kr=function(t){},qr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zr=function(t){function e(e,n){var r=t.call(this,"".concat(e,' file helper for type "').concat(n,'" was not found, did you forget to register it?'))||this;return r.name="FileHelperNotFoundException",r}return qr(e,t),e}(Error),Jr=Zr,Qr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),to=function(t){function e(e,n){var r=t.call(this,"A ".concat(e,' file helper for files of type "').concat(n,'" is already registered. Use "replace: true" to bypass this error.'))||this;return r.name="FileHelperAlreadyExistsException",r}return Qr(e,t),e}(Error),eo=to,no={JPG:"jpg",DICOM:"dcm",PNG:"png"},ro=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oo="destroyer",io=function(t){function e(e,n){var r=t.call(this,{})||this;return r.seriesId=e,r.id=n,r}return ro(e,t),e.prototype.getSeriesId=function(){return this.seriesId},e.prototype.setImageFormat=function(t){this.format=t},e.prototype.getImageFormat=function(){return this.format},e.prototype.getId=function(){return this.id},e.addFileDestroyer=function(t,n,r){if(void 0===r&&(r=!1),n in e.destroyer&&!r)throw new eo(oo,n);e.destroyer[n]=t},e.getFileDestroyer=function(t){var n,r=null!==(n=e.destroyer[t])&&void 0!==n?n:null;if(null===r)throw new Jr(oo,t);return r},e.destroyer=(Ye={},Ye[no.JPG]=Xr,Ye[no.PNG]=Xr,Ye[no.DICOM]=Kr,Ye),e}(l["SmartComponent"]),ao=io,so=function(){return{studyUID:"",seriesUID:"",slicesUIDIndex:[],numberOfSlice:0,ipp:[{x:0,y:0,z:0}],iop:[{xx:1,xy:0,xz:0,yx:0,yy:1,yz:0}],pixelSpacing:[{x:1,y:1}],pixelWidth:1,pixelHeight:1,acquisitionNumber:-1}},co="series-provider-files-ready",uo="new-slice-available",lo={SERIES_PROVIDER_FILES_READY:co,NEW_SLICE_AVAILABLE:uo},fo={x:0,y:0,z:0},po={xx:1,xy:0,xz:0,yx:0,yy:1,yz:0},ho=-1,yo={x:1,y:1},vo="",mo=0,go=function(){function t(){this.sliceUID=vo,this.ipp=fo,this.iop=po,this.pixelSpacing=yo,this.pixelWidth=yo.x,this.pixelHeight=yo.y,this.acquisitionNumber=ho,this.sliceOffset=0,this.studyUID="",this.seriesUID="",this.id="slice_".concat(mo++)}return t.prototype.getId=function(){return this.id},t}(),bo=go,wo=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},_o=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},So=function(){function t(){}return t.prototype.convert=function(t){return wo(this,void 0,Promise,(function(){var e,n;return _o(this,(function(r){switch(r.label){case 0:return e={src:""},[4,t.async("blob")];case 1:return n=r.sent(),e.src=window.URL.createObjectURL(n),[2,e]}}))}))},t}(),Oo=So,Io=n("a02e"),Eo=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Co=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},xo=function(){function t(){}return t.prototype.convert=function(t){return Eo(this,void 0,Promise,(function(){var e,n;return Co(this,(function(r){switch(r.label){case 0:return[4,t.async("blob")];case 1:return e=r.sent(),n={file:new Io["DicomFile"]("",e,Io["dictionary"])},[2,n]}}))}))},t}(),Ao=xo,Po=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),To=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},jo=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Do=0,ko=function(t){function e(e){var n=t.call(this,e,"zip-file-container_".concat(Do++))||this;return n.url="",n.zip=null,n.dataArray=[],n.content={},n}return Po(e,t),e.prototype.setUrl=function(t){this.url=t},e.prototype.getUrl=function(){return this.url},e.prototype.addFile=function(t){this.setZip(t)},e.prototype.setZip=function(t){var e=this;return this.zip=t,this.dataArray=t.file(/.*/),this.dataArray.forEach((function(t){var n=new bo;e.content[n.getId()]=t.name,e.publish(uo,{seriesId:e.getSeriesId(),slice:new bo})})),this},e.prototype.getImageNumber=function(){return this.dataArray.length},e.prototype.getComment=function(){return this.dataArray.comment},e.prototype.getContent=function(){return this.content},e.prototype.getFileNumber=function(){return this.dataArray.length},e.prototype.getContainerType=function(){return $e},e.prototype.getSliceFile=function(t){return this.zip.file(this.content[t])},e.prototype.replaceSliceFile=function(t,e){throw"not implemented"},e.prototype.getSlice=function(t){return To(this,void 0,Promise,(function(){var n;return jo(this,(function(r){switch(r.label){case 0:return n=this.getSliceFile(t),[4,e.extractor[this.getImageFormat()].convert(n)];case 1:return[2,r.sent()]}}))}))},e.prototype.generateMeta=function(){return so()},e.prototype.removeSlice=function(t){},e.extractor=(Ge={},Ge[no.JPG]=new Oo,Ge[no.DICOM]=new Ao,Ge),e}(ao),Lo=ko,Ro=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mo=function(t){function e(e){var n=t.call(this,'File container not found for seriesId: "'.concat(e,'"'))||this;return n.name="FileContainerNotFoundException",n}return Ro(e,t),e}(Error),Bo=Mo,No=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fileContainer={},e.zipSeriesIdByUrl={},e}return No(e,t),e.prototype.getFromZip=function(t,e){var n=new Lo(t);n.setUrl(e),this.setFileContainer(t,n),this.zipSeriesIdByUrl[e]=t},e.prototype.getFileContainer=function(t){var e=this.fileContainer[t];if("undefined"===typeof e)throw new Bo(t);return e},e.prototype.hasFileContainer=function(t){var e=this.fileContainer[t];return"undefined"!==typeof e},e.prototype.hasSliceFileProviderUsingZipUrl=function(t){return"undefined"!==typeof this.zipSeriesIdByUrl[t]},e.prototype.getSeriesIdUsingZipUrl=function(t){return this.zipSeriesIdByUrl[t]},e.prototype.setFileContainer=function(t,e){this.subscribeToContainer(t,e),this.fileContainer[t]=e},e.prototype.load=function(t,e){var n=this.fileContainer[t];return n.addFile(e)},e.prototype.extractZipData=function(t,e,n){var r=this.fileContainer[t];if(!(r instanceof Lo))throw"error replace me by a real good error";r.setZip(n),this.publish(co,{seriesId:t})},e.prototype.subscribeToContainer=function(t,e){var n=this,r=this.fileContainer[t];r instanceof ao&&this.unsubscribe(r,uo),this.subscribe(e,uo,(function(t){n.publish(uo,t)})),this.subscribe(e,Cr,(function(t){n.publish(Cr,t)}))},e.prototype.removeBySeriesId=function(t){this.getFileContainer(t).destroy(),delete this.fileContainer[t]},e}(l["SmartComponent"]),Uo=Fo,zo="image-loaded",Vo="image-added",Wo="image-windowing-updated",Ho=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yo=function(t){function e(e,n){void 0===n&&(n=[]);var r=this,o='No image factory found with format "'.concat(e,'".');return n.length>0&&(o+=' Candidates are "'.concat(n.join('", "'),'"')),r=t.call(this,o)||this,r.name="ImageFactoryNotFoundException",r}return Ho(e,t),e}(Error),Go=Yo,$o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xo=function(t){function e(e,n){var r=t.call(this,'No image exists for the series id : "'.concat(e,'". Existing series are : ').concat(JSON.stringify(n)))||this;return r.name="ImageNotFoundError",r}return $o(e,t),e}(Error),Ko=Xo,qo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imageIdBySeriesId={},e.seriesIdByImageId={},e.factories={},e}return qo(e,t),e.prototype.createImage=function(t,e){void 0===e&&(e={});var n=this.factories[t];if("undefined"===typeof n)throw new Go(t,Object.keys(this.factories));return n.createImage(e)},e.prototype.addFactory=function(t,e){this.factories[t]=e},e.prototype.getImageBySeriesId=function(t){var e=this.imageIdBySeriesId[t],n=this.findById(e);if(null===n)throw new Ko(t,Object.keys(this.imageIdBySeriesId));return n},e.prototype.hasImage=function(t){var e=this.imageIdBySeriesId[t];return null!==this.findById(e)},e.prototype.addImage=function(t,e){this.imageIdBySeriesId[t]=e.getId(),this.seriesIdByImageId[e.getId()]=t,this.addResource(e,e.getId()),this.publish(Vo,{seriesId:t,imageId:e.getId()}),this.addProxy(e,Wo)},e.prototype.getSeriesIdByImageId=function(t){return this.seriesIdByImageId[t]},e.prototype.addProxy=function(t,e){var n=this;return this.subscribe(t,e,(function(t){n.publish(e,t)})),this},e.prototype.removeById=function(e){this.unsubscribe(this.findById(e),Wo);var n=this.getSeriesIdByImageId(e);delete this.imageIdBySeriesId[n],delete this.seriesIdByImageId[e],t.prototype.removeById.call(this,e)},e.prototype.updateBySeriesId=function(t,e){var n=this,r=this.imageIdBySeriesId[t],o=this.findById(r);if(null===o)throw new b(r,this.getType());var i=o.getImageSource(),a=!1;for(var s in e)i[s]=e[s],a=!0;a&&o.reload().then((function(){n.publish(zo,{seriesId:t,imageId:r})}))},e}(O),Jo=Zo,Qo=(n("25f0"),n("c740"),"display-mode-change"),ti="cell-clicked",ei="cell-focused",ni="bound-series-change",ri="unbound-series",oi="cell-reset",ii={DISPLAY_MODE_CHANGE:Qo,CELL_CLICKED:ti,CELL_FOCUSED:ei,BOUND_SERIES_CHANGED:ni,UNBOUND_SERIES:ri,CELL_RESET:oi},ai=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),si=function(t){function e(e,n){var r=t.call(this,'Cannot find the requested diplay-mode "'.concat(e,'". Candidates are: "').concat(n.join('", "'),'"'))||this;return r.name="UnknownDisplayModeException",r}return ai(e,t),e}(Error),ci=si,ui=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),li=function(t){function e(e,n){var r=this,o="string"===typeof n?" Reason : ".concat(n,"."):"";return r=t.call(this,'Invalid display mode "'.concat(e,'".').concat(o))||this,r.name="InvalidDisplayModeException",r}return ui(e,t),e}(Error),fi=li,pi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),di=function(t){function e(e){var n=t.call(this,'Invalid transform context for cell with id "'.concat(e,'".'))||this;return n.name="InvalidTransformationContextException",n}return pi(e,t),e}(Error),hi=di,yi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vi=function(t){function e(){var e=t.call(this,"Unable to find main ImaiosCanvas")||this;return e.name="ImaiosCanvasNotFoundException",e}return yi(e,t),e}(Error),mi=vi,gi=function(){function t(t){this.transformationContext=null,this.mainCanvasName="",this.seriesId=null,this.id=t,this.canvasCollection={}}return t.prototype.getId=function(){return this.id},t.prototype.getContainer=function(){return this.getMainCanvas().canvasTag.parentElement},t.prototype.setFileContainer=function(t){return this.fileContainer=t,this},t.prototype.getTransformContext=function(){if(null===this.transformationContext)throw new hi(this.id.toString());return this.transformationContext},t.prototype.setTransformContext=function(t){this.transformationContext=t},t.prototype.setCanvas=function(t,e){return this.canvasCollection[t]=e,this},t.prototype.getCanvas=function(t){return this.canvasCollection[t]},t.prototype.getFileContainer=function(){var t;return null!==(t=this.fileContainer)&&void 0!==t?t:null},t.prototype.setSeriesId=function(t){this.seriesId=t,this.getContainer().classList.add(An)},t.prototype.getSeriesId=function(){var t;return null!==(t=this.seriesId)&&void 0!==t?t:null},t.prototype.focus=function(){this.getContainer().classList.add(ei)},t.prototype.getAllCanvas=function(){return Object.values(this.canvasCollection)},t.prototype.setMainCanvas=function(t){0===this.mainCanvasName.length&&(this.mainCanvasName=t,this.getMainCanvas().canvasTag.parentElement.classList.add("main-canvas-container"))},t.prototype.getMainCanvas=function(){var t=this.canvasCollection[this.mainCanvasName];if("undefined"===typeof t)throw new mi;return t},t.prototype.blur=function(){Object.values(this.canvasCollection).forEach((function(t){var e=t.canvasTag.parentElement;e.classList.contains(on)&&e.classList.remove(on)}))},t.prototype.redraw=function(){Object.values(this.canvasCollection).forEach((function(t){var e=t.canvasTag.parentNode;t.setCanvasWidth(e.offsetWidth),t.setCanvasHeight(e.offsetHeight),t.context.scale(1,1)}))},t.prototype.isFocus=function(){return Object.values(this.canvasCollection).findIndex((function(t){return t.canvasTag.parentElement.classList.contains(on)}))>=0},t.prototype.getDrawCoords=function(){var t=this.getMainCanvas().canvasTag,e=0,n=0,r=t.offsetWidth,o=t.offsetHeight,i=this.getTransformContext(),a=i.getContentWidth(),s=i.getContentHeight(),c=r/a,u=o/s,l=Math.min(c,u),f=Math.ceil(a*l),p=Math.ceil(s*l),d=i.getZoomLevel(),h=f*d,y=p*d,v=2,m=e+r/v-h/v,g=n+o/v-y/v;return m+=i.getPanX(),g+=i.getPanY(),{x:m,y:g,width:h,height:y,defaultWidth:f,defaultHeight:p}},t}(),bi=gi,wi=function(t){var e=document.createElement("div");e.classList.add("canvas-container"),t.appendChild(e);var n=new l["ImaiosCanvas"]({canvasDiv:e,addStatusId:1,width:0,height:0,cssZIndex:"auto",cssPosition:"absolute",useMouseController:!1});return n.canvasTag.setAttribute("data-imaios-id",ge("imaios-canvas-")),n},_i=function(){function t(t){this.container=t}return t.prototype.create=function(t){var e=new bi(t);e.setCanvas(fn,wi(this.container)).setMainCanvas(fn);var n=e.getMainCanvas().canvasTag.parentElement,r=wi(n);return r.canvasTag.parentElement.classList.add("additional-imaios-canvas"),e.setCanvas(pn,r),e},t}(),Si=_i,Oi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ii=function(t){function e(e,n){var r=this,o=n?" Available ids are ".concat(JSON.stringify(n),"."):"";return r=t.call(this,'No Cell with id "'.concat(e,'" exists.').concat(o))||this,r.name="CellIdNotFoundException",r}return Oi(e,t),e}(Error),Ei=Ii,Ci="voter.set-display-mode.no-enough-series",xi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ai=function(t){function e(){var e=t.call(this,"No layout save exist.")||this;return e.name="NoSaveToRestoreException",e}return xi(e,t),e}(Error),Pi=Ai,Ti=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ji=function(t){function e(){var e=t.call(this,{id:"cell-service"})||this;e.cells=[],e.displayModesAvailable={},e.setDisplayModeVoters=[],e.seriesIdsBound=[],e.seriesVisibleIds=[],e.cellVisibleIds=[],e.cellIdFocused=null,e.saveStack=[],e.autoUpdateDisplayModeEnabled=!0,e.cellFactory=new Si(qe);for(var n=0;n<Ke;n++){var r=e.cellFactory.create(n);e.addEventClick(r.getMainCanvas(),n),e.cells.push(r)}return e.updateSeriesIdBound(),Object.values(ln).forEach((function(t){e.addDisplayMode(t.name,t)})),e.currentDisplayMode=Ze,e.hideAll(),e.displayByIndex(0),e}return Ti(e,t),e.prototype.addSetDisplayModeVoter=function(t){this.setDisplayModeVoters.push(t)},e.prototype.addDisplayMode=function(t,e){this.displayModesAvailable[t]=e},e.prototype.getAllCanvas=function(){return this.cells.map((function(t){return t.getMainCanvas()}))},e.prototype.hideAll=function(){this.getAllCanvas().forEach((function(t){t.canvasTag.parentNode.classList.add("hidden")}))},e.prototype.displayByIndex=function(t){this.cells[t].getMainCanvas().canvasTag.parentNode.classList.remove("hidden")},e.prototype.getCellById=function(t){if(t in this.cells)return this.cells[t];throw new Ei(t.toString(),Object.keys(this.cells))},e.prototype.getCurrentDisplayMode=function(){return this.currentDisplayMode},e.prototype.getDisplayMode=function(t){var e=this.displayModesAvailable[t];if("undefined"===typeof e)throw new ci(t,Object.keys(this.displayModesAvailable));return e},e.prototype.getNbCellByDisplayMode=function(t){return this.getDisplayMode(t).nbCanvas},e.prototype.getNbVisibleCells=function(){return this.displayModesAvailable[this.currentDisplayMode].nbCanvas},e.prototype.getDisplayModeAvailable=function(){return Object.values(this.displayModesAvailable)},e.prototype.shouldSetDisplayMode=function(t,e){return 0===this.setDisplayModeVoters.length||this.setDisplayModeVoters.reduce((function(n,r){return n||r.vote(t,e)}),!1)},e.prototype.setDisplayModeAutoUpdateEnabled=function(t){this.autoUpdateDisplayModeEnabled=t},e.prototype.isAutoUpdateDisplayModeEnabled=function(){return this.autoUpdateDisplayModeEnabled},e.prototype.setDisplayMode=function(t){var e={reason:""};if(!this.shouldSetDisplayMode(t,e)){if(e.reason===Ci)return;throw new fi(t,e.reason)}var n=this.getDisplayMode(t),r=t!==this.currentDisplayMode;this.currentDisplayMode=t,this.hideAll(),this.cellVisibleIds=n.layout.apply(this.cells).map((function(t){return t.getId()})),this.updateVisibleSeries(),this.redraw(),r&&this.publish(Qo)},e.prototype.setDefaultDisplayModeBySeriesNumber=function(t){for(var e=this.getDisplayModeAvailable(),n=0,r=!1;n<e.length&&!r;n++){var o=e[n];o.isSelectable&&t===this.getNbCellByDisplayMode(o.name)&&(this.setDisplayMode(o.name),r=!0)}},e.prototype.redraw=function(){this.cells.forEach((function(t){t.redraw()}))},e.prototype.getCellIdBySeriesId=function(t){return this.cells.findIndex((function(e){return e.getSeriesId()===t}))},e.prototype.getAllCells=function(){return this.cells},e.prototype.addEventClick=function(t,e){var n=this,r=t.canvasTag.parentNode;if(null===r)throw new ct("canvas.parentElement","a non null HTML element","null");r.addEventListener("click",(function(){null!==n.getSeriesIdByCellId(e)&&n.publish(ti,{cellId:e})}))},e.prototype.focusCellAtIndex=function(t){var e=this;this.cellIdFocused!==t&&(this.cellIdFocused=t,this.cells.forEach((function(n,r){r===t?(n.focus(),e.publish(ei,{cellId:t})):n.blur()})))},e.prototype.isFocusedCell=function(t){var e=this.getCellById(t);return"undefined"!==typeof e&&e.isFocus()},e.prototype.getCellIdFocused=function(){return null!==this.cellIdFocused&&this.getSeriesVisible().includes(this.getSeriesIdByCellId(this.cellIdFocused))?this.cellIdFocused:null},e.prototype.bindSeriesToCell=function(t,e){var n=this.getCellById(e),r=n.getSeriesId(),o=this.getCellIdBySeriesId(t);if(n.setSeriesId(t),null!==r&&r!==t)if(-1!==o){var i=this.getCellById(o);i.setSeriesId(r),this.updateVisibleSeries(),this.updateSeriesIdBound(),this.publish(ni,{seriesId:r,cellId:o})}else this.updateVisibleSeries(),this.updateSeriesIdBound(),this.publish(ri,{seriesId:r,cellId:e});this.updateVisibleSeries(),this.updateSeriesIdBound(),this.publish(ni,{seriesId:t,cellId:e})},e.prototype.unbindSeries=function(t,e){this.seriesIdsBound.indexOf(t)===e&&(this.resetCellById(e),this.updateSeriesIdBound(),this.updateVisibleSeries(),this.publish(ri,{seriesId:t,cellId:e}))},e.prototype.getSeriesIdBoundToCell=function(){return this.seriesIdsBound},e.prototype.countNbSeriesBound=function(){return this.seriesIdsBound.filter((function(t){return null!==t})).length},e.prototype.isSeriesBound=function(t){return this.seriesIdsBound.includes(t)},e.prototype.getSeriesIdByCellId=function(t){var e,n=null!==(e=this.cells[t])&&void 0!==e?e:null;if(null===n)throw new Ei(t.toString(),Object.keys(this.cells));return this.cells[t].getSeriesId()},e.prototype.updateVisibleSeries=function(){var t=this;this.seriesVisibleIds=this.cellVisibleIds.map((function(e){return t.getSeriesIdByCellId(e)}))},e.prototype.getCellColor=function(t){switch(t){case 0:return"#3DA8FE";case 1:return"#FBD36C";case 2:return"#2EC458";case 3:return"#F95151";default:return"#FFFFFF"}},e.prototype.getSeriesVisible=function(){return this.seriesVisibleIds},e.prototype.isSeriesVisible=function(t){return this.seriesVisibleIds.includes(t)},e.prototype.isVisibleCell=function(t){return t<this.getDisplayMode(this.getCurrentDisplayMode()).nbCanvas},e.prototype.getEmptyCellId=function(){return this.cells.map((function(t,e){return null===t.getSeriesId()?e:null})).filter((function(t){return null!==t}))},e.prototype.updateSeriesIdBound=function(){this.seriesIdsBound=this.cells.map((function(t){return t.getSeriesId()}))},e.prototype.resetCellById=function(t){var e=this.getCellById(t);e.setSeriesId(null),e.getMainCanvas().clearCanvas(),e.getMainCanvas().canvasTag.classList.remove(An),e.setTransformContext(null),e.setFileContainer(null),this.publish(oi,{cellId:t})},e.prototype.saveCurrentLayout=function(){var t={layoutName:this.getCurrentDisplayMode(),seriesIdByCellId:this.getSeriesVisible(),activeCellId:this.getCellIdFocused()};this.saveStack.push(t)},e.prototype.restorePreviousLayout=function(){var t=this.saveStack.pop();if("undefined"===typeof t)throw new Pi;this.setDisplayMode(t.layoutName);for(var e=0;e<t.seriesIdByCellId.length;e++)this.bindSeriesToCell(t.seriesIdByCellId[e],e);this.focusCellAtIndex(t.activeCellId)},e}(l["SmartComponent"]),Di=ji,ki=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Li=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ki(e,t),e}(l["SmartComponent"]),Ri=Li,Mi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animations=[],e.priorityByAnimationId={},e}return Mi(e,t),e.prototype.loop=function(t){var e=0,n=this.animations.length,r=0;while(e<n){var o=this.animations[e];o.shouldRefresh()&&(o.loop(t),r++),e++}0===r&&this.stop(),this.prepareNextIteration()},e.prototype.add=function(t,e){var n=this;this.priorityByAnimationId[t.getId()]=e,this.animations.push(t),this.animations.sort((function(t,e){return n.priorityByAnimationId[e.getId()]-n.priorityByAnimationId[t.getId()]})),this.subscribe(t,Vn,(function(){n.start()}))},e.prototype.start=function(){t.prototype.start.call(this),this.prepareNextIteration()},e.prototype.remove=function(t){var e=this.animations.findIndex((function(e){return e.getId()===t}));this.animations.splice(e,1),this.unsubscribeFromPublisherId(t)},e.prototype.prepareNextIteration=function(){this.isPlaying()&&window.requestAnimationFrame(this.nextIterationCallback)},e}(Gn),Ni=Bi,Fi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ui=function(t){function e(e,n){void 0===n&&(n=[]);var r=this,o='Cannot find animation "'.concat(e,'".');return n.length>0&&(o+=' Candidates are: "'.concat(n.join('", "'),'".')),r=t.call(this,o)||this,r.name="AnimationNotFoundException",r}return Fi(e,t),e}(Error),zi=Ui,Vi=function(){function t(){this.animations={},this.loop=new Ni("animation-loop")}return t.prototype.recordAnimation=function(t,e){void 0===e&&(e=wn.DEFAULT),this.animations[t.getId()]=t,this.loop.add(t,e)},t.prototype.removeAnimation=function(t){this.loop.remove(t),delete this.animations[t]},t.prototype.findById=function(t){var e=this.animations[t];if("undefined"===typeof e)throw new zi(t,Object.keys(this.animations));return e},t.prototype.trigger=function(t){this.findById(t).start()},t}(),Wi=Vi,Hi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yi=function(t){function e(e){var n=t.call(this,"Interaction with name ".concat(e," was not found."))||this;return n.name="InteractionNotFoundException",n}return Hi(e,t),e}(Error),Gi=Yi,$i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xi=function(t){function e(){var e=t.call(this,{id:"interaction-service"})||this;return e.fallbackInteractionsId=[],e.subscriber=new At["Subscriber"]("interaction-service"),e.previousInteraction=null,e}return $i(e,t),e.prototype.triggerInteraction=function(t){this.publish(be,{cellId:t})},e.prototype.addResource=function(e,n){var r=this;void 0===n&&(n=e.id),t.prototype.addResource.call(this,e,n),this.subscriber.subscribe(e,Se,(function(){r.endInteraction(e.id)})),this.publish(Oe,{interactionName:n})},e.prototype.addProxy=function(t,e){var n=this;return this.subscriber.subscribe(t,e,(function(t){n.publish(e,t)})),this},e.prototype.removeProxy=function(t,e){var n=this,r=this.subscriber.findSubscriptionsByNotificationAndPublisherId(e,t.getId());return r.forEach((function(t){n.subscriber.unsubscribeFromSubscriptionId(t.id)})),this},e.prototype.select=function(e){var n=this.getCurrentId();if(null!==n){if(n===e)return;var r=this.getCurrentResource();t.prototype.select.call(this,e),r&&r.isRunning()&&r.finish(null),this.fallbackInteractionsId.includes(n)&&(this.previousInteraction=n)}else t.prototype.select.call(this,e);this.publish(we,{interactionName:e})},e.prototype.restorePreviousInteraction=function(){null!==this.currentId&&this.fallbackInteractionsId.includes(this.currentId)||null===this.previousInteraction||this.select(this.previousInteraction)},e.prototype.startInteraction=function(t,e){var n=this.getCurrentResource();if(null===n)throw new Gi(null);n.start(t,e),this.publish(_e,{interactionName:n.id,event:t})},e.prototype.endInteraction=function(t){this.publish(Se,{interactionName:t})},e.prototype.getPreviousInteraction=function(){var t;return null!==(t=this.previousInteraction)&&void 0!==t?t:this.currentId},e.prototype.removeById=function(e){var n=this.findById(e);if(null===n)throw new Gi(e);n.removeSubscriber(this.subscriber.getId()),t.prototype.removeById.call(this,e)},e.prototype.addFallbackInteraction=function(t){this.fallbackInteractionsId.push(t)},e}(W),Ki=Xi,qi=function(){function t(){}return t.prototype.setPointerState=function(t){this.state=t},t.prototype.getDelta=function(){return this.state.data.delta},t.prototype.getCoords=function(){return this.state.data.coords},t.prototype.clearDelta=function(){this.state.data.delta.x=0,this.state.data.delta.y=0},t}(),Zi=qi,Ji=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qi=function(t){function e(e){void 0===e&&(e="Plane not found");var n=t.call(this,e)||this;return n.name="PlaneNotFoundException",n}return Ji(e,t),e}(Error),ta=Qi,ea=function(t,e,n){var r=t.getVoxelCoordinates(e,0,0,n),o=t.getVoxelCoordinates(e,0,1,n),i=t.getVoxelCoordinates(e,1,0,n);return[l["Vec3"].getInstance(!1).set(i.x-r.x,i.y-r.y,i.z-r.z),l["Vec3"].getInstance(!1).set(o.x-r.x,o.y-r.y,o.z-r.z),l["Vec3"].getInstance(!1).set(r.x,r.y,r.z)]},na=function(t){t.intersection2DPoint.recycle(),t.intersectionLineDirection2D.recycle(),t.intersection3DPoint.recycle(),t.intersection3DLineDirection.recycle()},ra=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.planeIdBySeriesId={},e.intersections={},e.coplanars={},e}return ra(e,t),e.prototype.getPlaneIdBySeriesId=function(t){var e=this.planeIdBySeriesId[t];if("undefined"===typeof e)throw new ta('No plane found for seriesId "'.concat(t,'".'));return e},e.prototype.addPlane=function(e,n,r){void 0===r&&(r=e.getId()),t.prototype.addResource.call(this,e,r),this.planeIdBySeriesId[n]=r,this.intersections[r]={},this.coplanars[r]=new Set},e.prototype.hasSeriesPlane=function(t){return"undefined"!==typeof this.planeIdBySeriesId[t]},e.prototype.updateCoordinates=function(t,e,n,r){var o=this.findById(this.planeIdBySeriesId[t]);o.set(e,n,r)},e.prototype.clearIndexes=function(t){var e=this;if("undefined"===typeof this.intersections[t])throw new ta('No plane found with id "'.concat(t,'".'));Object.keys(this.intersections[t]).forEach((function(n){var r=e.intersections[t][n];na(r)})),this.intersections[t]={},this.coplanars[t].clear()},e.prototype.getIntersections=function(t){return this.intersections[t]},e.prototype.addCoplanar=function(t,e){"undefined"===typeof this.coplanars[t]&&(this.coplanars[t]=new Set),this.coplanars[t].add(e)},e.prototype.areCoplanar=function(t,e){return this.coplanars[t].has(e)},e.prototype.checkIntersection=function(t,e){var n=this.findById(t),r=this.findById(e),o=n.getIntersectionWith(r);return null===o?(this.addCoplanar(t,e),!1):(o.intersectionLineDirection2D.getNorm()<1&&o.intersectionLineDirection2D.normalize(),this.intersections[t][e]=o,!0)},e.prototype.removeById=function(e){var n=this;this.clearIndexes(e),delete this.intersections[e],delete this.coplanars[e],this.findById(e).delete();var r=Object.keys(this.planeIdBySeriesId).find((function(t){return n.planeIdBySeriesId[t]===e}));r&&delete this.planeIdBySeriesId[r],t.prototype.removeById.call(this,e)},e}(O),ia=oa,aa="series-modified",sa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ca=function(t){function e(){var e=t.call(this)||this;return e.modificationStateBySeriesId={},e}return sa(e,t),e.prototype.addSeries=function(t){this.modificationStateBySeriesId[t]=!1},e.prototype.removeSeries=function(t){if(!(t in this.modificationStateBySeriesId))throw new B(t);delete this.modificationStateBySeriesId[t]},e.prototype.setModificationState=function(t,e){if(!(t in this.modificationStateBySeriesId))throw new B(t);var n=this.modificationStateBySeriesId[t];this.modificationStateBySeriesId[t]=e,n!==e&&this.publish(aa,{seriesId:t})},e.prototype.hasBeenModified=function(t){if(!(t in this.modificationStateBySeriesId))throw new B(t);return this.modificationStateBySeriesId[t]},e}(l["SmartComponent"]),ua=ca,la=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fa=function(t){function e(e){var n=t.call(this,'A preset with the name "'.concat(e,'" already exist, remove it or use another name.'))||this;return n.name="PresetNameAlreadyExistsException",n}return la(e,t),e}(Error),pa=fa,da=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ha=function(t){function e(e){var n=t.call(this,'No preset with name "'.concat(e,'" exists.'))||this;return n.name="PresetNameNotFoundException",n}return da(e,t),e}(Error),ya=ha,va=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ma=function(t){function e(e){var n=t.call(this,'No widget with name "'.concat(e,'" exists.'))||this;return n.name="WidgetNameNotFoundException",n}return va(e,t),e}(Error),ga=ma,ba="widget-added",wa="widget-visibility-changed",_a="widget-enabled-state-changed",Sa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oa=function(t){function e(e){var n=t.call(this,'No widgets slot found with cellId "'.concat(e,'".'))||this;return n.name="NoWidgetSlotForCellIdException",n}return Sa(e,t),e}(Error),Ia=Oa,Ea=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ca=function(t){function e(){var e=t.call(this,{id:"widget_service"})||this;e.presetCollection={},e.enabledWidgetIdsByCellId=[],e.widgetIdsByCellId=[],e.widgetsIdByName={};for(var n=0;n<Ke;n++)e.enabledWidgetIdsByCellId[n]=new Set,e.widgetIdsByCellId[n]=new Set;return e}return Ea(e,t),e.prototype.hideAllWidgets=function(){Object.values(this.resourceCollection).forEach((function(t){t.hide()}))},e.prototype.showAllWidgets=function(){Object.values(this.resourceCollection).forEach((function(t){t.display()}))},e.prototype.hideWidgetsByName=function(t){var e=this;if(!(t in this.widgetsIdByName))throw new ga(t);this.widgetsIdByName[t].forEach((function(t){e.findById(t).hide()}))},e.prototype.showWidgetsByName=function(t){var e=this;if(!(t in this.widgetsIdByName))throw new ga(t);this.widgetsIdByName[t].forEach((function(t){e.findById(t).display()}))},e.prototype.enableWidgetsByName=function(t){var e=this;if(!(t in this.widgetsIdByName))throw new ga(t);this.widgetsIdByName[t].forEach((function(t){e.findById(t).enable()}))},e.prototype.disableWidgetsByName=function(t){var e=this;if(!(t in this.widgetsIdByName))throw new ga(t);this.widgetsIdByName[t].forEach((function(t){e.findById(t).disable()}))},e.prototype.disableAllWidgets=function(){Object.values(this.resourceCollection).forEach((function(t){t.disable()}))},e.prototype.enableAllWidgets=function(){Object.values(this.resourceCollection).forEach((function(t){t.enable()}))},e.prototype.addPreset=function(t,e){if(t in this.presetCollection)throw new pa(t);for(var n=Array.from({length:Ke},(function(){return new Set})),r=function(t){var r=e[t],i=o.getWidgetsByName(r);n.forEach((function(t,e){t.add(i[e].id)}))},o=this,i=0;i<e.length;i++)r(i);this.presetCollection[t]=n},e.prototype.saveCurrentVisibilityStateAsPreset=function(t){if(t in this.presetCollection)throw new pa(t);var e=[];this.enabledWidgetIdsByCellId.forEach((function(t){return e.push(new Set(t))})),this.presetCollection[t]=e},e.prototype.removePreset=function(t){if(!(t in this.presetCollection))throw new ya(t);delete this.presetCollection[t]},e.prototype.hasPreset=function(t){return t in this.presetCollection},e.prototype.applyPreset=function(t){var e=this;if(!(t in this.presetCollection))throw new ya(t);var n=this.presetCollection[t];n.forEach((function(t,n){e.widgetIdsByCellId[n].forEach((function(n){var r=e.resourceCollection[n];t.has(n)?r.enable():r.disable()}))}))},e.prototype.addWidget=function(e,n,r){var o=this;t.prototype.addResource.call(this,e,e.id),n in this.widgetsIdByName||(this.widgetsIdByName[n]=[]),this.widgetsIdByName[n].push(e.id),this.widgetIdsByCellId[r].add(e.id),this.subscribe(e,_a,(function(t){var n=t.isEnabled;o.updateWidgetEnabledness(e.id,r,n)})),this.updateWidgetEnabledness(e.id,r,e.isEnabled()),this.publish(ba,{widgetId:e.id,widgetName:n,cellId:r})},e.prototype.updateWidgetEnabledness=function(t,e,n){n?this.enabledWidgetIdsByCellId[e].add(t):this.enabledWidgetIdsByCellId[e].delete(t)},e.prototype.getWidgetsByCellId=function(t){var e=this;if(!(t in this.widgetIdsByCellId))throw new Ia(t);var n=[];return this.widgetIdsByCellId[t].forEach((function(t){return n.push(e.resourceCollection[t])})),n},e.prototype.getEnabledWidgetsByCellId=function(t){var e=this,n=[];return this.enabledWidgetIdsByCellId[t].forEach((function(t){return n.push(e.resourceCollection[t])})),n},e.prototype.getWidgetsByName=function(t){var e=this;if(!(t in this.widgetsIdByName))throw new ga(t);return this.widgetsIdByName[t].map((function(t){return e.findById(t)}))},e.prototype.getWidgetByNameAndSeriesId=function(t,e){var n;return null!==(n=this.getWidgetsByName(t).find((function(t){return t.getSeriesId()===e})))&&void 0!==n?n:null},e}(O),xa=Ca,Aa=(n("466d"),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Pa=function(t){function e(e,n){var r=t.call(this,n)||this;return r.animation=e.getAnimation(),r}return Aa(e,t),e.prototype.setDecorated=function(t){this.animation=t},e.prototype.getDecorated=function(){return this.animation},e.prototype.getSliceIndex=function(){return this.animation.getSliceIndex()},e.prototype.setSliceIndex=function(t){this.animation.setSliceIndex(t)},e.prototype.setCell=function(t){this.animation.setCell(t)},e.prototype.getCell=function(){return this.animation.getCell()},e}(Qn),Ta=Pa,ja=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Da=function(t){function e(e,n){var r=t.call(this,e,ge("resizable-annotation-animation"))||this;return r.resizerManager=n,r}return ja(e,t),e.prototype.loop=function(e){t.prototype.loop.call(this,e),this.getDecorated().loop(e);var n=this.getAnnotation(),r=this.getSliceIndex();if(n.isAvailableForSliceIndex(r)){var o=this.getCell(),i=o.getCanvas(pn),a=i.context;a.save(),this.resizerManager.getResizers().forEach((function(t){t.update(n.getDrawCoords(o,r)),t.render(a),t.update(n.getCoordinatesAt(r))})),a.restore()}},e}(Ta),ka=Da,La=function(t,e){var n={x:0,y:0},r=e.getDrawCoords(),o=e.getTransformContext(),i=o.getContentHeight()/r.height,a=o.getContentWidth()/r.width;return n.x=(t.x-r.x)*a,n.y=(t.y-r.y)*i,n},Ra=function(t,e){var n={x:0,y:0},r=e.getDrawCoords(),o=e.getTransformContext(),i=o.getContentHeight()/r.height,a=o.getContentWidth()/r.width;return n.x=r.x+t.x/a,n.y=r.y+t.y/i,n};function Ma(t){var e=Ba(t.target,"canvas-container","viewer-container");if(null!==e&&!(e instanceof HTMLCanvasElement)&&e.classList.contains("canvas-container"))for(var n=e.parentNode.children,r=0;r<n.length;r++)if(n[r]===e)return r;return null}function Ba(t,e,n){var r,o;void 0===n&&(n=null);var i=t.parentNode;while(i){if(null===(r=i.classList)||void 0===r?void 0:r.contains(e))return i;if(null!==n&&(null===(o=i.classList)||void 0===o?void 0:o.contains(n)))return null;i=i.parentNode}return null}var Na=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fa=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.decorated=n.getInteraction(),r}return Na(e,t),e.prototype.getDecorated=function(){return this.decorated},e.prototype.disableForTime=function(e){void 0===e&&(e=0),t.prototype.disableForTime.call(this,e),this.decorated.disableForTime(e)},e.prototype.finish=function(e){t.prototype.finish.call(this,e),this.decorated.finish(e)},e.prototype.pause=function(){t.prototype.pause.call(this),this.decorated.pause()},e.prototype.play=function(){t.prototype.play.call(this),this.decorated.play()},e.prototype.onMouseMove=function(e){t.prototype.onMouseMove.call(this,e),this.decorated.onMouseMove(e)},e.prototype.onMouseUp=function(e){t.prototype.onMouseUp.call(this,e),this.decorated.onMouseUp(e)},e.prototype.onMouseLeave=function(e){t.prototype.onMouseLeave.call(this,e),this.decorated.onMouseLeave(e)},e.prototype.onMouseDown=function(e){t.prototype.onMouseDown.call(this,e),this.decorated.onMouseDown(e)},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this.decorated.onClick(e)},e.prototype.onMouseEnter=function(e){t.prototype.onMouseEnter.call(this,e),this.decorated.onMouseEnter(e)},e.prototype.onMouseWheel=function(e){t.prototype.onMouseWheel.call(this,e),this.decorated.onMouseWheel(e)},e.prototype.onTouchStart=function(e){t.prototype.onTouchStart.call(this,e),this.decorated.onTouchStart(e)},e.prototype.onTouchMove=function(e){t.prototype.onTouchMove.call(this,e),this.decorated.onTouchMove(e)},e.prototype.onTouchEnd=function(e){t.prototype.onTouchEnd.call(this,e),this.decorated.onTouchEnd(e)},e.prototype.onStart=function(e){t.prototype.onStart.call(this,e),this.decorated.onStart(e)},e.prototype.onFinish=function(e){t.prototype.onFinish.call(this,e),this.decorated.onFinish(e)},e.prototype.onPause=function(){t.prototype.onPause.call(this),this.decorated.onPause()},e.prototype.onPlay=function(){t.prototype.onPlay.call(this),this.decorated.onPlay()},e.prototype.onAnimation=function(){t.prototype.onAnimation.call(this),this.decorated.onAnimation()},e.prototype.setCellId=function(e){t.prototype.setCellId.call(this,e),this.decorated.setCellId(e)},e.prototype.getCellId=function(){return this.decorated.getCellId()},e.prototype.getCursorName=function(t){return this.decorated.getCursorName(t)},e}(ir),Ua=Fa,za=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Va=function(t){function e(n,r){var o=t.call(this,ge(e.interactionName),n)||this;return o.resizersProvider=r,o.pointerService=vc.pointerService,o}return za(e,t),e.prototype.checkResizerCollision=function(){var t=this.annotation.getAnimation().getCell();return this.resizersProvider.checkCollisionWithResizers(this.getSliceIndex(),this.pointerService.getCoords(),On,(function(e){return Ra(e,t)}))},e.prototype.onStart=function(t){this.onMouseDown(t),this.annotation.getProxyAnimation().start()},e.prototype.getCollidedResizer=function(){var t=null;return this.isAnnotationSelected()&&(t=this.checkResizerCollision()),null!==t&&null!==t.getCollidedResizer()&&t.hasCollision()?t.getCollidedResizer():null},e.prototype.onMouseDown=function(t){var e=this.getCollidedResizer();null!==e?(this.resizersProvider.selectResizer(e),this.annotation.publish(_t,{annotationId:this.getId()})):(this.resizersProvider.unselectResizer(),this.getDecorated().onMouseDown(t))},e.prototype.onMouseMove=function(t){var e=this.resizersProvider.getSelectedResizer();if(null!==e){var n=this.getAnimation(),r=n.getCell(),o=La(this.pointerService.getCoords(),r);e.resize(o.x,o.y,this.getSliceIndex(),n.getAnnotation())}else this.getDecorated().onMouseMove(t);this.annotation.getProxyAnimation().start()},e.prototype.finish=function(e){t.prototype.finish.call(this,e),this.resizersProvider.unselectResizer()},e.prototype.onMouseUp=function(t){var e=this.getSliceIndex();this.annotation.isAvailableForSliceIndex(e)&&this.annotation.getCoordinatesAt(e).sanitize(),this.resizersProvider.unselectResizer(),this.finish(t),this.annotation.getProxyAnimation().start()},e.prototype.getCursorName=function(t){var e=this.resizersProvider.getSelectedResizer();if(null!==e)return e.getCursor("selected");if(!this.isRunning()){var n=this.checkResizerCollision(),r=n.getCollidedResizer();if(n.hasCollision()&&null!==r)return r.getCursor("hover")}return this.getDecorated().getCursorName(t)},e.prototype.checkCollision=function(t,e){return this.getDecorated().checkCollision(t,e)||this.checkResizerCollision().hasCollision()},e.prototype.onFinish=function(e){t.prototype.onFinish.call(this,e);var n=this.getSliceIndex();this.annotation.isAvailableForSliceIndex(n)&&this.annotation.getCoordinatesAt(n).sanitize(),this.annotation.publish(_t,{annotationId:this.getId()})},e.interactionName="resizable-annotation-interaction",e}(Ua),Wa=Va,Ha=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ya=function(t){function e(e,n){var r=this,o=' But got "'.concat(n,'".');return r=t.call(this,'Expected animation to be instance of "'.concat(e,'".').concat(n?o:""))||this,r.name="InvalidAnimationTypeException",r}return Ha(e,t),e}(Error),Ga=Ya,$a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xa=function(t){function e(){var e=t.call(this,"No resizer found.")||this;return e.name="ResizerGeneratorNotFoundException",e}return $a(e,t),e}(Error),Ka=Xa,qa=function(){function t(){this.resizerGeneratorList=[]}return t.prototype.addResizerGenerator=function(t){this.resizerGeneratorList.push(t)},t.prototype.removeResizerGenerator=function(t){var e=this.resizerGeneratorList.findIndex((function(e){return e.annotationType===t}));-1!==e&&this.resizerGeneratorList.splice(e,1)},t.prototype.apply=function(t,e){var n=this.getResizerManagerForAnnotation(t,e);t.setAnimation(new ka(t,n)),t.setInteraction(new Wa(t,n))},t.prototype.remove=function(t){var e=t.getAnimation();if(!(e instanceof ka))throw new Ga("ResizableAnnotationAnimation");t.setAnimation(e.getDecorated());var n=t.getInteraction();if(!(n instanceof Wa))throw new Ga("ResizableAnnotationInteraction");t.setInteraction(n.getDecorated())},t.prototype.isAnnotationDecorated=function(t){return t.getAnimation()instanceof ka&&t.getInteraction()instanceof Wa},t.prototype.getResizerManagerForAnnotation=function(t,e){var n=this.resizerGeneratorList.find((function(e){return e.match(t)}));if(null!==n)return n.generate(t,e);throw new Ka},t}(),Za=qa,Ja=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qa=function(t){function e(e){return t.call(this,e,ge("movable-annotation-animation"))||this}return Ja(e,t),e.prototype.loop=function(e){t.prototype.loop.call(this,e),this.getDecorated().loop(e)},e}(Ta),ts=Qa,es=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ns=function(t){function e(n){var r=t.call(this,ge(e.interactionName),n)||this;return r.lastMousePosition={x:0,y:0},r.translationVector={x:0,y:0},r.pointerService=vc.pointerService,r}return es(e,t),e.prototype.onStart=function(t){this.annotation.publish(_t,{annotationId:this.getId()})},e.prototype.setLastMousePosition=function(t){this.lastMousePosition.x=t.x,this.lastMousePosition.y=t.y},e.prototype.onMouseDown=function(t){var e=this.getAnimation(),n=e.getCell(),r=this.pointerService.getCoords();this.setLastMousePosition(La(r,n)),this.checkCollision(this.getSliceIndex(),r)&&this.start(t,n.getId())},e.prototype.onMouseMove=function(t){if(this.isRunning()){var e=this.getAnimation(),n=e.getCell(),r=La(this.pointerService.getCoords(),n),o=n.getSeriesId();null!==o&&(this.translationVector.x=r.x-this.lastMousePosition.x,this.translationVector.y=r.y-this.lastMousePosition.y,this.annotation.translateKeyframeByImageCoords(this.sliceService.getSliceIndex(o),this.translationVector),this.setLastMousePosition(r),this.annotation.getProxyAnimation().start())}else this.getDecorated().onMouseMove(t)},e.prototype.getCursorName=function(t){return this.shouldRun()?In.MOVE_ANNOTATION:this.getDecorated().getCursorName(t)},e.prototype.shouldRun=function(){return this.annotation.isAvailableForSliceIndex(this.getSliceIndex())&&this.checkCollision(this.getSliceIndex(),this.pointerService.getCoords())},e.prototype.checkCollision=function(t,e){return this.annotation.isAvailableForSliceIndex(this.getSliceIndex()),this.getDecorated().checkCollision(t,e)},e.interactionName="move-annotation-interaction",e}(Ua),rs=ns,os=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),is=function(t){function e(e){var n=t.call(this,'Expected interaction to be instance of "'.concat(e,'".'))||this;return n.name="InvalidInteractionTypeException",n}return os(e,t),e}(Error),as=is,ss=function(){function t(){}return t.prototype.apply=function(t){t.setAnimation(new ts(t)),t.setInteraction(new rs(t))},t.prototype.remove=function(t){var e=t.getAnimation();if(!(e instanceof ts))throw new Ga("MovableAnnotationAnimation");t.setAnimation(e.getDecorated());var n=t.getInteraction();if(!(n instanceof rs))throw new as("MovableAnnotationInteraction");t.setInteraction(n.getDecorated())},t.prototype.isAnnotationDecorated=function(t){return t.getAnimation()instanceof ts&&t.getInteraction()instanceof rs},t}(),cs=ss,us=18,ls=15,fs=20,ps=40,ds={SELECTABLE_ANNOTATION_ICON_SIZE:us,SELECTABLE_ANNOTATION_ICON_BACKGROUND_RADIUS:ls,SELECTABLE_ANNOTATION_ICON_TO_ICON_MARGIN:fs,SELECTABLE_ANNOTATION_ICON_TO_SHAPE_MARGIN:ps},hs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ys=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},vs=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};function ms(t){return"function"===typeof t.getDecorated?ms(t.getDecorated()):t}var gs=function(t){function e(e,n,r){var o=t.call(this,e,ge("selectable-annotation-animation"))||this;return o.annotationService=vc.annotationService,o.buttonBundle=r,o.buttonList=n,o.originalAnimation=ms(e.getAnimation()),o}return hs(e,t),e.prototype.loop=function(e){return ys(this,void 0,Promise,(function(){var n,r,o,i,a,s,c=this;return vs(this,(function(u){return t.prototype.loop.call(this,e),this.getDecorated().loop(e),n=this.getAnnotation(),r=this.getSliceIndex(),o=this.getCell(),i=o.getCanvas(pn).context,n.isAvailableForSliceIndex(r)&&(this.annotationService.isHovered(n.getId())&&this.originalAnimation.addStyleOverride({strokeThickness:1,color:"#3DA8FE"}),this.annotationService.isSelected(n.getId())?(a=n.getCoordinatesAt(r),s=function(t,e){return Ra({x:t,y:e},o)},this.buttonList.forEach((function(t,e){c.renderButton(a,e,s,i,t)}))):this.originalAnimation.loop(e),this.originalAnimation.clearStyleOverride()),[2]}))}))},e.prototype.renderButton=function(t,n,r,o,i){var a=this.buttonBundle.getButtonPosition(t,n,this.buttonList.length,r);e.drawBackground(o,a),o.drawImage(i.icon,a.x-us/2,a.y-us/2,us,us)},e.drawBackground=function(t,e){t.save(),t.beginPath(),t.arc(e.x,e.y,ls,0,2*Math.PI),t.closePath(),t.fillStyle="hsl(0,0%,100%)",t.shadowBlur=4,t.shadowColor="hsla(0, 0%, 0%, 0,35)",t.fill(),t.restore()},e}(Ta),bs=gs,ws=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_s=function(t){function e(n,r,o){var i=t.call(this,ge(e.interactionName),n)||this;return i.pointerService=vc.pointerService,i.buttonBundle=o,i.buttonList=r,i.setAnimationItem(n.getAnimation()),i}return ws(e,t),e.prototype.checkCollision=function(t,e){return!!this.annotation.isAvailableForSliceIndex(t)&&(this.isAnnotationSelected()?this.getDecorated().checkCollision(t,e)||this.checkCollisionWithButtons(t):this.getDecorated().checkCollision(t,e))},e.prototype.onMouseDown=function(e){var n=this.getSliceIndex(),r=this.pointerService.getCoords();if(this.annotation.isAvailableForSliceIndex(n))if(this.isAnnotationSelected()){var o=this.clickButtons(n);if(o)return void this.finish(e);this.getDecorated().checkCollision(n,r)||this.annotationService.unselect()}else this.checkCollision(n,r)&&this.annotationService.select(this.annotation.getId());t.prototype.onMouseDown.call(this,e)},e.prototype.onStart=function(e){t.prototype.onStart.call(this,e),this.onMouseDown(e)},e.prototype.getCursorName=function(t){var e=this.getSliceIndex();return this.annotation.isAvailableForSliceIndex(e)&&this.annotationService.isSelected(this.annotation.getId())&&this.checkCollisionWithButtons(e)?he.TARGET_ANNOTATION:this.getDecorated().getCursorName(t)},e.prototype.checkCollisionWithButtons=function(t){var e=this.annotation.getAnimation().getCell(),n=this.annotation.getCoordinatesAt(t),r=this.pointerService.getCoords();return this.buttonList.some(this.getButtonCollisionChecker(n,e,r))},e.prototype.getButtonCollisionChecker=function(t,e,n){var r=this;return function(o,i){return o.checkCollision(r.buttonBundle.getButtonPosition(t,i,r.buttonList.length,(function(t,n){return Ra({x:t,y:n},e)})),n)}},e.prototype.clickButtons=function(t){var e=this.annotation.getAnimation().getCell(),n=this.annotation.getCoordinatesAt(t),r=this.pointerService.getCoords(),o=this.buttonList.find(this.getButtonCollisionChecker(n,e,r));return"undefined"!==typeof o&&(o.onClick(this.annotation.getId()),!0)},e.interactionName="selectable-annotation-interaction",e}(Ua),Ss=_s,Os=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Is=function(t){function e(e){var n=t.call(this,'No annotation button helper exists for annotations of type "'.concat(e,'". Did you forget to register it?'))||this;return n.name="AnnotationButtonHelperNotFoundException",n}return Os(e,t),e}(Error),Es=Is,Cs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xs=function(t){function e(){var e=t.call(this,"No list of button was provided.")||this;return e.name="ButtonListIsNullException",e}return Cs(e,t),e}(Error),As=xs,Ps=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ts=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonList=null,e}return Ps(e,t),e.prototype.apply=function(t){var e=this.findById(t.getType());if(null===this.buttonList)throw new As;t.setAnimation(new bs(t,this.buttonList,e)),t.setInteraction(new Ss(t,this.buttonList,e))},e.prototype.remove=function(t){var e=t.getAnimation();if(!(e instanceof bs))throw new Ga("SelectableAnnotationAnimation",e.constructor.name);t.setAnimation(e.getDecorated());var n=t.getInteraction();if(!(n instanceof Ss))throw new as("SelectableAnnotationInteraction");t.setInteraction(n.getDecorated())},e.prototype.isAnnotationDecorated=function(t){return t.getAnimation()instanceof bs},e.prototype.findById=function(e){if(e in this.resourceCollection)return t.prototype.findById.call(this,e);throw new Es(e)},e.prototype.setButtonList=function(t){this.buttonList=t},e}(O),js=Ts,Ds=function(){function t(){}return t.prototype.getDictionary=function(){return new Promise((function(t){t(Io["dictionary"])}))},t}(),ks=Ds,Ls=(n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("c19f"),"file-loaded"),Rs="buffer-loaded",Ms={FILE_LOADED:Ls,BUFFER_LOADED:Rs},Bs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ns=function(t){function e(e,n){var r=t.call(this,"The file ".concat(e," is not in one of the supported formats. Supported formats are : ").concat(JSON.stringify(n)))||this;return r.name="FileHandlerNotFoundException",r}return Bs(e,t),e}(Error),Fs=Ns,Us=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zs=function(){return zs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},zs.apply(this,arguments)},Vs=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Ws=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Hs=function(t){function e(){var e=t.call(this)||this;return e.unhandledFiles={},e.subscriber=new At["Subscriber"]("file-handler-service"),e}return Us(e,t),e.prototype.addResource=function(e,n){var r=this;void 0===n&&(n=e.id),t.prototype.addResource.call(this,e,n),this.subscriber.subscribe(e,Ls,(function(t){r.publish(Ls,zs(zs({},t),{fileHandler:e.id}))})),this.subscriber.subscribe(e,Rs,(function(t){return Vs(r,void 0,void 0,(function(){return Ws(this,(function(n){switch(n.label){case 0:return this.publish(Rs,zs(zs({},t),{fileHandler:e.id})),[4,this.onBufferLoaded(t)];case 1:return n.sent(),[2]}}))}))}))},e.prototype.listHandlers=function(){return Object.values(this.getResources()).sort((function(t,e){return e.priority-t.priority}))},e.prototype.loadFile=function(t,e){return Vs(this,void 0,Promise,(function(){var n,r;return Ws(this,(function(o){switch(o.label){case 0:return n=this.loadBuffer,r=Uint8Array.bind,[4,this.getArrayBuffer(t)];case 1:return[2,n.apply(this,[new(r.apply(Uint8Array,[void 0,o.sent()])),e])]}}))}))},e.prototype.getArrayBuffer=function(t){return Vs(this,void 0,Promise,(function(){return Ws(this,(function(e){return[2,new Promise((function(e,n){if("undefined"!==typeof File.prototype.arrayBuffer)t.arrayBuffer().then(e);else{var r=new FileReader;r.addEventListener("load",(function(){r.result instanceof ArrayBuffer?e(r.result):n(r.result)})),r.readAsArrayBuffer(t)}}))]}))}))},e.prototype.loadBuffer=function(t,e){var n=this;return new Promise((function(r){var o,i=function(){n.findHandler(t,e.fileName).loadFromBuffer(t,e).then(r).catch((function(t){n.unhandledFiles[e.fileName]=t.message,r()}))};null===(o=e.async)||void 0===o||o?setTimeout(i):i()}))},e.prototype.findHandler=function(t,e){var n=this.listHandlers().find((function(n){return n.canHandleBuffer(t,e)}));if(n)return n;throw new Fs(e,Object.keys(this.getResources()))},e.prototype.onBufferLoaded=function(t){var e=this;return new Promise((function(n){Promise.all(t.result.content.map((function(n,r){var o,i=null!==(o=t.result.fileName[r])&&void 0!==o?o:t.context.fileName;"undefined"===typeof i&&"name"in n&&(i=n.name);var a=zs(zs({},JSON.parse(JSON.stringify(t.context))),{fileName:i});"undefined"===typeof a.data&&(a.data={}),a.data.fileIndex=r,e.loadBuffer(new Uint8Array(t.result.content[r]),a)}))).then((function(){return n()}))}))},e.prototype.getSupportedMimeTypes=function(){var t=[];return Object.values(this.resourceCollection).forEach((function(e){return t=t.concat(e.getSupportedMimeTypes())})),t.join(", ")},e}(O),Ys=Hs;function Gs(t){return Gs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(t)}var $s,Xs=function(){return Xs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Xs.apply(this,arguments)},Ks=function(){function t(t){this.namespace="",this.isLocalStorageAvailable=!0,this.namespace=null!==t&&void 0!==t?t:this.namespace;try{this.set("test",1),this.removeItem("test")}catch(e){console.error(e),this.isLocalStorageAvailable=!1}}return t.prototype.get=function(t){if(!this.isLocalStorageAvailable)return null;var e=localStorage.getItem(this.makeNamespacedKey(t));if("string"===typeof e){var n=JSON.parse(e);return null!==n&&void 0!==n?n:null}return null},t.prototype.set=function(t,e){this.isLocalStorageAvailable&&localStorage.setItem(this.makeNamespacedKey(t),JSON.stringify(e))},t.prototype.merge=function(t,e){if(this.isLocalStorageAvailable){var n=this.get(t);"object"===Gs(n)&&(e=Xs(Xs({},n),e)),localStorage.setItem(this.makeNamespacedKey(t),e)}},t.prototype.remove=function(t,e){if(this.isLocalStorageAvailable){if(!e)return this.removeItem(t);var n=this.get(t);return null!==n&&"object"===Gs(n)&&Object.prototype.hasOwnProperty.call(n,e)?(delete n[e],0===Object.keys(n).length?this.removeItem(t):this.set(t,n)):this.removeItem(t)}},t.prototype.makeNamespacedKey=function(t){return""!==this.namespace?"".concat(this.namespace,"-").concat(t):t},t.prototype.removeItem=function(t){if(this.isLocalStorageAvailable)return localStorage.removeItem(this.makeNamespacedKey(t))},t}(),qs=Ks;(function(t){t["ZipDicom"]="zip:dicom",t["ZipJpeg"]="zip:jpeg"})($s||($s={}));var Zs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Js=function(t){function e(e,n){var r=t.call(this,'Format "'.concat(JSON.stringify(e),'" is not supported. Supported formats are ').concat(JSON.stringify(n)))||this;return r.name="UnsupportedFormatException",r}return Zs(e,t),e}(Error),Qs=Js,tc=function(){function t(){}return t.prototype.getFormatToLoad=function(t){if(0===t.length)throw new ct("availableFormats","a non-empty array of strings","an empty array","The series you are trying to load might not have any files attached, and thus cannot be loaded.");if(t.includes($s.ZipJpeg))return $s.ZipJpeg;if(t.includes($s.ZipDicom))return $s.ZipDicom;throw new Qs(t,Object.values($s))},t}(),ec=tc,nc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nc(e,t),e.prototype.getSliceOrder=function(t,e){return this.getHandler(t,e).handleSliceList(t,e)},e.prototype.getHandler=function(t,e){return Object.values(this.resourceCollection).sort((function(t,e){return e.priority-t.priority})).find((function(n){return n.canHandleSliceList(t,e)}))},e}(O),oc=rc,ic=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ac=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultId=new Set,e.currentId=new Set,e}return ic(e,t),e.prototype.removeById=function(e){t.prototype.removeById.call(this,e),this.defaultId.delete(e),this.currentId.delete(e)},e.prototype.removeAll=function(){t.prototype.removeAll.call(this),this.defaultId.clear(),this.currentId.clear()},e.prototype.getType=function(){return"SelectableMultiplesResourceManager"},e.prototype.isSelected=function(t){return this.currentId.has(t)},e.prototype.getCurrentIds=function(){return Array.from(this.currentId)},e.prototype.getCurrentResources=function(){var t=this;return this.getCurrentIds().map((function(e){return t.findById(e)}))},e.prototype.toggle=function(t){return this.isSelected(t)?(this.unselect(t),!1):(this.select(t),!0)},e.prototype.select=function(t,e){if(void 0===e&&(e=!1),"undefined"===typeof this.resourceCollection[t])throw new b(t,this.getType());this.currentId.add(t),e||this.onSelect(t)},e.prototype.unselect=function(t){if(!this.currentId.has(t))throw new b(t,this.getType());this.currentId.delete(t),this.onUnselect(t)},e.prototype.selectAll=function(){var t=this,e=Object.keys(this.resourceCollection);e.forEach((function(e){t.select(e,!0)}))},e.prototype.unselectAll=function(){this.currentId.clear()},e.prototype.onSelect=function(t){},e.prototype.onUnselect=function(t){},e}(O),sc=ac,cc={SERIES_ADDED_TO_WHITELIST:"series-added-to-whitelist",SERIES_REMOVED_FROM_WHITELIST:"series-removed-from-whitelist"},uc=function(){function t(t){this.id=t}return t}(),lc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fc=function(t){function e(){var e=t.call(this,{name:"whitelist_service"})||this;return e.isEnabled=!1,e}return lc(e,t),e.prototype.isSeriesWhitelisted=function(t){return!this.isEnabled||this.isSelected(t)},e.prototype.enable=function(){this.isEnabled=!0},e.prototype.disable=function(){this.isEnabled=!1},e.prototype.addSeriesToWhitelist=function(t){"undefined"===typeof this.resourceCollection[t]&&this.addResource(new uc(t)),this.select(t),this.publish(cc.SERIES_ADDED_TO_WHITELIST,{seriesId:t})},e.prototype.remoteSeriesFromWhitelist=function(t){this.removeById(t),this.publish(cc.SERIES_REMOVED_FROM_WHITELIST,{seriesId:t})},e}(sc),pc=fc,dc={translate:function(t){return t}},hc={thumbnailService:new L,seriesService:new ft,caseService:new ht,annotationService:new mr,dicomSeriesService:new br,sliceService:new $r,sliceFileProvider:new Uo,cellService:new Di,widgetService:new xa,imageService:new Jo,keyboardService:new Ri,animationService:new Wi,interactionService:new Ki,pointerService:new Zi,planeSeriesService:new ia,dicomDictionaryProvider:new ks,fileHandlerService:new Ys,localStorageHandler:new qs("idv"),seriesFormatSelection:new ec,sliceSorterService:new oc,seriesWhitelistService:new pc,i18n:dc,seriesEditionService:new ua,resizableDecorator:new Za,movableDecorator:new cs,selectableDecorator:new js,topic:{loading:new At["Publisher"]("loading-file-idv-topic"),caseLoading:new At["Publisher"]("loading-case-idv-topic")}};window.debug={core:{service:hc}};var yc,vc=hc,mc=0,gc=function(){function t(e){var n,r,o,i;this._id=null!==(n=e.seriesId)&&void 0!==n?n:ge("series"),this.studyUID=null!==(r=e.studyUID)&&void 0!==r?r:null,this.seriesUID=null!==(o=e.seriesUID)&&void 0!==o?o:null,this.filterKey=e.filterKey,this.acquisitionNumber=-1,this.seriesNumber=e.seriesNumber||t.totalSeriesNumber,this.sortOrder=null!==(i=e.sortOrder)&&void 0!==i?i:-1,this.nodeId=e.nodeId||mc,t.totalSeriesNumber++,this.name=e.name||"Series #".concat(t.totalSeriesNumber),this.userCreated=e.userCreated}return t.prototype.getId=function(){return this._id},t.prototype.getCurrentImage=function(){return vc.imageService.getImageBySeriesId(this.getId())},t.prototype.isSameStudy=function(t){return this.studyUID===t.studyUID},t.prototype.hasZipData=function(){return"undefined"!==typeof this.zipData&&null!==this.zipData&&"undefined"!==typeof this.zipData.files},t}(),bc=gc,wc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_c=function(t){function e(e){var n=t.call(this,e)||this;return n.name="SeriesNotFoundException",n}return wc(e,t),e}(Error),Sc=_c,Oc="viewer-created",Ic="viewer-reset",Ec="case-loaded",Cc="case-series-loaded",xc={VIEWER_CREATED:Oc,VIEWER_RESET:Ic,CASE_LOADED:Ec,ALL_SERIES_LOADED:Cc},Ac=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pc=function(t){function e(e){var n=t.call(this,'The slice with id "'.concat(e,'" does not exist.'))||this;return n.name="SliceNotFoundException",n}return Ac(e,t),e}(Error),Tc=Pc,jc=function(t){var e=new bo;return e.sliceUID="".concat(t.seriesName,"-").concat(t.seriesId,"/").concat(t.name),[e]},Dc=function(t){for(var e,n,r=[],o=null!==(e=t.getNumberOfFrameAttribute())&&void 0!==e?e:1,i=0;i<o;i++){var a=new bo;if(t.tags){var s=t.getPixelSpacing();null!==s&&(a.pixelSpacing=s,a.pixelWidth=s.x,a.pixelHeight=s.y),a.acquisitionNumber=t.getAcquisitionNumber(),a.sliceUID="".concat(t.getStudyUID(),"-").concat(t.getSeriesInstanceUID(),"-").concat(t.getInstanceNumber(),"-").concat(i,"-").concat(t.getAcquisitionNumber(),"-").concat(t.getTagValue("x00201041")),a.ipp=null!==(n=t.getIPP(i))&&void 0!==n?n:a.ipp,a.iop=t.getIOP(i),a.sliceOffset=i,a.studyUID=t.getStudyUID(),a.seriesUID=t.getSeriesID()}r[i]=a}return r},kc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lc=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rc="slice-creator",Mc=0,Bc=function(t){function e(e,n){var r=t.call(this,e,"file-list-container_".concat(Mc++))||this;return r.content={},r.isDuplicated=n,r}return kc(e,t),e.prototype.getImageNumber=function(){return Object.keys(this.content).length},e.prototype.getContent=function(){return this.content},e.prototype.addFile=function(t){var e=this;this.createSliceFromFile(t).forEach((function(n){e.isDuplicated(n)||(e.content[n.getId()]=t,e.publish(uo,{seriesId:e.getSeriesId(),slice:n}))}))},e.prototype.getContainerType=function(){return Xe},e.prototype.getFileNumber=function(){return Object.keys(this.content).length},e.prototype.getSliceFile=function(t){return this.getImageFormat()===no.DICOM?{file:this.content[t]}:this.content[t]},e.prototype.replaceSliceFile=function(t,e){this.content[t]=e,this.publish(Cr,{sliceId:t,seriesId:this.getSeriesId()})},e.prototype.createSliceFromFile=function(t){return e.getSliceCreator(this.getImageFormat())(t)},e.prototype.destroy=function(){var e,n;t.prototype.destroy.call(this);try{for(var r=Lc(Object.keys(this.content)),o=r.next();!o.done;o=r.next()){var i=o.value;this.removeSlice(i)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},e.prototype.removeSlice=function(t){var e,n=null!==(e=this.content[t])&&void 0!==e?e:null;if(null===n)throw new Tc(t);ao.getFileDestroyer(this.getImageFormat())(n)},e.addSliceCreator=function(t,n,r){if(void 0===r&&(r=!1),n in e.sliceCreators&&!r)throw new eo(Rc,n);e.sliceCreators[n]=t},e.getSliceCreator=function(t){var n,r=null!==(n=e.sliceCreators[t])&&void 0!==n?n:null;if(null===r)throw new Jr(Rc,t);return r},e.sliceCreators=(yc={},yc[no.JPG]=jc,yc[no.PNG]=jc,yc[no.DICOM]=Dc,yc),e}(ao),Nc=Bc,Fc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uc=function(){return Uc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Uc.apply(this,arguments)},zc=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Vc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Wc=function(t){function e(e){var n=this;return e=Object.assign({},u,e),n=t.call(this,e)||this,n.state=new d({viewer:n}),n.annotationService=vc.annotationService,n.animationService=vc.animationService,n.cellService=vc.cellService,n.thumbnailService=vc.thumbnailService,n.interactionService=vc.interactionService,n.seriesService=vc.seriesService,n.sliceFileProvider=vc.sliceFileProvider,n.sliceService=vc.sliceService,n.imageService=vc.imageService,n.pointerService=vc.pointerService,n.pointerController=new l["PointerController"]({state:n.state,target:n.canvasDiv,clickSensitivity:{min:82,max:210}}),n.pointerState=n.pointerController.state.pointer,n.firstInteractionWasPerformed=!1,n.resizeContainer(),n.subscribeToPointerController(),n.emit(Oc),n.publish(Oc,n),n}return Fc(e,t),e.prototype.getPointerState=function(){return this.pointerState},e.prototype.getSeriesService=function(){return this.seriesService},e.prototype.getSliceIndex=function(t){return this.sliceService.getSliceIndex(t)},e.prototype.getThumbnailById=function(t){return this.thumbnailService.findById(t)},e.prototype.getLastSeriesHovered=function(){return this.state.data.series.lastSeriesHovered||null},e.prototype.setLastSeriesHovered=function(t){this.state.data.series.lastSeriesHovered=t,this.seriesService.hover(t)},e.prototype.setLastSeriesFocused=function(t){null===t&&this.seriesService.unselect(),this.seriesService.select(t)},e.prototype.getLastSeriesFocused=function(){return this.seriesService.getCurrentId()},e.prototype.getSeriesInCorner=function(t){var e=this.cellService.getSeriesIdByCellId(t);return null!==e?this.seriesService.findById(e):null},e.prototype.getSeriesById=function(t){var e=this.seriesService.findById(t);if(null===e)throw new Sc('Series with id "'.concat(t,'" does not exist. Candidates are "').concat(Object.keys(this.seriesService.getResources()).join('", "'),'"'));return e},e.prototype.loadSlices=function(t,e){this.sliceFileProvider.load(t,e)},e.prototype.getSeriesByName=function(t){var e=vc.seriesService.findOne({name:t});if(null!==e)throw new Sc('Series with name "'.concat(t,'" does not exist.'));return e},e.prototype.emit=function(e,n){void 0===n&&(n={detail:{viewer:this}}),n&&"undefined"===typeof n.detail&&(n.detail={}),n.detail.viewer=this,t.prototype.emit.call(this,e,n)},e.prototype.generateThumbSrc=function(t){return zc(this,void 0,Promise,(function(){var e,n;return Vc(this,(function(r){switch(r.label){case 0:return e=this.imageService.getImageBySeriesId(t),[4,e.generate()];case 1:return n=r.sent(),[2,n.src]}}))}))},e.prototype.seriesExists=function(t){return null!==vc.seriesService.findById(t)},e.prototype.findOneSeries=function(t){return vc.seriesService.findOne(t)},e.prototype.hasSeries=function(){return vc.seriesService.getNumberOfResources()>0},e.prototype.getNbSeries=function(){return vc.seriesService.getNumberOfResources()},e.prototype.setCurrentInteraction=function(t){this.interactionService.select(t)},e.prototype.setCursorIconMode=function(t){this.containerDiv.dataset.mode=t},e.prototype.resize=function(){this.resizeContainer(),this.redraw()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.canvasDiv.style.display="none"},e.prototype.getDisplayMode=function(){return this.cellService.getCurrentDisplayMode()},e.prototype.createSeries=function(t){var e=this,n=new bc(t);if(this.seriesService.addResource(n),t.zipUrl&&this.sliceFileProvider.getFromZip(n.getId(),t.zipUrl),t.filesList){var r=new Nc(n.getId(),(function(t){return e.sliceService.isSliceDuplicated(t)}));r.setImageFormat(t.imagesFormat),this.sliceFileProvider.setFileContainer(n.getId(),r),t.filesList.forEach((function(t){r.addFile(t)}))}return n},e.prototype.refreshDisplayMode=function(){this.cellService.setDisplayMode(this.cellService.getCurrentDisplayMode())},e.prototype.onSetup=function(e){t.prototype.onSetup.call(this,e),this.settings=e,e.allowOverflowY?this.store("allow-y-overflow",e.allowOverflowY):this.store("allow-y-overflow",!0),this.containerDiv=e.containerDiv,this.containerDiv.setAttribute("data-component",this._id),this.canvasDiv=qe,this.canvasDiv.classList.add(this.settings.ux.CANVAS_CONTAINER_CLASSNAME),this.containerDiv.appendChild(this.canvasDiv),this.setupGlobalEventListener()},e.prototype.getApplicationContainer=function(){return this.containerDiv.parentElement.parentElement},e.prototype.getDisplayModes=function(){return this.cellService.getCurrentDisplayMode()},e.prototype.removeSeries=function(t){this.seriesService.removeById(t)},e.prototype.previousSlice=function(t){this.sliceService.moveSlice(t,-1)},e.prototype.nextSlice=function(t){this.sliceService.moveSlice(t,1)},e.prototype.setSliceIndex=function(t,e){this.sliceService.setSliceIndex(t,e)},e.prototype.setDisplayMode=function(t){this.cellService.setDisplayMode(t)},e.prototype.setSeriesCorner=function(t,e){this.cellService.bindSeriesToCell(t,e)},e.prototype.setSeriesAtIndex=function(t,e){this.seriesService.changeSeriesIndex(t,e)},e.prototype.clearCanvas=function(){this.cellService.getAllCanvas().forEach((function(t){t.clearCanvas(0,0,t.getCanvasWidth(),t.getCanvasHeight())}))},e.prototype.focus=function(t,e){"undefined"!==typeof e&&this.sliceService.setSliceIndex(t,e),this.seriesService.focus(t)},e.prototype.getAllSeries=function(){return Object.values(vc.seriesService.getResources())},e.prototype.getNumberOfSeries=function(){return vc.seriesService.getNumberOfResources()},e.prototype.redraw=function(){var t=this;this.cellService.getSeriesVisible().forEach((function(e){var n=t.cellService.getCellIdBySeriesId(e);t.cellService.getCellById(n).redraw(),t.animationService.trigger("redraw-series-in-corner-".concat(n))}))},e.prototype.reset=function(){this.publish(Ic),this.redraw()},e.prototype.setWidth=function(t){this.containerDiv.style.width="".concat(t,"px"),this.state.width=t,this.resize()},e.prototype.getWidth=function(){return this.state.width},e.prototype.setHeight=function(t){this.containerDiv.style.height="".concat(t,"px"),this.state.height=t,this.resize()},e.prototype.getHeight=function(){return this.state.height},e.prototype.setViewerDimension=function(t,e){this.setWidth(t),this.setHeight(e)},e.prototype.resizeContainer=function(){this.publish("resize"),this.emit("viewer-resize")},e.prototype.getCoordsRelativeToImageByPointerCoords=function(t){var e=Ma(t);if(null===e)return null;var n=this.getSeriesInCorner(e);if(null===n)return null;if(!this.imageService.hasImage(n.getId()))return null;var r=t.target,o=r.getBoundingClientRect(),i=n.getCurrentImage();if(!i)return null;var a,s=this.cellService.getCellById(e),c=s.getDrawCoords(),u=s.getTransformContext(),l=u.getContentHeight()/c.height,f=u.getContentWidth()/c.width;return a="changedTouches"in t?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:{x:t.clientX,y:t.clientY},{x:(a.x-o.left-c.x)*f,y:(a.y-o.top-c.y)*l}},e.prototype.drawSeries=function(t){var e=this.cellService.getCellIdBySeriesId(t);this.animationService.trigger("redraw-series-in-corner-".concat(e))},e.prototype.getAllAnnotations=function(){return Object.values(this.annotationService.getResources())},e.prototype.findSeries=function(t){return vc.seriesService.findOne(t)},e.prototype.isVisible=function(){return"none"!==this.containerDiv.style.display},e.prototype.getCornerSelected=function(){return this.cellService.getCellIdFocused()},e.prototype.getSeriesHovered=function(t){var e=Ma(t);return null!==e?this.cellService.getSeriesIdByCellId(e):null},e.prototype.setupGlobalEventListener=function(){var t=this;this.containerDiv.addEventListener("mouseleave",(function(){t.emit("onViewerLooseFocus")}),!1)},e.prototype.onMouseWheel=function(t){if(t.preventDefault(),0!==this.cellService.getSeriesVisible().length&&(this.firstInteractionWasPerformed=!0,!this.pointerState.isDown)){var e=t.wheelDelta||t.deltaY||-t.detail,n=Math.max(-1,Math.min(1,e)),r=n>0?-1:1,o=Ma(t);null!==o&&this.cellService.focusCellAtIndex(o);var i=this.cellService.getCellIdFocused();if(null!==i){var a=this.cellService.getSeriesIdByCellId(i);null!==a&&(this.sliceService.moveSlice(a,r),this.emit("onMouseWheel"))}}},e.prototype.subscribeToPointerController=function(){var t=this;this.pointerController.enable(),this.subscribe(this.pointerController,l["PointerController"].EVENT.POINTER_MOVE,(function(e){if(null!==Ma(e)){var n=t.interactionService.getCurrentResource();if(!1===(null===n||void 0===n?void 0:n.isRunning())){var r=t.getSeriesHovered(e);if(t.setLastSeriesHovered(r),null!==r&&t.imageService.hasImage(r)&&t.imageService.getImageBySeriesId(r).isLoaded()){var o=Uc({},t.pointerService.getCoords()),i=t.annotationService.getBySeriesId(r),a=i.find((function(e){return e.getInteraction().checkCollision(t.getSliceIndex(r),o)}));a?t.annotationService.setHovered(a.getId()):t.annotationService.setHovered(null)}}else!0===t.pointerState.isDown&&(n.getCellId()!==Ma(e)?n.finish(e):n.onMouseMove(e));null!==n&&e instanceof MouseEvent&&t.setCursorIconMode(n.getCursorName(e))}else t.pointerState.isDown=!1})),this.subscribe(this.pointerController,l["PointerController"].EVENT.MOUSE_WHEEL,(function(e){t.onMouseWheel(e)})),this.subscribe(this.pointerController,l["PointerController"].EVENT.POINTER_DOWN,(function(e){t.cellService.getSeriesVisible().length>0&&(t.firstInteractionWasPerformed=!0);var n=t.interactionService.getCurrentResource();if(null!==n)if(n.isRunning())n.onMouseDown(e);else{var r=Ma(e);null!==r&&t.interactionService.startInteraction(e,r)}})),this.subscribe(this.pointerController,l["PointerController"].EVENT.POINTER_UP,(function(e){var n=t.interactionService.getCurrentResource();null===n||!0!==n.isRunning()&&!0!==n.isInPause||n.onMouseUp(e)})),this.subscribe(this.pointerController,l["PointerController"].EVENT.POINTER_LEAVE,(function(e){var n=t.interactionService.getCurrentResource();null!==n&&n.isRunning()&&n.onMouseLeave(e)}))},e.prototype.getSettings=function(){return this.settings},e}(l["SmartComponent"]),Hc=Wc,Yc=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Gc=0,$c=function(){function t(){this.vh=l["Vec3"].getOne(),this.vy=l["Vec3"].getOne(),this.normal=l["Vec3"].getOne(),this.pt=l["Vec3"].getOne(),this._id="plane_".concat(Gc++)}return t.prototype.getId=function(){return this._id},t.prototype.set=function(t,e,n){this.vh.affect(t).normalize(),this.vy.affect(e).normalize(),this.normal.cross(this.vh,this.vy),this.pt.affect(n);var r=Yc(this.normal.data,3),o=r[0],i=r[1],a=r[2];this.cartesian={a:o,b:i,c:a,d:-(o*n.getX()+i*n.getY()+a*n.getZ())}},t.prototype.delete=function(){this.normal.recycle(),this.vh.recycle(),this.vy.recycle(),this.pt.recycle()},t.prototype.transfer3DSpaceToImgCanvas=function(t,e){void 0===e&&(e=!1);var n=l["Vec3"].getOne().affect(t);e||n.substract(this.pt);var r=this.vh,o=this.vy,i=l["Geometry"].gauss([[r.getX(),o.getX(),0,n.getX()],[r.getY(),o.getY(),0,n.getY()],[r.getZ(),o.getZ(),0,n.getZ()]]);return n.recycle(),t.set(i[0],i[1],0),t},t.prototype.getIntersectionWith=function(e){if(!1===this.normal.isValid()||!1===e.normal.isValid())return null;var n=l["Vec3"].getOne();n.cross(this.normal,e.normal);var r=n.getNorm();if(Math.abs(r)<=t.INTERSECTION_EPSILON)return n.recycle(),null;var o=this.getPointUsing3PlaneIntersectPoint(n,this,e),i=this.transfer3DSpaceToImgCanvas(o.copy(!0)),a=this.transfer3DSpaceToImgCanvas(n.copy(!0),!0);return{intersection3DPoint:o,intersection3DLineDirection:n,intersection2DPoint:i,intersectionLineDirection2D:a}},t.prototype.hasPoint=function(e,n,r){var o=this.cartesian.a*e+this.cartesian.b*n+this.cartesian.c*r+this.cartesian.d;return o<=t.accuracy&&o>=-t.accuracy},t.prototype.getPointUsing3PlaneIntersectPoint=function(t,e,n){var r=e.normal,o=n.normal,i=e.cartesian.d,a=n.cartesian.d,s=l["Vec3"].local(a*r.getX()-i*o.getX(),a*r.getY()-i*o.getY(),a*r.getZ()-i*o.getZ());return l["Vec3"].getOne().cross(s,t).divideScalar(t.getNorm2())},t.accuracy=1e-4,t.INTERSECTION_EPSILON=.001,t}(),Xc=$c;n("4fad");function Kc(t,e){return vc.sliceFileProvider.getFileContainer(t).getImageFormat()===no.DICOM||(e.iop!==po||e.ipp!==fo||e.acquisitionNumber!==ho)}var qc="line",Zc=10,Jc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qc=function(t){function e(){var e=t.call(this,ge("line_annotation_"))||this;return e.sliceService=vc.sliceService,e}return Jc(e,t),e.prototype.loop=function(e){t.prototype.loop.call(this,e);var n=this.getSliceIndex(),r=this.getCell(),o=this.getAnnotation();if(o.isAvailableForSliceIndex(n)){var i=r.getCanvas(pn),a=i.context;a.save();var s=o.getCoordinatesAt(n),c=o.getDrawCoords(r,n);a.strokeStyle=o.getColor(),a.fillStyle=o.getColor(),a.lineWidth=o.getLineWidth(),a.beginPath(),a.moveTo(c.getStartX(),c.getStartY()),a.lineTo(c.getEndX(),c.getEndY()),a.stroke(),a.font='15px "Open Sans"',a.fillStyle="white",a.strokeStyle=o.getColor(),a.lineWidth=3,a.textBaseline="middle";var u=this.getMeasureText(s),l=a.measureText(u).width,f=Zc;c.getEndX()-c.getStartX()<0&&(f=-1*(f+l));var p={x:c.getEndX()+f,y:c.getEndY()};a.strokeStyle="black",a.strokeText(u,p.x,p.y),a.fillText(u,p.x,p.y),a.restore()}},e.prototype.getMeasureText=function(t){var n=this.getCell().getSeriesId();if(null===n)throw new B(n);var r=this.sliceService.getSlice(n,this.getSliceIndex()),o=e.getLengthUnit(n,r),i=e.getLength(t,r.pixelWidth,r.pixelHeight);return"".concat(i," ").concat(o)},e.getLengthUnit=function(t,e){return Kc(t,e)?"mm":"px"},e.getLength=function(t,e,n){return Math.round(l["Geometry"].getDistanceBetween2XY(t.getStartX()*e,t.getStartY()*n,t.getEndX()*e,t.getEndY()*n))},e}(Qn),tu=Qc,eu=5,nu=0,ru=2,ou={COLLISION_EPSILON:eu,DEFAULT_ROTATION:nu,DEFAULT_LINE_THICKNESS:ru},iu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),au=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},su=function(t){function e(){var e=t.call(this)||this;return e.type=qc,e.setKeyframeManager(pe({enableInterpolation:!1})),e.setAnimation(new tu),e.lineWidth=ru,e}return iu(e,t),e.prototype.isLengthValid=function(t){return!!this.isAvailableForSliceIndex(t)&&this.getCoordinatesAt(t).getLength()>=En},e.prototype.getLineWidth=function(){return this.lineWidth},e.prototype.checkCollision=function(t,e){if(!this.isAvailableForSliceIndex(t))return!1;var n,r=this.getCoordinatesAt(t),o=this.getAnimation().getCell(),i=Ra({x:r.getStartX(),y:r.getStartY()},o),a=Ra({x:r.getEndX(),y:r.getEndY()},o),s=l["Vec3"].getOne(e.x,e.y),c=l["Vec3"].getOne(i.x,i.y),u=l["Vec3"].getOne(a.x,a.y);return n=c.distance(u)<1?c.distance(s):l["Geometry"].distancePointToEdge2D(s,c,u,eu),s.recycle(),c.recycle(),u.recycle(),n<=eu},e.prototype.apply=function(t){var e=this;if(this.type!==t.type)throw new ct("serialized","a serialized ".concat(this.type," annotation"),"a serialized ".concat(t.type," annotation"));return this.keyframeManager.removeAll(),Object.entries(t.keyframes).forEach((function(t){var n=au(t,2),r=n[0],o=n[1],i=new wu;i.apply(o),e.keyframeManager.setKeyframeAt(i,Number(r))})),this.setColor(t.style.color),this},e.type=qc,e}(pr),cu=su,uu=(n("5166"),n("ab74"),function(){function t(t){var e;this.name=t.name,this.data={isSelected:!1,isHover:!1,style:{cursor:t.style.cursor}};var n=function(){};this.handlers={update:t.update,resize:t.resize,refresh:null!==(e=t.refresh)&&void 0!==e?e:n}}return t.prototype.getCursor=function(t){return void 0===t&&(t="default"),this.data.style.cursor[t]||this.data.style.cursor.default||he.DEFAULT},t.prototype.resize=function(t,e,n,r){var o=r.getCoordinatesAt(n);this.handlers.resize(t,e,o),r.setCoordinatesAt(n,o)},t.prototype.update=function(t){this.handlers.update(this,t)},t.prototype.setCoords=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e},t.prototype.select=function(){this.data.isSelected=!0},t.prototype.unselect=function(){this.data.isSelected=!1},t.prototype.hover=function(){this.data.isHover=!0},t.prototype.endHover=function(){this.data.isHover=!0},t}()),lu=uu,fu={color:"#FFFFFF",radius:5},pu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),du=2*Math.PI,hu=function(t){function e(e){var n=t.call(this,e)||this;return n.setCoords(e.x,e.y),n.data.color=e.color||fu.color,n.data.radius=e.radius||fu.radius,n}return pu(e,t),e.prototype.checkCollision=function(t,e,n,r){void 0===n&&(n=0);var o=r({x:this.x,y:this.y}),i=t-o.x,a=e-o.y;return Math.abs(this.data.radius*this.data.radius-(i*i+a*a))<=n*n},e.prototype.render=function(t){t.save(),t.globalAlpha=.5,t.beginPath(),t.arc(this.x,this.y,this.data.radius,0,du),t.globalAlpha=.5,t.lineWidth=1,this.data.isSelected?e.renderSelected(t):this.data.isHover?e.renderHovered(t):e.renderDefault(t),t.closePath(),t.restore()},e.renderDefault=function(t){t.strokeStyle="black",t.fillStyle="white",t.stroke(),t.fill()},e.renderHovered=function(t){t.strokeStyle="#00FF00",t.fillStyle="#00FF00",t.stroke(),t.fill()},e.renderSelected=function(t){t.strokeStyle="#FF0000",t.fillStyle="#FF0000",t.stroke(),t.fill()},e}(lu),yu=hu;function vu(t,e){var n=e.element;return new l["RequestFullscreenFeature"]({element:n}).init(t,{element:n})}var mu={thumbnailService:{ADDED:I,UPDATED:E,REMOVED:C,REMOVED_ALL:x},series:{SERIES_CELL_CHANGE:X,ADDED:H,UPDATED:Y,REMOVED:G,REMOVED_ALL:$,SELECTED:K}},gu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bu=function(t){function e(e){return void 0===e&&(e=!1),t.call(this,e)||this}return gu(e,t),e.prototype.getStartX=function(){return this.startX},e.prototype.getCenterX=function(){return(this.startX+this.endX)/2},e.prototype.getEndX=function(){return this.endX},e.prototype.getStartY=function(){return this.startY},e.prototype.getCenterY=function(){return(this.startY+this.endY)/2},e.prototype.getEndY=function(){return this.endY},e.prototype.getRotation=function(){return l["Geometry"].getAngleBetween2XY(this.getEndX(),this.getEndY(),this.getStartX(),this.getStartY())},e.prototype.getLength=function(){return l["Geometry"].getDistanceBetween2XY(this.startX,this.startY,this.endX,this.endY)},e.prototype.updateCoords=function(t){var e,n,r,o;return this.startX=null!==(e=t.startX)&&void 0!==e?e:this.startX,this.endX=null!==(n=t.endX)&&void 0!==n?n:this.endX,this.startY=null!==(r=t.startY)&&void 0!==r?r:this.startY,this.endY=null!==(o=t.endY)&&void 0!==o?o:this.endY,this.sanitize(),this},e.prototype.sanitize=function(){},e.prototype.transfersToCanvasSpace=function(t,n){return(new e).updateCoords({startX:Vt(this.startX,n.width,t.x),startY:Vt(this.startY,n.height,t.y),endX:Vt(this.endX,n.width,t.x),endY:Vt(this.endY,n.height,t.y)})},e.prototype.translateBy=function(t){this.startX+=t.x,this.startY+=t.y,this.endX+=t.x,this.endY+=t.y,this.sanitize()},e.prototype.serialize=function(){return{points:[this.getStartX(),this.getStartY(),this.getEndX(),this.getEndY()]}},e.prototype.clone=function(){return(new e).updateCoords({startX:this.getStartX(),startY:this.getStartY(),endX:this.getEndX(),endY:this.getEndY()})},e.prototype.apply=function(t){var e=t.points;return this.startX=e[0],this.startY=e[1],this.endX=e[2],this.endY=e[3],this},e}(Mt),wu=bu,_u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Su=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cachedInterpolatedKeyframeCollection=new Map,e}return _u(e,t),e.prototype.getCoordinatesAt=function(e){if(this.cachedInterpolatedKeyframeCollection.has(e))return this.cachedInterpolatedKeyframeCollection.get(e);var n=t.prototype.getCoordinatesAt.call(this,e);return this.hasKeyframeAt(e)||this.cachedInterpolatedKeyframeCollection.set(e,n),n},e.prototype.refreshIndex=function(){t.prototype.refreshIndex.call(this),this.cachedInterpolatedKeyframeCollection.clear()},e}(Jt),Ou=Su,Iu=0,Eu=0,Cu=1,xu={width:0,height:0},Au=function(){return Au=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Au.apply(this,arguments)},Pu=function(){function t(){this.pan={x:Iu,y:Eu},this.zoomLevel=Cu,this.content=Au({},xu)}return t.prototype.getPanX=function(){return this.pan.x},t.prototype.getPanY=function(){return this.pan.y},t.prototype.setPanX=function(t){this.pan.x=t},t.prototype.setPanY=function(t){this.pan.y=t},t.prototype.getZoomLevel=function(){return this.zoomLevel},t.prototype.setZoomLevel=function(t){this.zoomLevel=t},t.prototype.getContentWidth=function(){return this.content.width},t.prototype.getContentHeight=function(){return this.content.height},t.prototype.setContentWidth=function(t){this.content.width=t},t.prototype.setContentHeight=function(t){this.content.height=t},t.prototype.reset=function(){this.zoomLevel=Cu,this.setPanX(Iu),this.setPanY(Eu)},t}(),Tu=Pu,ju=1,Du=1;function ku(t,e){for(var n=t.length,r=128*(1-e),o=0;o<n;o+=4)t[o]=t[o]*e+r,t[o+1]=t[o+1]*e+r,t[o+2]=t[o+2]*e+r;return t}function Lu(t,e){for(var n=t.length,r=0;r<n;r+=4)t[r]=t[r]*e,t[r+1]=t[r+1]*e,t[r+2]=t[r+2]*e;return t}var Ru=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mu=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Bu=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Nu=0,Fu=function(t){function e(e){var n=t.call(this,{_id:null!==e&&void 0!==e?e:"basic-image_".concat(Nu++)})||this;return n.imageElement=new Image,n.imageData=null,n.loaded=!1,n.contrast=ju,n.brightness=Du,n.transformContext=new Tu,n.isUpToDate=!1,n.prerenderCanvas=document.createElement("canvas"),n.prerenderContext=n.prerenderCanvas.getContext("2d",{desynchronized:!1,willReadFrequently:!0}),n}return Ru(e,t),e.prototype.isLoaded=function(){return this.loaded},e.prototype.getTransformContext=function(){return this.transformContext},e.prototype.getPrerenderCanvas=function(){return this.prerenderCanvas},e.prototype.getPrerenderContext=function(){return this.prerenderContext},e.prototype.shouldBeReprocess=function(){return!this.isUpToDate},e.prototype.setAsChanged=function(){this.isUpToDate=!1},e.prototype.setUpToDate=function(){this.isUpToDate=!0},e.prototype.reload=function(){var t=this;return new Promise((function(e){t.imageElement.onload=function(){t.setAsChanged(),t.loaded=!0,t.transformContext.setContentHeight(t.imageElement.height),t.transformContext.setContentWidth(t.imageElement.width),e()},t.loaded=!1;var n=t.imageElement.src;t.imageElement.src=n}))},e.prototype.getId=function(){return this._id},e.prototype.getImageData=function(){var t=document.createElement("canvas");t.width=this.getWidth(),t.height=this.getHeight();var e=t.getContext("2d");return e.drawImage(this.imageElement,0,0,this.getWidth(),this.getHeight()),e.getImageData(0,0,this.getWidth(),this.getHeight())},e.prototype.getImageSource=function(){return this.imageElement},e.prototype.getWidth=function(){return this.imageElement.width},e.prototype.getHeight=function(){return this.imageElement.height},e.prototype.setImageElement=function(t){this.imageElement=t},e.prototype.generate=function(){return Mu(this,void 0,Promise,(function(){var t;return Bu(this,(function(e){return t=new Image,t.src=this.imageElement.src,[2,t]}))}))},e.prototype.render=function(t){if(this.loaded){var e=t.getDrawCoords(),n=this.getPrerenderCanvas(),r=this.getPrerenderContext();if(this.shouldBeReprocess()){var o=e.defaultWidth,i=e.defaultHeight;n.width=o,n.height=i,r.drawImage(this.imageElement,0,0,o,i),this.imageData=r.getImageData(0,0,o,i),ku(this.imageData.data,this.contrast),Lu(this.imageData.data,this.brightness)}else n.width=this.imageData.width,n.height=this.imageData.height;r.putImageData(this.imageData,0,0);var a=t.getCanvas(fn);a.clearCanvas(),a.drawImage(n,e.x,e.y,e.width,e.height),this.setUpToDate()}},e.prototype.addBrightness=function(t){this.brightness+=t/Sn},e.prototype.addContrast=function(t){this.contrast=Math.max(0,this.contrast+t/_n)},e.prototype.clearImageData=function(){this.imageData=null,this.setAsChanged()},e.prototype.reset=function(){this.contrast=ju,this.brightness=Du,this.transformContext.reset(),this.setAsChanged()},e.prototype.setWindowing=function(t,e){this.contrast=e,this.brightness=t,this.setAsChanged(),this.publish(Wo,{imageId:this.getId()})},e.prototype.alterWindowing=function(t,e){this.addBrightness(t),this.addContrast(e),this.setAsChanged(),this.publish(Wo,{imageId:this.getId()})},e}(l["SmartComponent"]),Uu=Fu,zu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vu=function(t){function e(e){var n,r=this;return r=t.call(this)||this,r.agent=new l["SmartComponent"]({_id:null!==(n=null===e||void 0===e?void 0:e.subscriber_id)&&void 0!==n?n:ge(r.constructor.name)}),r}return zu(e,t),e.prototype.init=function(t){return void 0===t&&(t=this.agent),this.bindSubscriptions(t),this},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.agent.destroy()},e.prototype.disable=function(){t.prototype.disable.call(this),this.clearSubscriptions()},e.prototype.enable=function(){t.prototype.enable.call(this),this.bindSubscriptions(this.agent)},e.prototype.subscribe=function(t){return void 0===t&&(t=this.agent),[]},e.prototype.createSubscriptionsFromList=function(t){var e=this;t.forEach((function(t){var n;n="function"===typeof t.condition?function(e){t.condition(e)&&t.action(e)}:t.action,Array.isArray(t.name)?t.name.forEach((function(r){e.agent.subscribe(t.from,r,n)})):e.agent.subscribe(t.from,t.name,n)}))},e.prototype.bindSubscriptions=function(t){this.clearSubscriptions(),this.createSubscriptionsFromList(this.subscribe(t))},e.prototype.clearSubscriptions=function(){var t=Object.values(this.agent.core.subscriptions);try{t.forEach((function(t){t.forEach((function(t){t.unsubscribe()}))}))}catch(e){console.error(e)}finally{this.agent.core.subscriptions={}}},e}(l["Feature"]),Wu=Vu,Hu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yu=function(t){function e(e){var n=t.call(this,e)||this;return n.ownWidgetIndexByCellId=[],n.cellService=vc.cellService,n.widgetService=vc.widgetService,n}return Hu(e,t),e.prototype.init=function(e){return t.prototype.init.call(this,e),this.addWidgetToCells(),this},e.prototype.addWidgetToCells=function(){var t=this,e=this.cellService.getAllCells();e.forEach((function(e){var n=t.createWidget(e);n.mount(e.getContainer()),t.addToCell(n,e.getId()),t.widgetService.addWidget(n,t.widgetName,e.getId())}))},e.prototype.addToCell=function(t,e){this.ownWidgetIndexByCellId[e]=t.id},e.prototype.getWidgetBySeriesId=function(t){return this.widgetService.getWidgetByNameAndSeriesId(this.widgetName,t)},e.prototype.getWidgetByCellId=function(t){return this.widgetService.findById(this.ownWidgetIndexByCellId[t])},e.prototype.getVisibleWidgets=function(){var t=this,e=this.cellService.getSeriesVisible();return e.map((function(e){return t.widgetService.getWidgetByNameAndSeriesId(t.widgetName,e)})).filter((function(t){return null===t||void 0===t?void 0:t.isVisible()}))},e.prototype.getEnabledWidgets=function(){var t=this,e=this.cellService.getSeriesVisible();return e.map((function(e){return t.widgetService.getWidgetByNameAndSeriesId(t.widgetName,e)})).filter((function(t){return null===t||void 0===t?void 0:t.isEnabled()}))},e.prototype.getWidgets=function(){return this.widgetService.getWidgetsByName(this.widgetName)},e}(Wu),Gu=Yu,$u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xu=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Ku=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},qu=function(t){function e(e){var n=t.call(this)||this;return n.isDisabled=!1,n.id=ge("widget-".concat(e)),n.initLayout(e),n.hide(),n}return $u(e,t),e.prototype.mount=function(t){t.appendChild(this.getLayout())},e.prototype.initLayout=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=document.createElement("div");r.classList.add("layout"),(t=r.classList).add.apply(t,Ku([],Xu(e),!1)),this.layout=r},e.prototype.getLayout=function(){return this.layout},e.prototype.display=function(){this.isHidden=!1,this.isEnabled()&&this.setVisibility(!0)},e.prototype.hide=function(){this.isHidden=!0,this.isEnabled()&&this.setVisibility(!1)},e.prototype.setVisibility=function(t){var e="none"!==this.layout.style.getPropertyValue("display");t?this.layout.style.removeProperty("display"):this.layout.style.setProperty("display","none"),e!==t&&this.publish(wa,{isVisible:t})},e.prototype.isVisible=function(){return!this.isHidden&&!this.isDisabled},e.prototype.setSeriesId=function(t){this.seriesId=t},e.prototype.getSeriesId=function(){return this.seriesId},e.prototype.isEnabled=function(){return!this.isDisabled},e.prototype.disable=function(){var t=this.isDisabled;this.setVisibility(!1),this.isDisabled=!0,t!==this.isDisabled&&this.publish(_a,{isEnabled:!1})},e.prototype.enable=function(){var t=this.isDisabled;this.isDisabled=!1,this.setVisibility(this.isVisible()),t!==this.isDisabled&&this.publish(_a,{isEnabled:!0})},e.prototype.toggle=function(){return this.isDisabled=!this.isDisabled,this.publish(_a,{isEnabled:!this.isDisabled}),!this.isDisabled},e}(l["SmartComponent"]),Zu=qu,Ju=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"viewer",staticClass:"viewer-container dark",on:{drop:function(e){return e.preventDefault(),t.onDrop.apply(null,arguments)},dragover:function(t){t.preventDefault()},contextmenu:function(t){t.preventDefault()}}},[n("BannerComponent",{staticClass:"banner"}),t.isViewerReady?n("TopBar"):t._e(),n("div",{staticClass:"viewer-layout"},[n("div",{ref:"viewerElement",staticClass:"viewer-element",attrs:{id:"viewer"}}),t._l(t.layoutDynamicComponent,(function(e){return n(e.type,t._b({key:e.id,tag:"component",attrs:{identifier:e.id}},"component",e.config,!1))}))],2),null!==t.activeMenu?n(t.menuDefinition.type,{tag:"component",attrs:{identifier:t.activeMenu}}):t._e(),n("Gallery")],1)},Qu=[],tl=(n("e439"),n("8bbf")),el=n.n(tl);
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */
function nl(t){return nl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(t)}function rl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ol(t){return il(t)||al(t)||sl()}function il(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function al(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function sl(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function cl(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function ul(t,e){ll(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(n){ll(t.prototype,e.prototype,n)})),Object.getOwnPropertyNames(e).forEach((function(n){ll(t,e,n)}))}function ll(t,e,n){var r=n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e);r.forEach((function(r){var o=n?Reflect.getOwnMetadata(r,e,n):Reflect.getOwnMetadata(r,e);n?Reflect.defineMetadata(r,o,t,n):Reflect.defineMetadata(r,o,t)}))}var fl={__proto__:[]},pl=fl instanceof Array;function dl(t){return function(e,n,r){var o="function"===typeof e?e:e.constructor;o.__decorators__||(o.__decorators__=[]),"number"!==typeof r&&(r=void 0),o.__decorators__.push((function(e){return t(e,n,r)}))}}function hl(t){var e=nl(t);return null==t||"object"!==e&&"function"!==e}function yl(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||n.push(r);n.forEach((function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var r=new e;e.prototype._init=n;var o={};return Object.keys(r).forEach((function(t){void 0!==r[t]&&(o[t]=r[t])})),o}var vl=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function ml(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(vl.indexOf(t)>-1)e[t]=n[t];else{var r=Object.getOwnPropertyDescriptor(n,t);void 0!==r.value?"function"===typeof r.value?(e.methods||(e.methods={}))[t]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){return rl({},t,r.value)}}):(r.get||r.set)&&((e.computed||(e.computed={}))[t]={get:r.get,set:r.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return yl(this,t)}});var r=t.__decorators__;r&&(r.forEach((function(t){return t(e)})),delete t.__decorators__);var o=Object.getPrototypeOf(t.prototype),i=o instanceof el.a?o.constructor:el.a,a=i.extend(e);return bl(a,t,i),cl()&&ul(a,t),a}var gl={prototype:!0,arguments:!0,callee:!0,caller:!0};function bl(t,e,n){Object.getOwnPropertyNames(e).forEach((function(r){if(!gl[r]){var o=Object.getOwnPropertyDescriptor(t,r);if(!o||o.configurable){var i=Object.getOwnPropertyDescriptor(e,r);if(!pl){if("cid"===r)return;var a=Object.getOwnPropertyDescriptor(n,r);if(!hl(i.value)&&a&&a.value===i.value)return}0,Object.defineProperty(t,r,i)}}}))}function wl(t){return"function"===typeof t?ml(t):function(e){return ml(e,t)}}wl.registerHooks=function(t){vl.push.apply(vl,ol(t))};var _l=wl;var Sl="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function Ol(t,e,n){if(Sl&&!Array.isArray(t)&&"function"!==typeof t&&!t.hasOwnProperty("type")&&"undefined"===typeof t.type){var r=Reflect.getMetadata("design:type",e,n);r!==Object&&(t.type=r)}}function Il(t,e,n){return void 0===n&&(n={}),function(r,o){Ol(n,r,o),dl((function(r,o){(r.props||(r.props={}))[t]=n,r.model={prop:t,event:e||o},(r.computed||(r.computed={}))[o]={get:function(){return this[t]},set:function(t){this.$emit(e,t)}}}))(r,o)}}function El(t){return void 0===t&&(t={}),function(e,n){Ol(t,e,n),dl((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}function Cl(t,e){void 0===e&&(e={});var n=e.deep,r=void 0!==n&&n,o=e.immediate,i=void 0!==o&&o;return dl((function(e,n){"object"!==typeof e.watch&&(e.watch=Object.create(null));var o=e.watch;"object"!==typeof o[t]||Array.isArray(o[t])?"undefined"===typeof o[t]&&(o[t]=[]):o[t]=[o[t]],o[t].push({handler:n,deep:r,immediate:i})}))}var xl,Al,Pl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showGallery?n("div",{ref:"root",staticClass:"gallery"},t._l(t.children,(function(e){return n(e.type,t._b({key:e.id,tag:"component",attrs:{identifier:e.id}},"component",e.config,!1))})),1):t._e()},Tl=[];(function(t){t["SERIES_BIND_TO_CELL"]="SERIES:ATTACH_TO_CELL",t["SERIES_FOCUS"]="SERIES:FOCUS",t["SERIES_REGISTER"]="SERIES:REGISTER",t["GALLERY_SET_VISIBILITY"]="GALLERY:SET_VISIBILITY",t["GALLERY_SET_ACTIVE"]="GALLERY:SET_ACTIVE"})(xl||(xl={})),function(t){t["GALLERY_ADD_THUMBNAIL"]="gallery:add-thumbnail",t["GALLERY_REMOVE_THUMBNAIL"]="gallery:remove-thumbnail",t["GALLERY_SET_VISIBILITY"]="gallery:set-visibility",t["GALLERY_ADD"]="gallery:add",t["GALLERY_SELECT"]="gallery:select",t["GALLERY_GENERATE_CHILD"]="gallery:generate-child",t["SERIES_ON_CELL_CHANGE"]="series:on-cell-change",t["SERIES_ON_FOCUS_CHANGE"]="series:on-focus-change",t["DEFINITION_REGISTER"]="definition:register"}(Al||(Al={}));var jl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"tippy",rawName:"v-tippy",value:t.tippy,expression:"tippy"}],staticClass:"thumbnail",class:{"is-focus":t.snapshot.isFocused,"is-loading":t.isLoading,"has-src":t.hasSrc},attrs:{"data-thumbnail-id":t.snapshot.thumbnailId,draggable:"true","data-active-in":t.snapshot.activeInCell}},[t.hasSrc?n("img",{staticClass:"thumbnail__img",attrs:{src:t.snapshot.src,alt:t.snapshot.name}}):t._e(),t.isLoading?n("ProgressBar",{staticClass:"thumbnail__progress-bar",attrs:{value:t.loadedAmount}}):t._e()],1)},Dl=[],kl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("progress",{ref:"progress",staticClass:"idv-progress",attrs:{max:t.max}},[t.needPolyfill?n("div",{staticClass:"idv-progress__fallback-container"},[n("span",{staticClass:"idv-progress__fallback-value",style:{width:t.fallbackValue}},[t._v("Progress: "+t._s(t.fallbackValue))])]):t._e()])},Ll=[];function Rl(t){return Rl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(t)}var Ml=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bl=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":Rl(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ml(e,t),Object.defineProperty(e.prototype,"valueAttr",{get:function(){return-1===this.progress?null:this.progress},enumerable:!1,configurable:!0}),e.prototype.watchValueAttr=function(t){null!==t?this.$refs.progress.setAttribute("value",t.toString(10)):this.$refs.progress.removeAttribute("value")},Object.defineProperty(e.prototype,"fallbackValue",{get:function(){return"".concat(Math.min(this.progress,this.max),"%")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needPolyfill",{get:function(){return"function"!==typeof HTMLProgressElement},enumerable:!1,configurable:!0}),Bl([El({default:-1})],e.prototype,"progress",void 0),Bl([El({default:100})],e.prototype,"max",void 0),Bl([Cl("valueAttr")],e.prototype,"watchValueAttr",null),e=Bl([_l],e),e}(el.a),Fl=Nl,Ul=Fl;n("c61d");function zl(t,e,n,r,o,i,a,s){var c,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:u}}var Vl=zl(Ul,kl,Ll,!1,null,null,null),Wl=Vl.exports;function Hl(t){return Hl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(t)}var Yl,Gl,$l=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xl=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":Hl(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $l(e,t),Object.defineProperty(e.prototype,"tippy",{get:function(){return{content:this.snapshot.name,placement:"top",singletonName:"galleryItems"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasSrc",{get:function(){return null!==this.snapshot.src},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loadedAmount",{get:function(){var t;return null!==(t=this.snapshot.loadedAmount)&&void 0!==t?t:100},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return 100!==this.loadedAmount},enumerable:!1,configurable:!0}),Xl([El()],e.prototype,"snapshot",void 0),e=Xl([_l({components:{ProgressBar:Wl}})],e),e}(el.a),ql=Kl,Zl=ql,Jl=(n("2bd9"),zl(Zl,jl,Dl,!1,null,null,null)),Ql=Jl.exports,tf=(n("dca8"),function(){return tf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},tf.apply(this,arguments)}),ef=Object.freeze({root:!0}),nf=function(t){var e=void 0===t?{}:t,n=e.state,r=e.actions,o=e.mutations,i=e.namespaced,a=e.getters;return{namespaced:i,state:function(){return tf({},"function"===typeof n?n():n)},actions:tf({},r),mutations:tf({},o),getters:tf({},a)}},rf="gallery",of={namespaced:!0,state:function(){return{seriesCollection:{},displayDistribution:{},seriesFocused:null,isGalleryVisible:!0,activeGallery:null}},actions:(Yl={},Yl[Al.GALLERY_ADD_THUMBNAIL]=function(t,e){t.commit;var n=t.dispatch,r=(t.rootGetters,{id:e.seriesId,seriesId:e.seriesId,thumbnailId:e.id,type:Ql,config:{}});n("dynamic-component/definition:register",r,ef),n("dynamic-component/node:add-child",{id:e.seriesId,seriesId:e.seriesId,thumbnailId:e.id,parentId:"thumbnail-container",index:-1},ef)},Yl[Al.GALLERY_REMOVE_THUMBNAIL]=function(t,e){var n=t.dispatch;n("dynamic-component/definition:remove",e,ef)},Yl[Al.GALLERY_SET_VISIBILITY]=function(t,e){var n=t.commit;n(xl.GALLERY_SET_VISIBILITY,e)},Yl[Al.SERIES_ON_CELL_CHANGE]=function(t,e){var n=t.commit;n(xl.SERIES_BIND_TO_CELL,e)},Yl[Al.SERIES_ON_FOCUS_CHANGE]=function(t,e){var n=t.commit;n(xl.SERIES_FOCUS,e)},Yl[Al.DEFINITION_REGISTER]=function(t,e){var n=t.dispatch;n("dynamic-component/definition:register",e,ef)},Yl[Al.GALLERY_ADD]=function(t,e){var n=t.dispatch,r=t.state,o=t.commit;t.rootGetters;n("dynamic-component/definition:register",{id:e.id,type:gf},ef);for(var i=0;i<e.children.length;i++)n(Al.GALLERY_GENERATE_CHILD,{childDefinition:e.children[i],parentId:e.id,index:i});null===r.activeGallery&&o(xl.GALLERY_SET_ACTIVE,e.id)},Yl[Al.GALLERY_SELECT]=function(t,e){var n=t.commit;n(xl.GALLERY_SET_ACTIVE,e)},Yl[Al.GALLERY_GENERATE_CHILD]=function(t,e){var n,r=t.dispatch,o=(t.rootGetters,t.rootState,e.childDefinition),i=e.parentId,a=e.index;if(r("dynamic-component/definition:register",o,ef),r("dynamic-component/node:add-child",{id:o.id,parentId:i,index:a},ef),null===(n=o.config)||void 0===n?void 0:n.children)for(var s=0;s<o.config.children.length;s++)r("dynamic-component/node:add-child",{id:o.config.children[s],parentId:o.id,index:s},ef)},Yl),mutations:(Gl={},Gl[xl.SERIES_BIND_TO_CELL]=function(t,e){var n=e.seriesId,r=e.cellId;el.a.set(t.displayDistribution,r,n)},Gl[xl.SERIES_FOCUS]=function(t,e){t.seriesFocused=e},Gl[xl.SERIES_REGISTER]=function(t,e){el.a.set(t.seriesCollection,e.seriesId,e)},Gl[xl.GALLERY_SET_VISIBILITY]=function(t,e){t.isGalleryVisible=e},Gl[xl.GALLERY_SET_ACTIVE]=function(t,e){t.activeGallery=e},Gl)},af=of;function sf(t){return sf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(t)}var cf,uf,lf,ff,pf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),df=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":sf(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},hf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pf(e,t),Object.defineProperty(e.prototype,"activeGallery",{get:function(){return this.$store.state[rf].activeGallery},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showGallery",{get:function(){return this.$store.state["idv"].isViewerReady&&this.$store.state[rf].isGalleryVisible},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.$store.getters["dynamic-component/node:get-children"](this.activeGallery)},enumerable:!1,configurable:!0}),e=df([_l],e),e}(el.a),yf=hf,vf=yf,mf=(n("1179"),zl(vf,Pl,Tl,!1,null,null,null)),gf=mf.exports,bf=n("d851"),wf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showDisclaimer?n("div",{staticClass:"banner"},[n("div",{staticClass:"banner__container"},[n("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("ui.disclaimer.title"))+" ")]),n("ImaiosButton",{staticClass:"banner__button",attrs:{variant:"tertiary"},on:{click:t.hideDisclaimer}},[t._v(" "+t._s(t.$t("ui.disclaimer.accept"))+" ")])],1)]):t._e()},_f=[],Sf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.asLink?"a":"button",t._g(t._b({tag:"component",staticClass:"imaios-button",class:[t.makeModifierClass(t.variant,"variant"),t.makeModifierClass(t.size,"size"),t.makeModifierClass(t.textTransform,"text"),t.makeModifierClass(t.iconSide,"side")],attrs:{href:t.href,disabled:t.disabled}},"component",t.$attrs,!1),t.$listeners),[t.$slots.icon?n("span",{staticClass:"imaios-button__icon"},[t._t("icon")],2):t._e(),n("span",{staticClass:"imaios-button__text"},[t._t("default")],2)])},Of=[];n("9911"),n("c96a");function If(t){return If="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(t)}(function(t){t["primary"]="primary",t["secondary"]="secondary",t["tertiary"]="tertiary",t["link"]="link"})(cf||(cf={})),function(t){t["large"]="large",t["small"]="small"}(uf||(uf={})),function(t){t["normal"]="normal",t["uppercase"]="uppercase"}(lf||(lf={})),function(t){t["left"]="left",t["right"]="right"}(ff||(ff={}));var Ef=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cf=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":If(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ef(e,t),e.prototype.makeModifierClass=function(t,e){return"imaios-button--".concat(e,"-").concat(t)},Cf([El({type:Boolean,required:!1,default:!1})],e.prototype,"disabled",void 0),Cf([El({type:String,required:!1,default:lf.normal,validator:function(t){return t in lf}})],e.prototype,"textTransform",void 0),Cf([El({type:String,required:!1,default:uf.large,validator:function(t){return t in uf}})],e.prototype,"size",void 0),Cf([El({type:String,required:!1,default:cf.primary,validator:function(t){return t in cf}})],e.prototype,"variant",void 0),Cf([El({type:String,required:!1,default:ff.left,validator:function(t){return t in ff}})],e.prototype,"iconSide",void 0),Cf([El({type:Boolean,default:!1})],e.prototype,"asLink",void 0),Cf([El({type:String,required:!1})],e.prototype,"href",void 0),e=Cf([_l],e),e}(el.a),Af=xf,Pf=Af,Tf=(n("37f9"),zl(Pf,Sf,Of,!1,null,null,null)),jf=Tf.exports;function Df(t){return Df="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(t)}var kf,Lf,Rf,Mf,Bf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nf=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":Df(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Ff="showDiagnosticDisclaimer",Uf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showDisclaimer=!0,e}return Bf(e,t),e.prototype.mounted=function(){this.showDisclaimer=!1!==vc.localStorageHandler.get(Ff)},e.prototype.hideDisclaimer=function(){vc.localStorageHandler.set(Ff,!1),this.showDisclaimer=!1},e=Nf([_l({components:{ImaiosButton:jf}})],e),e}(el.a),zf=Uf,Vf=zf,Wf=(n("7ae5"),zl(Vf,wf,_f,!1,null,null,null)),Hf=Wf.exports,Yf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"top-bar",class:t.customClass},[t.showCancel?n("div",{staticClass:"top-bar__section top-bar__left"},[n("ImaiosButton",{attrs:{variant:"link",size:"small"},on:{click:t.onCancel},scopedSlots:t._u([{key:"default",fn:function(){return[t._v(" "+t._s(t.$t("features.v-top-bar.cancel"))+" ")]},proxy:!0}],null,!1,3278790087)})],1):t._e(),n("div",{staticClass:"top-bar__section top-bar__center"},[null!==t.icon?n(t.icon,{tag:"component",staticClass:"icon top-bar__title-icon"}):t._e(),n("span",[t._v(" "+t._s(t.title)+" ")])],1),t.showSave?n("div",{staticClass:"top-bar__section top-bar__right"},[n("ImaiosButton",{attrs:{size:"small"},on:{click:t.onSave},scopedSlots:t._u([{key:"icon",fn:function(){return[n("CheckIcon")]},proxy:!0},{key:"default",fn:function(){return[t._v(" "+t._s(t.$t("features.v-top-bar.save"))+" ")]},proxy:!0}],null,!1,2848309927)})],1):t._e()]):t._e()},Gf=[],$f=n("3b17"),Xf=n.n($f),Kf=n("144c"),qf=n.n(Kf);function Zf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.join("/")}(function(t){t["CANCEL"]="cancel",t["SAVE"]="save"})(kf||(kf={})),function(t){t["CONTENT_SET_TITLE"]="CONTENT:SET_TITLE",t["CONTENT_SET_ICON"]="CONTENT:SET_ICON",t["BAR_SET_VISIBILITY"]="BAR:SET_VISIBILITY",t["MODE_SET"]="MODE:SET",t["MODE_ADD"]="MODE:ADD",t["MODE_REMOVE"]="MODE:REMOVE",t["CALLBACK_ADD"]="CALLBACK:ADD",t["CALLBACK_REMOVE"]="CALLBACK:REMOVE",t["CUSTOM_CLASS_SET"]="CUSTOM_CLASS:SET",t["CUSTOM_CLASS_REMOVE"]="CUSTOM_CLASS:REMOVE"}(Lf||(Lf={})),function(t){t["VISIBILITY_SET"]="visibility:set",t["CONTENT_SET_TITLE"]="content:set-title",t["CONTENT_SET_ICON"]="content:set-icon",t["MODE_SET"]="mode:set",t["MODE_ADD"]="mode:add",t["MODE_REMOVE"]="mode:remove",t["CALLBACK_ADD"]="callback:add",t["CALLBACK_REMOVE"]="callback:remove",t["CALLBACK_RUN"]="callback:run",t["CUSTOM_CLASS_SET"]="custom-class:set",t["CUSTOM_CLASS_REMOVE"]="custom-class:remove"}(Rf||(Rf={})),function(t){t["CALLBACK"]="callback",t["SHOW_BUTTON"]="show-button",t["CUSTOM_CLASS"]="custom-class"}(Mf||(Mf={}));var Jf,Qf,tp,ep=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),np=function(t){function e(e){var n=t.call(this,'The mode with the name "'.concat(e,'" was not found. Did you register it correctly?'))||this;return n.name="TopBarModeNotFoundException",n}return ep(e,t),e}(Error),rp=np,op=function(){};function ip(){var t;return t={},t[kf.CANCEL]=op,t[kf.SAVE]=op,t}var ap="default-mode",sp="top-bar",cp={namespaced:!0,state:function(){var t;return{title:"",icon:null,isVisible:!1,callbacks:(t={},t[ap]=ip(),t),customClassesByMode:{},currentMode:ap}},actions:(Jf={},Jf[Rf.VISIBILITY_SET]=function(t,e){var n=t.commit;t.state;n(Lf.BAR_SET_VISIBILITY,e)},Jf[Rf.MODE_SET]=function(t,e){var n=t.commit;n(Lf.MODE_SET,e)},Jf[Rf.MODE_ADD]=function(t,e){var n=t.commit;n(Lf.MODE_ADD,e)},Jf[Rf.MODE_REMOVE]=function(t,e){var n=t.commit;n(Lf.MODE_REMOVE,e)},Jf[Rf.CALLBACK_ADD]=function(t,e){var n=t.commit;n(Lf.CALLBACK_ADD,e)},Jf[Rf.CALLBACK_REMOVE]=function(t,e){var n=t.commit;n(Lf.CALLBACK_REMOVE,e)},Jf[Rf.CALLBACK_RUN]=function(t,e){var n=t.getters;n[Mf.CALLBACK](e)()},Jf[Rf.CONTENT_SET_ICON]=function(t,e){var n=t.commit;n(Lf.CONTENT_SET_ICON,e)},Jf[Rf.CONTENT_SET_TITLE]=function(t,e){var n=t.commit;n(Lf.CONTENT_SET_TITLE,e)},Jf[Rf.CUSTOM_CLASS_SET]=function(t,e){var n=t.commit,r=t.state,o=e.classList,i=e.mode,a=null!==i&&void 0!==i?i:r.currentMode;n(Lf.CUSTOM_CLASS_SET,{classList:o,mode:a})},Jf[Rf.CUSTOM_CLASS_REMOVE]=function(t,e){var n=t.commit;n(Lf.CUSTOM_CLASS_REMOVE,e)},Jf),mutations:(Qf={},Qf[Lf.BAR_SET_VISIBILITY]=function(t,e){t.isVisible=e},Qf[Lf.MODE_ADD]=function(t,e){el.a.set(t.callbacks,e,ip())},Qf[Lf.MODE_REMOVE]=function(t,e){el.a.delete(t.callbacks,e)},Qf[Lf.MODE_SET]=function(t,e){if(!(e in t.callbacks))throw new rp(e);t.currentMode=e},Qf[Lf.CALLBACK_ADD]=function(t,e){var n=e.mode,r=e.name,o=e.callback;if(!(n in t.callbacks))throw new rp(n);el.a.set(t.callbacks[n],r,o)},Qf[Lf.CALLBACK_REMOVE]=function(t,e){var n=e.mode,r=e.name;if(!(n in t.callbacks))throw new rp(n);el.a.set(t.callbacks,r,op)},Qf[Lf.CONTENT_SET_ICON]=function(t,e){t.icon=e},Qf[Lf.CONTENT_SET_TITLE]=function(t,e){t.title=e},Qf[Lf.CUSTOM_CLASS_SET]=function(t,e){var n=e.classList,r=e.mode;el.a.set(t.customClassesByMode,r,n)},Qf[Lf.CUSTOM_CLASS_REMOVE]=function(t,e){el.a.delete(t.customClassesByMode,e)},Qf),getters:(tp={},tp[Mf.CALLBACK]=function(t){return function(e){return t.callbacks[t.currentMode][e]}},tp[Mf.SHOW_BUTTON]=function(t){return function(e){var n=t.callbacks[t.currentMode][e];return n&&n!==op}},tp[Mf.CUSTOM_CLASS]=function(t){return t.currentMode in t.customClassesByMode?t.customClassesByMode[t.currentMode]:[]},tp)},up=cp;function lp(t){return lp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(t)}var fp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pp=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":lp(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},dp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fp(e,t),Object.defineProperty(e.prototype,"show",{get:function(){return this.$store.state[sp].isVisible},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.$t(this.$store.state[sp].title)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showSave",{get:function(){return this.$store.getters[Zf(sp,Mf.SHOW_BUTTON)](kf.SAVE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showCancel",{get:function(){return this.$store.getters[Zf(sp,Mf.SHOW_BUTTON)](kf.CANCEL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this.$store.state[sp].icon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customClass",{get:function(){return this.$store.getters[Zf(sp,Mf.CUSTOM_CLASS)]},enumerable:!1,configurable:!0}),e.prototype.onCancel=function(){this.$store.dispatch(Zf(sp,Rf.CALLBACK_RUN),kf.CANCEL)},e.prototype.onSave=function(){this.$store.dispatch(Zf(sp,Rf.CALLBACK_RUN),kf.SAVE)},e=pp([_l({components:{ImaiosButton:jf,ArrowLeftIcon:Xf.a,CheckIcon:qf.a}})],e),e}(el.a),hp=dp,yp=hp,vp=(n("338e"),zl(yp,Yf,Gf,!1,null,null,null)),mp=vp.exports,gp=n("c28b"),bp=n.n(gp),wp={install:function(t){t.directive("conditional-on",{inserted:function(t,e){var n,r=e.arg,o=e.value;if(o.condition){var i=null!==(n=e.modifiers.root)&&void 0!==n&&n,a=i?document.body:t;a.addEventListener(r,o.handler)}},update:function(t,e){var n,r=e.arg,o=e.value,i=e.arg,a=e.oldValue;if(_p(o,a)){var s=null!==(n=e.modifiers.root)&&void 0!==n&&n,c=s?document.body:t;c.removeEventListener(i,a.handler),o.condition&&c.addEventListener(r,o.handler)}},unbind:function(t,e){var n,r=e.arg,o=e.value,i=null!==(n=e.modifiers.root)&&void 0!==n&&n,a=i?document.body:t;a.removeEventListener(r,o.handler)}})}};function _p(t,e){return t.handler!==e.handler||t.condition!==e.condition||t.listenerOption!==e.listenerOption}var Sp=wp,Op=n("2f62"),Ip={},Ep=Ip,Cp={openedModal:[],isViewerReady:!1,framework:void 0},xp=Cp,Ap={RECORD_FRAMEWORK:function(t,e){t.framework=e},SET_VIEWER_STATE:function(t,e){t.isViewerReady=e},SET_MODAL_OPEN:function(t,e){var n=t.openedModal.indexOf(e);-1===n&&t.openedModal.push(e),el.a.set(t,"openedModal",t.openedModal)},SET_MODAL_CLOSE:function(t,e){var n=t.openedModal.indexOf(e);n>-1&&t.openedModal.splice(n,1),el.a.set(t,"openedModal",t.openedModal)}},Pp=Ap,Tp={isViewerReady:function(t){return t.isViewerReady},"get-framework":function(t){var e;return null===(e=t.framework)||void 0===e?void 0:e.value},"modal:is-open":function(t){return function(e){return t.openedModal.includes(e)}}},jp=Tp,Dp=n("ae5f"),kp=n.n(Dp),Lp=n("1c46"),Rp=n.n(Lp),Mp={id:"toggle-fullscreen",type:bf["MenuButton"],config:{src:[kp.a,Rp.a],actionId:"toggle-fullscreen",actionType:bf["ACTION_TYPE"].TOGGLE,actionGroup:"interactions",translationKey:"ui.viewer.menu.toggle-fullscreen"}},Bp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Np=function(t){function e(e){var n=t.call(this,null!==e&&void 0!==e?e:"Resource not found")||this;return n.name="NotFoundError",n}return Bp(e,t),e}(TypeError),Fp=Np,Up=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zp=function(t){function e(e){var n=t.call(this,e)||this;return n.name="InvalidDependencyException",n}return Up(e,t),e}(Error),Vp=zp,Wp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hp=function(t){function e(e){var n=t.call(this,'Unable to launch feature "'.concat(e,'".'))||this;return n.name="FeatureLaunchingFailureException",n}return Wp(e,t),e}(Error),Yp=Hp;function Gp(t){return Gp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(t)}function $p(t,e,n){if("undefined"===typeof t.features[e])throw new Fp('Cannot inject feature "'.concat(n,'" because "').concat(e,'" feature is missing'));if(t.features[e]instanceof l["Feature"])return t.features[e];throw new Vp('"'.concat(e,'" must be an instance of feature but "').concat(Gp(t.features[e]),'" given.'))}function Xp(t,e){return new Promise((function(n){if("undefined"===typeof t.features[e]){var r=new l["SmartComponent"]({_id:ge("waitFeatureRequirementAgent")});r.subscribe(t,"feature-added",(function(o){var i=o.name;i===e&&(r.destroy(),n(t.features[e]))}))}else n(t.features[e])}))}function Kp(t,e,n,r){for(var o in void 0===r&&(r=""),n)try{if("function"!==typeof n[o])throw"object style features are not yet supported for nested features";t.features["".concat("undefined"!==typeof r?"".concat(r,"_"):"").concat(o)]=n[o](t,e)}catch(i){throw console.error(i),new Yp(o)}}var qp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zp=function(t){function e(e,n){var r=t.call(this)||this;return r.viewer=e,$p(e,"request-fullscreen","VDisplayFullscreenFeature"),n.dispatch("menu/menu:register-component",{config:Mp,handler:r.onTrigger.bind(r)},ef),document.addEventListener("fullscreenchange",(function(){null==document.fullscreenElement&&n.getters["menu/node:is-selected"](Mp.id)&&n.dispatch("menu/node:select",Mp.id,ef)})),r}return qp(e,t),e.prototype.onTrigger=function(t,e){this.viewer.behave("toggleFullScreen")},e}(l["Feature"]),Jp=Zp,Qp=n("ffde"),td=n.n(Qp),ed=n("9441"),nd=n.n(ed),rd=n("b4df"),od=n.n(rd),id=n("dc50"),ad=n.n(id),sd=n("e155"),cd=n.n(sd),ud=n("a2b9"),ld=n.n(ud),fd={id:Ze,type:bf["MenuButton"],config:{src:[td.a],actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"display",actionId:"change-v-display-mode",disabled:!0,translationKey:"ui.viewer.menu.layout-1-1"}},pd={id:Qe,type:bf["MenuButton"],config:{src:[nd.a],actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"display",actionId:"change-v-display-mode",disabled:!0,translationKey:"ui.viewer.menu.layout-1-2"}},dd={id:Je,type:bf["MenuButton"],config:{src:[od.a],actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"display",actionId:"change-v-display-mode",disabled:!0,translationKey:"ui.viewer.menu.layout-2-1"}},hd={id:en,type:bf["MenuButton"],config:{src:[ad.a],actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"display",actionId:"change-v-display-mode",disabled:!0,translationKey:"ui.viewer.menu.layout-1-3"}},yd={id:tn,type:bf["MenuButton"],config:{src:[cd.a],actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"display",actionId:"change-v-display-mode",disabled:!0,translationKey:"ui.viewer.menu.layout-3-1"}},vd={id:nn,type:bf["MenuButton"],config:{src:[ld.a],actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"display",actionId:"change-v-display-mode",disabled:!0,translationKey:"ui.viewer.menu.layout-2-2"}},md=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gd=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bd=function(t){function e(e,n,r){var o,i,a=t.call(this)||this;if(a.viewer=e,a.dispatcher=n,Array.isArray(r)){a.buttonConfig=r;try{for(var s=gd(r),c=s.next();!c.done;c=s.next()){var u=c.value;a.dispatcher("menu/menu:register-component",{config:u,handler:a.onTrigger.bind(a)},{root:!0})}}catch(l){o={error:l}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}else a.buttonConfig=[r],a.dispatcher("menu/menu:register-component",{config:r,handler:a.onTrigger.bind(a)},{root:!0});return a}return md(e,t),e}(l["Feature"]),wd=bd,_d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sd=function(t){function e(e,n){var r=t.call(this,e,n,[fd,pd,dd,hd,yd,vd])||this;r.seriesService=vc.seriesService,r.cellService=vc.cellService;var o=new l["SmartComponent"];return o.subscribe(e,Oc,(function(){var t=r.onConditionChange.bind(r);o.subscribe(r.seriesService,H,t),o.subscribe(r.seriesService,G,t)})),r}return _d(e,t),e.prototype.onTrigger=function(t,e){this.cellService.getCurrentDisplayMode()!==t.id&&(this.viewer.setDisplayMode(t.id),this.cellService.setDisplayModeAutoUpdateEnabled(!1))},e.prototype.onConditionChange=function(){var t=this,e=Object.keys(this.seriesService.getResources()).length;this.buttonConfig.forEach((function(n){e>=t.cellService.getNbCellByDisplayMode(n.id)?t.dispatcher("menu/node:enable",n.id,{root:!0}):t.dispatcher("menu/node:disable",n.id,{root:!0})}))},e}(wd),Od=function(t,e){return new Sd(t,e)},Id=n("ff02"),Ed=n.n(Id),Cd={id:"reset",type:bf["MenuButton"],config:{src:[Ed.a],actionType:bf["ACTION_TYPE"].STATELESS,actionId:"reset",translationKey:"ui.viewer.menu.reset"}},xd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ad=function(t){function e(e,n){return t.call(this,e,n,Cd)||this}return xd(e,t),e.prototype.onTrigger=function(t,e){this.viewer.reset()},e}(wd),Pd=function(t,e){return new Ad(t,e)},Td=n("28ea"),jd=n.n(Td),Dd={id:un.DEFAULT.CONTRAST,type:bf["MenuButton"],config:{src:[jd.a],actionId:un.DEFAULT.CONTRAST,actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"interactions",translationKey:"ui.viewer.menu.contrast",disabled:!0}},kd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ld=function(t){function e(){var n=t.call(this,e.interactionName)||this;return n.cellService=vc.cellService,n.pointerService=vc.pointerService,n}return kd(e,t),e.prototype.start=function(e,n){var r=this.cellService.getSeriesIdByCellId(n);if(null===r)throw new B(r);this.seriesId=r,t.prototype.start.call(this,e,n)},e.prototype.onStart=function(t){var e=this.getAnimation();e.setCellId(this.getCellId()),e.setSeriesId(this.seriesId);var n=this.pointerService.getCoords();e.setLastMousePosition(n.x,n.y)},e.prototype.onMouseMove=function(e){var n=this.getAnimation(),r=this.pointerService.getCoords();n.setMousePosition(r.x,r.y),t.prototype.onMouseMove.call(this,e)},e.prototype.getCursorName=function(){return e.interactionName},e.interactionName=un.DEFAULT.CONTRAST,e}(kn),Rd=Ld,Md=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bd=function(t){function e(e,n){var r=t.call(this)||this;return r.dispatch=n,r.seriesService=vc.seriesService,r.interactionService=vc.interactionService,r.dispatch("menu/menu:register-component",{config:Dd,handler:r.onTrigger.bind(r)},ef),r.init(),r}return Md(e,t),e.prototype.onTrigger=function(t,e){this.interactionService.select(Rd.interactionName)},e.prototype.onConditionChange=function(){this.seriesService.getNumberOfResources()>0?this.dispatch("menu/node:enable",Dd.id,ef):this.dispatch("menu/node:disable",Dd.id,ef)},e.prototype.subscribe=function(){var t=this;return[{from:this.seriesService,name:H,action:function(){t.onConditionChange()}},{from:this.seriesService,name:G,action:function(){t.onConditionChange()}}]},e}(Wu),Nd=function(t,e){return new Bd(t,e)},Fd=n("2ae0"),Ud=n.n(Fd),zd={id:"cross-ref",type:bf["MenuButton"],config:{src:[Ud.a],actionId:"toggle-cross-refs",actionType:bf["ACTION_TYPE"].TOGGLE,translationKey:"ui.viewer.menu.cross-ref",disabled:!0}},Vd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wd=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Hd=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Yd=function(t){function e(e,n){var r=t.call(this)||this;return r.seriesService=vc.seriesService,r.dispatch=n,r.feature=$p(e,"cross-references-feature","VCrossReferencesFeature"),r.dispatch("menu/menu:register-component",{config:zd,handler:r.onTrigger.bind(r)},{root:!0}),r.init(),r}return Vd(e,t),e.prototype.onTrigger=function(){this.feature.toggle()},e.prototype.onConditionChange=function(){this.seriesService.getNumberOfResources()>1?this.dispatch(Zf(bf["MENU_MODULE_NAME"],bf["MENU_ACTIONS"].NODE_ENABLE),zd.id,ef):this.dispatch(Zf(bf["MENU_MODULE_NAME"],bf["MENU_ACTIONS"].NODE_DISABLE),zd.id,ef)},e.prototype.subscribe=function(e){var n=this;return void 0===e&&(e=this.agent),Hd(Hd([],Wd(t.prototype.subscribe.call(this,e)),!1),[{from:this.seriesService,name:H,action:function(){n.onConditionChange()}},{from:this.seriesService,name:G,action:function(){n.onConditionChange()}}],!1)},e}(Wu),Gd=Yd,$d=n("3ef7"),Xd=n.n($d),Kd=n("fe78"),qd=n.n(Kd),Zd={id:un.MEASURE.RULER,type:bf["MenuButton"],config:{src:[Xd.a],actionId:"measure",actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"interactions",translationKey:"ui.viewer.menu.ruler",disabled:!0},data:{type:"measure"}},Jd={id:un.MEASURE.PROTRACTOR,type:bf["MenuButton"],config:{src:[qd.a],actionId:"measure",actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"interactions",translationKey:"ui.viewer.menu.protractor",disabled:!0},data:{type:"measureAngle"}},Qd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),th=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eh=function(t){function e(e){var n,r,o=t.call(this)||this;o.buttonConfigs=[Zd,Jd],o.interactionService=vc.interactionService,o.seriesService=vc.seriesService,o.dispatch=e;try{for(var i=th(o.buttonConfigs),a=i.next();!a.done;a=i.next()){var s=a.value;o.dispatch("menu/menu:register-component",{config:s,handler:o.onTrigger.bind(o)},{root:!0})}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o.init(),o}return Qd(e,t),e.prototype.onTrigger=function(t,e){this.interactionService.select(t.id)},e.prototype.subscribe=function(){var t=this;return[{from:this.seriesService,name:H,action:function(){t.dispatch("menu/node:enable",Zd.id,ef),t.dispatch("menu/node:enable",Jd.id,ef)}},{from:this.seriesService,name:G,action:function(){0===t.seriesService.getNumberOfResources()&&(t.dispatch("menu/node:disable",Zd.id,ef),t.dispatch("menu/node:disable",Jd.id,ef))}}]},e}(Wu),nh=function(t){return new eh(t)},rh=n("1d3f"),oh=n.n(rh),ih={id:un.DEFAULT.SCROLL,type:bf["MenuButton"],config:{src:[oh.a],actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"interactions",actionId:un.DEFAULT.SCROLL,translationKey:"ui.viewer.menu.scroll",disabled:!0}},ah=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sh=function(t){function e(e){var n=t.call(this)||this;return n.dispatch=e,n.seriesService=vc.seriesService,n.interactionService=vc.interactionService,e("menu/menu:register-component",{config:ih,handler:n.onTrigger.bind(n)},{root:!0}),n.init(),n}return ah(e,t),e.prototype.onTrigger=function(t,e){this.interactionService.select(un.DEFAULT.SCROLL)},e.prototype.onConditionChange=function(){this.seriesService.getNumberOfResources()>0?this.dispatch("menu/node:enable",ih.id,ef):this.dispatch("menu/node:disable",ih.id,ef)},e.prototype.subscribe=function(){var t=this;return[{from:this.seriesService,name:H,action:function(){t.onConditionChange()}},{from:this.seriesService,name:G,action:function(){t.onConditionChange()}}]},e}(Wu),ch=function(t){return new sh(t)},uh=n("d7a0"),lh=n.n(uh),fh={id:"sync-series",type:bf["MenuButton"],config:{src:[lh.a],actionId:"sync-series",actionType:bf["ACTION_TYPE"].TOGGLE,translationKey:"ui.viewer.menu.sync-series",disabled:!0}},ph="link-series-plane-iterator",dh={LINK_ADDED:"link:added",LINK_ALL_REMOVED:"link:all-removed"},hh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yh=function(t){function e(e,n){var r=t.call(this)||this;return r.seriesService=vc.seriesService,r.dispatch=n.$store.dispatch,r.dispatch("menu/menu:register-component",{config:fh,handler:r.onTrigger.bind(r)},ef),r.feature=$p(e,"link-series","VButtonToggleLinkSeriesFeature"),r.init(),r}return hh(e,t),e.prototype.onTrigger=function(t,e){this.toggle(),this.isEnabled()?this.feature.enableLinking():this.feature.disableLinking()},e.prototype.onConditionChange=function(){this.feature.hasLinkedSeries()?this.dispatch("menu/node:enable",fh.id,ef):this.dispatch("menu/node:disable",fh.id,ef)},e.prototype.subscribe=function(){var t=this;return[{from:this.seriesService,name:[H,G,dh.LINK_ADDED,dh.LINK_ALL_REMOVED],action:function(){t.onConditionChange()}}]},e}(Wu),vh=yh,mh=n("5bd8"),gh=n.n(mh),bh={id:un.DEFAULT.PAN,type:bf["MenuButton"],config:{src:[gh.a],actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"interactions",actionId:un.DEFAULT.PAN,translationKey:"ui.viewer.menu.translate",disabled:!0}},wh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_h=function(t){function e(e){var n=t.call(this)||this;return n.dispatch=e,n.seriesService=vc.seriesService,n.interactionService=vc.interactionService,n.dispatch("menu/menu:register-component",{config:bh,handler:n.onTrigger.bind(n)},{root:!0}),n.init(),n}return wh(e,t),e.prototype.onTrigger=function(t,e){this.interactionService.select(un.DEFAULT.PAN)},e.prototype.onConditionChange=function(){this.seriesService.getNumberOfResources()>0?this.dispatch("menu/node:enable",bh.id,ef):this.dispatch("menu/node:disable",bh.id,ef)},e.prototype.subscribe=function(){var t=this;return[{from:this.seriesService,name:H,action:function(){t.onConditionChange()}},{from:this.seriesService,name:G,action:function(){t.onConditionChange()}}]},e}(Wu),Sh=function(t){return new _h(t)},Oh=n("6c89"),Ih=n.n(Oh),Eh={id:un.DEFAULT.ZOOM,type:bf["MenuButton"],config:{src:[Ih.a],actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"interactions",actionId:un.DEFAULT.ZOOM,translationKey:"ui.viewer.menu.zoom",disabled:!0}},Ch="pan-interaction-performed",xh="zoom-interaction-performed",Ah=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ph=function(){return Ph=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ph.apply(this,arguments)},Th=function(t){function e(){var n=t.call(this,e.interactionName)||this;return n.lastY=0,n.cellService=vc.cellService,n.pointerService=vc.pointerService,n}return Ah(e,t),e.prototype.start=function(e,n){var r=this.cellService.getSeriesIdByCellId(n);if(null===r)throw new B(r);t.prototype.start.call(this,e,n)},e.prototype.getDelta=function(){var t=this.pointerService.getCoords(),e=t.y-this.lastY;return this.lastY=t.y,e},e.prototype.onStart=function(t){var e=Ph({},this.pointerService.getCoords());this.lastY=e.y;var n=this.cellService.getCellById(this.getCellId()),r=n.getDrawCoords(),o=n.getTransformContext();e.x-=r.x,e.y-=r.y,e.x/=o.getZoomLevel(),e.y/=o.getZoomLevel(),this.lastMousePosition={x:e.x,y:e.y},this.getAnimation().setCellId(this.getCellId())},e.prototype.onMouseMove=function(e){var n=this.cellService.getCellById(this.getCellId()),r=this.getDelta()/mn,o=n.getDrawCoords(),i=(this.lastMousePosition.x-o.defaultWidth/2)*r,a=(this.lastMousePosition.y-o.defaultHeight/2)*r,s=n.getTransformContext(),c=Math.max(Math.min(s.getZoomLevel()-r,bn),gn);c!==gn&&c!==bn&&(s.setZoomLevel(c),s.setPanX(s.getPanX()+i),s.setPanY(s.getPanY()+a)),this.publish(xh),t.prototype.onMouseMove.call(this,e)},e.prototype.getCursorName=function(){return e.interactionName},e.interactionName=he.ZOOM,e}(kn),jh=Th,Dh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kh=function(t){function e(e){var n=t.call(this)||this;return n.dispatch=e,n.seriesService=vc.seriesService,n.interactionService=vc.interactionService,e("menu/menu:register-component",{config:Eh,handler:n.onTrigger.bind(n)},{root:!0}),n.init(),n}return Dh(e,t),e.prototype.onTrigger=function(t,e){this.interactionService.select(jh.interactionName)},e.prototype.onConditionChange=function(){this.seriesService.getNumberOfResources()>0?this.dispatch("menu/node:enable",Eh.id,ef):this.dispatch("menu/node:disable",Eh.id,ef)},e.prototype.subscribe=function(){var t=this;return[{from:this.seriesService,name:H,action:function(){t.onConditionChange()}},{from:this.seriesService,name:G,action:function(){t.onConditionChange()}}]},e}(Wu),Lh=function(t){return new kh(t)},Rh="load-series",Mh="user-input",Bh=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Nh=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Fh={STARTED:"started",PROGRESSED:"progress",ENDED:"end",FAILED:"failed",CANCELED:"cancel"};function Uh(){return window.imaios.get("client_url")||location.href.split("?")[0]}var zh=function(t){var e={signal:t.abortSignal,headers:new Headers},n=window.imaios.get("IDV_API_KEY");if(null!==n){var r=e.headers;r.append("IMAIOS_API_KEY",n),r.append("IMAIOS_API_CLIENT_URL",Uh())}return window.imaios.fetch(t.url,e).then((function(e){return new Promise((function(n,r){var o=Number(e.headers.get("content-length")),i=e.clone();if(null===e.body)return r();"undefined"===typeof e.body&&n(e);var a=e.body.getReader(),s=0,c=200,u=setInterval((function(){return Bh(void 0,void 0,void 0,(function(){var e,l,f,p,d;return Nh(this,(function(h){switch(h.label){case 0:h.trys.push([0,4,,5]),e=Date.now()+.9*c,l={value:void 0,done:!1},h.label=1;case 1:return!l.done&&Date.now()<e?(null===(d=t.abortSignal)||void 0===d?void 0:d.aborted)?(clearInterval(u),null===t||void 0===t||t.progress({percent:100,total:o,bytesReceived:o,chunkLength:o-s}),r(i),[3,3]):[4,a.read()]:[3,3];case 2:return l=h.sent(),l.done?(clearInterval(u),n(i)):(f=l.value.length,s+=f,null===t||void 0===t||t.progress({percent:100*s/o,total:o,bytesReceived:s,chunkLength:f})),[3,1];case 3:return[3,5];case 4:return p=h.sent(),r(p),[3,5];case 5:return[2]}}))}))}),c)}))}))},Vh=function(t){return zh(t).then((function(t){return t.blob()}))},Wh=function(t){return zh(t).then((function(t){return t.arrayBuffer()}))};function Hh(t,e,n,r,o){Yh(t,n,Wh,(function(t){e.loadBuffer(new Uint8Array(t),r)}),(function(){}),o)}function Yh(t,e,n,r,o,i){void 0===o&&(o=function(){});var a=!1;return n({url:t,progress:function(n){e.publish(a?Fh.PROGRESSED:Fh.STARTED,{loading:t,progress:n}),a=!0},abortSignal:i}).then((function(n){a&&e.publish(Fh.ENDED,{loading:t}),r(n)})).catch((function(n){n instanceof DOMException&&"AbortError"===n.name?e.publish(Fh.CANCELED,{loading:t}):(a&&e.publish(Fh.ENDED,{loading:t}),e.publish(Fh.FAILED,{loading:t}),o(n))}))}function Gh(t){return zh(t).then((function(t){if(t.ok)return t.json();throw t}))}function $h(t){var e,n;return null!==(n=null===(e=t.data.seriesMeta)||void 0===e?void 0:e.data.series_number)&&void 0!==n?n:t.data.caseMeta?Object.keys(t.data.caseMeta.series).indexOf(t.data.seriesId):0}var Xh={id:"forced-dicom-series-builder",build:function(t){var e,n,r=$h(t.context);return{name:t.context.data.seriesName,seriesId:t.context.data.seriesId,filterKey:null!==(n=null===(e=t.context.data.seriesMeta)||void 0===e?void 0:e.data.filterKey)&&void 0!==n?n:t.context.data.seriesId,filesList:[t.result.content[0]],imagesFormat:no.DICOM,userCreated:!1,sortOrder:r,seriesNumber:r}}},Kh={id:"forced-jpeg-series-builder",build:function(t){var e,n,r=$h(t.context);return{name:t.context.data.seriesName,seriesId:t.context.data.seriesId,filterKey:null!==(n=null===(e=t.context.data.seriesMeta)||void 0===e?void 0:e.data.filterKey)&&void 0!==n?n:t.context.data.seriesId,filesList:[t.result.content[0]],imagesFormat:no.JPG,userCreated:!1,sortOrder:r,seriesNumber:r}}},qh={id:"forced-png-series-builder",build:function(t){var e,n,r=$h(t.context);return{name:t.context.data.seriesName,seriesId:t.context.data.seriesId,filterKey:null!==(n=null===(e=t.context.data.seriesMeta)||void 0===e?void 0:e.data.filterKey)&&void 0!==n?n:t.context.data.seriesId,filesList:[t.result.content[0]],imagesFormat:no.PNG,userCreated:!1,sortOrder:r,seriesNumber:r}}},Zh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jh=function(t){function e(e){var n=t.call(this)||this;return n.loadedFiles={},n.viewer=e,n.fileHandler=vc.fileHandlerService,n.progressTopic=vc.topic.loading,n.seriesBuilderService=vc.seriesBuilderService,n.seriesBuilderService.addResource(Xh),n.seriesBuilderService.addMapping(no.DICOM,Rh,Xh.id),n.seriesBuilderService.addResource(Kh),n.seriesBuilderService.addMapping(no.JPG,Rh,Kh.id),n.seriesBuilderService.addResource(qh),n.seriesBuilderService.addMapping(no.PNG,Rh,qh.id),n}return Zh(e,t),e}(Wu),Qh=Jh,ty=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ey=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},ny=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},ry=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oy=function(t){function e(e){var n,r=this;return r=t.call(this,e)||this,r.seriesOptionsArray=null!==(n=e.getSettings().seriesOptionsArray)&&void 0!==n?n:null,r.init(),r}return ty(e,t),e.prototype.subscribe=function(){var t=this;return[{from:this.viewer,name:Oc,action:function(){t.loadSeries()}}]},e.prototype.loadSeries=function(){return ey(this,void 0,Promise,(function(){var t=this;return ny(this,(function(e){return this.seriesOptionsArray?[2,new Promise((function(e){var n,r,o=[];try{for(var i=ry(t.seriesOptionsArray),a=i.next();!a.done;a=i.next()){var s=a.value;o.push(t.loadOption(s))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}Promise.all(o).then((function(){return e()}))}))]:[2]}))}))},e.prototype.loadOption=function(t){var e=this;return new Promise((function(){var n;e.loadedFiles[t.id]=[],Hh(t.zipUrl,e.fileHandler,e.progressTopic,{fileName:t.id,handlingContext:Rh,data:{seriesId:t.id,seriesName:null!==(n=t.name)&&void 0!==n?n:t.id}})}))},e}(Qh),iy=oy,ay=0,sy=-1e4,cy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uy=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},ly=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},fy=function(t){function e(){var e=t.call(this,ge("dicom-image"))||this;return e.sourceInterface={file:null,slice:null},e.whiteMask=null,e.defaultWindowWidth=0,e.defaultWindowCenter=0,e.windowWidth=null,e.windowCenter=null,e.lut=void 0,e.invert=void 0,e.sliceOffset=0,e}return cy(e,t),e.prototype.generate=function(){return uy(this,void 0,Promise,(function(){var t,e;return ly(this,(function(n){return t=new Image,e=this.getImageData(),this.getPrerenderContext().putImageData(e,0,0),t.src=this.getPrerenderCanvas().toDataURL("image/png"),[2,t]}))}))},e.prototype.getImageSource=function(){return this.sourceInterface},e.retrieveDataSet=function(t){if(t instanceof Io["DicomFile"]&&t.dataSet)return t.dataSet;if(t instanceof Uint8Array&&t.length>0)try{return s.a.parseDicom(t)}catch(e){return console.error(e),null}throw"not supported"},e.prototype.reload=function(){var t=this;return new Promise((function(n){var r,o,i=t.getFile(),a=t.sourceInterface.slice.sliceOffset,s=e.retrieveDataSet(i);if(null===i.compression){if(0!==t.defaultWindowWidth&&0!==t.defaultWindowCenter||(t.defaultWindowWidth=i.getWindowWidth(),t.defaultWindowCenter=i.getWindowCenter()),0===t.defaultWindowWidth||0===t.defaultWindowCenter){var c=null!==(r=i.getTagValue("x00280106"))&&void 0!==r?r:null,u=null!==(o=i.getTagValue("x00280107"))&&void 0!==o?o:null;if(null!==c&&null!==u)t.defaultWindowWidth=c,t.defaultWindowCenter=u;else{var l=i.autoComputeWindowCenterAndWidth();t.defaultWindowWidth=l.ww,t.defaultWindowCenter=l.wc}}t.imageElement.width=i.getColumns(),t.imageElement.height=i.getRows(),t.transformContext.setContentHeight(t.imageElement.height),t.transformContext.setContentWidth(t.imageElement.width),t.initWhiteMask(),i.updateRenderingData(t.whiteMask,t.getPrerenderContext(),t.defaultWindowWidth,t.defaultWindowCenter,a),t.loaded=!0,t.setAsChanged(),n(!0)}else window.cornerstoneWADOImageLoader.createImageObject(s,void 0,a,void 0).then((function(e){t.imageElement=e,t.imageElement.height=e.rows,t.imageElement.width=e.columns,t.defaultWindowWidth=e.windowWidth,t.defaultWindowCenter=e.windowCenter,t.lut=e.lut,t.invert=e.invert,t.transformContext.setContentHeight(t.imageElement.height),t.transformContext.setContentWidth(t.imageElement.width),t.initWhiteMask(),t.loaded=!0,t.setAsChanged(),n(!0)}),(function(t){console.error(t)}))}))},e.prototype.initWhiteMask=function(){if(null===this.whiteMask){this.whiteMask=this.getPrerenderContext().createImageData(this.getWidth(),this.getHeight());for(var t=0;t<this.whiteMask.data.length;++t)this.whiteMask.data[t]=255}},e.prototype.getImageData=function(){if(null===this.imageData){this.imageData=this.getPrerenderContext().createImageData(this.getWidth(),this.getHeight());var t=this.getPrerenderCanvas();t.width=this.getWidth(),t.height=this.getHeight()}if(this.shouldBeReprocess()){var e=this.getFile();null!==e&&"compress"!==e.compression?e.updateRenderingData(this.whiteMask,this.getPrerenderContext(),this.getWindowWidth(),this.getWindowCenter(),this.sliceOffset):(this.lut||(window.cornerstone.generateLut(this.imageElement,this.getWindowWidth(),this.getWindowCenter(),this.invert),this.lut=this.imageElement.lut),window.cornerstone.storedPixelDataToCanvasImageData(this.imageElement,this.lut,this.whiteMask.data)),this.imageData.data.set(this.whiteMask.data),this.setUpToDate()}return this.imageData},e.prototype.setDefaults=function(){this.contrast=Math.min(this.contrast,this.defaultWindowWidth-ay),this.brightness=Math.min(this.brightness,this.defaultWindowCenter-sy),this.windowWidth=Math.max(Math.round(this.defaultWindowWidth-this.contrast),1),this.windowCenter=Math.round(this.defaultWindowCenter-this.brightness)},e.prototype.setWindowing=function(t,e){this.contrast=this.defaultWindowWidth-e,this.brightness=this.defaultWindowCenter-t,this.lut=null,this.setDefaults(),this.setAsChanged(),this.publish(Wo,{imageId:this.getId()})},e.prototype.getWindowWidth=function(){var t,e;if(null===this.windowWidth){var n=null!==(e=null===(t=this.getFile())||void 0===t?void 0:t.getWindowWidth())&&void 0!==e?e:null;if(null===n)return this.defaultWindowWidth;this.windowWidth=n}return this.windowWidth},e.prototype.getWindowCenter=function(){var t,e;if(null===this.windowCenter){var n=null!==(e=null===(t=this.getFile())||void 0===t?void 0:t.getWindowCenter())&&void 0!==e?e:null;if(null===n)return this.defaultWindowCenter;this.windowCenter=n}return this.windowCenter},e.prototype.render=function(t){if(this.loaded){var e=t.getDrawCoords(),n=this.getImageData(),r=this.getPrerenderCanvas(),o=this.getPrerenderContext();o.putImageData(n,0,0);var i=t.getCanvas(fn);i.clearCanvas(),i.drawImage(r,e.x,e.y,e.width,e.height)}},e.prototype.getFile=function(){return this.sourceInterface.file},e.prototype.addContrast=function(t){var e=this.getWindowWidth()+t;this.windowWidth=e>=0?e:0,this.lut=null},e.prototype.addBrightness=function(t){this.windowCenter=this.getWindowCenter()+t,this.lut=null},e.prototype.reset=function(){t.prototype.reset.call(this),this.windowWidth=this.defaultWindowWidth,this.windowCenter=this.defaultWindowCenter},e.prototype.setSliceOffset=function(t){this.sliceOffset!==t&&(this.sliceOffset=t,this.setAsChanged())},e}(Uu),py=fy,dy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hy=function(t){function e(e){var n=t.call(this,e)||this;return n.seriesId=null,n.imageService=vc.imageService,n.cellService=vc.cellService,n.sliceService=vc.sliceService,n}return dy(e,t),e.prototype.setSeriesId=function(t){this.seriesId=t},e.prototype.loop=function(e){var n;if(null!==this.seriesId){var r=this.cellService.getCellIdBySeriesId(this.seriesId);if(-1!==r){var o=this.cellService.getCellById(r);if(this.imageService.hasImage(this.seriesId)){var i=this.imageService.getImageBySeriesId(this.seriesId);i instanceof py&&i.setSliceOffset(null!==(n=this.sliceService.getCurrentSlice(this.seriesId).sliceOffset)&&void 0!==n?n:0),i.isLoaded()?i.render(o):this.start()}t.prototype.loop.call(this,e)}}},e.prototype.shouldRefresh=function(){return t.prototype.shouldRefresh.call(this)&&null!==this.seriesId},e}(Kn),yy=hy,vy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),my=function(t){function e(e){var n=t.call(this)||this;n.redrawImageAnimation=[],n.viewer=e,n.cellService=vc.cellService,n.imageService=vc.imageService,n.animationService=vc.animationService,n.seriesService=vc.seriesService;for(var r=0;r<Ke;++r)n.redrawImageAnimation.push(new yy("redraw-series-in-corner-".concat(r))),n.animationService.recordAnimation(n.redrawImageAnimation[r]);return n.init(),n}return vy(e,t),e.prototype.subscribe=function(){var t=this;return[{from:this.imageService,name:zo,action:function(e){var n=e.seriesId;if(t.cellService.isSeriesVisible(n)){var r=t.cellService.getCellIdBySeriesId(n);t.redrawImageAnimation[r].setSeriesId(n),t.animationService.trigger("redraw-series-in-corner-".concat(r))}}},{from:this.cellService,name:ni,action:function(e){var n=e.seriesId,r=e.cellId;t.redrawImageAnimation[r].setSeriesId(n),t.animationService.trigger("redraw-series-in-corner-".concat(r))}},{from:this.cellService,name:Qo,action:function(){t.viewer.redraw()}},{from:this.viewer,name:Ic,action:function(){Object.values(t.seriesService.getResources()).forEach((function(e){t.imageService.getImageBySeriesId(e.getId()).reset()}))}},{from:this.imageService,name:Wo,action:function(e){var n=e.imageId,r=t.imageService.getSeriesIdByImageId(n);if(t.cellService.isSeriesVisible(r)){var o=t.cellService.getCellIdBySeriesId(r);t.animationService.trigger("redraw-series-in-corner-".concat(o))}}},{from:this.seriesService,name:nt.SERIES_REMOVED,action:function(e){var n=e.seriesId,r=t.imageService.getImageBySeriesId(n);t.imageService.removeById(r.getId()),r.destroy()}}]},e}(Wu),gy=my,by=function(){function t(t){this.sliceService=t}return t.prototype.getIOP=function(t,e){return this.sliceService.getSlice(t,e).iop},t.prototype.getIPP=function(t,e){return this.sliceService.getSlice(t,e).ipp},t.prototype.getPixelSpace=function(t,e){return this.sliceService.getSlice(t,e).pixelSpacing},t}(),wy=by,_y="slice-order-loaded";function Sy(t,e){var n,r=this;void 0===e&&(e=300);var o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];clearTimeout(n),n=window.setTimeout((function(){t.apply(r,o)}),e)};return o}var Oy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Iy=function(){return Iy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Iy.apply(this,arguments)},Ey=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Cy=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},xy=function(t){function e(e){var n=t.call(this)||this;return n.toScroll=new Set,n.viewer=e,n.seriesService=vc.seriesService,n.cellService=vc.cellService,n.sliceFileProvider=vc.sliceFileProvider,n.sliceService=vc.sliceService,n.sliceSortService=vc.sliceSorterService,n.imageService=vc.imageService,n.annotationService=vc.annotationService,n.interactedSeries=new Set,n.seriesService.setSeriesMetaProvider(new wy(n.sliceService)),n.debouncedScrollToMid=Sy((function(){return n.scrollToMid()}),100),n.init(e),n}return Oy(e,t),e.prototype.refreshImage=function(t){return Ey(this,void 0,Promise,(function(){var e,n;return Cy(this,(function(r){switch(r.label){case 0:return e=this.sliceService.getCurrentSliceId(t),[4,this.sliceFileProvider.getFileContainer(t).getSliceFile(e)];case 1:return n=r.sent(),this.imageService.updateBySeriesId(t,Iy(Iy({},n),{slice:this.sliceService.findById(e)})),[2]}}))}))},e.prototype.subscribe=function(t){var e=this;return[{from:this.seriesService,name:H,action:function(t){var n=t.seriesId;return Ey(e,void 0,Promise,(function(){return Cy(this,(function(t){return this.sliceService.addSeriesSlot(n),[2]}))}))}},{from:this.seriesService,name:tt,action:function(n){var r=n.seriesId;t.setSeriesCorner(r,cn.TOP_LEFT),e.cellService.setDisplayMode(Ze)}},{from:this.sliceService,name:wr,action:function(t){var n=t.seriesId;e.refreshAnnotationAnimationSliceIndex(n),e.refreshImage(n)}},{from:this.sliceFileProvider,name:uo,action:function(t){var n=t.seriesId,r=t.slice;e.sliceService.addSlice(n,r)}},{from:this.sliceService,name:Or,action:function(n){var r=n.seriesId,o=e.sliceFileProvider.getFileContainer(r),i=e.sliceSortService.getSliceOrder(o.getContent(),o.getImageFormat()),a={slicesOrder:i};t.publish(_y,{seriesId:r,data:a,slicesList:o.getContent(),format:o.getImageFormat()});var s=e.sliceService.getNbSlices(r);if(1===s){e.sliceService.setSliceIndex(r,0);var c=e.sliceFileProvider.getFileContainer(r).getImageFormat(),u=e.imageService.createImage(c);e.imageService.addImage(r,u),e.autoBoundSeriesToCell(r),e.refreshImage(r)}else e.interactedSeries.has(r)||(e.toScroll.add(r),e.debouncedScrollToMid(r));e.sliceService.setSliceOrder(r,a.slicesOrder)}},{from:this.sliceFileProvider,name:Cr,action:function(t){var n=t.seriesId;e.refreshImage(n)}},{from:this.sliceService,name:Ir,action:function(e){var n=e.seriesId,r=e.needRender;r&&t.drawSeries(n)}},{from:this.cellService,name:ni,action:function(t){var n=t.seriesId,r=t.cellId,o=e.cellService.getCellById(r);if(e.sliceFileProvider.hasFileContainer(n)?o.setFileContainer(e.sliceFileProvider.getFileContainer(n)):o.setFileContainer(null),e.imageService.hasImage(n)){var i=e.imageService.getImageBySeriesId(n),a=e.cellService.getCellById(e.cellService.getCellIdBySeriesId(n));a.setTransformContext(i.getTransformContext())}}},{from:this.seriesService,name:G,action:function(t){var n=t.seriesId,r=e.cellService.getCellIdBySeriesId(n);if(-1!==r&&e.cellService.unbindSeries(n,r),e.sliceService.removeBySeriesId(n),-1!==r){var o=e.seriesService.getNumberOfResources();e.cellService.isAutoUpdateDisplayModeEnabled&&o<e.cellService.getNbVisibleCells()&&e.syncDisplayModeWithSeriesNumber(),e.fillEmptyCells()}e.sliceFileProvider.removeBySeriesId(n)}},{from:this.viewer,name:Ic,action:function(){Object.keys(e.seriesService.getResources()).forEach((function(t){e.toScroll.add(t)})),e.scrollToMid()}},{from:this.cellService,name:ti,action:function(t){var n=t.cellId,r=e.cellService.getSeriesIdByCellId(n);if(null===r)throw new B(r);e.interactedSeries.add(r)}},{from:this.cellService,name:ei,action:function(t){var n=t.cellId,r=e.cellService.getSeriesIdByCellId(n);null!==r&&e.seriesService.select(r)}}]},e.prototype.scrollToMid=function(){var t=this;this.toScroll.forEach((function(e){t.sliceService.setSliceIndex(e,Math.round(t.sliceService.getNbSlices(e)/2))})),this.toScroll.clear()},e.prototype.refreshAnnotationAnimationSliceIndex=function(t){var e=this.sliceService.getSliceIndex(t),n=this.annotationService.getBySeriesId(t);n.forEach((function(t){t.getAnimation().setSliceIndex(e)}))},e.prototype.autoBoundSeriesToCell=function(t){var e=this.cellService.countNbSeriesBound();if(e<Ke){this.cellService.bindSeriesToCell(t,e);var n=vc.seriesService.getNumberOfResources();if(this.cellService.isAutoUpdateDisplayModeEnabled()&&this.cellService.setDefaultDisplayModeBySeriesNumber(n),this.seriesService.select(t),this.imageService.hasImage(t)){var r=this.imageService.getImageBySeriesId(t),o=this.cellService.getCellById(this.cellService.getCellIdBySeriesId(t));o.setTransformContext(r.getTransformContext())}}},e.prototype.fillEmptyCells=function(){var t=this,e=this.cellService.getSeriesVisible(),n=Object.keys(this.seriesService.getResources()),r=n.filter((function(t){return!e.includes(t)}));if(r.length>0){var o=Number.POSITIVE_INFINITY;r.forEach((function(e){var n=t.seriesService.getSeriesIndex(e);n<o&&(o=n)}));var i=this.seriesService.getSeriesByIndex(o),a=this.cellService.getEmptyCellId()[0];this.cellService.bindSeriesToCell(i.getId(),a)}},e.prototype.syncDisplayModeWithSeriesNumber=function(){for(var t=this,e=this.cellService.getAllCells().map((function(t){return t.getSeriesId()})).filter((function(e){return null!==e&&t.seriesService.isAvailable(e)})),n=this.cellService.getAllCells().length,r=0;r<n;r++){var o=e[r];"undefined"!==typeof o?this.cellService.getCellById(r).getSeriesId()!==o&&this.cellService.bindSeriesToCell(o,r):(this.cellService.resetCellById(r),this.cellService.updateSeriesIdBound())}this.cellService.setDefaultDisplayModeBySeriesNumber(this.seriesService.getNumberOfResources())},e}(Wu),Ay=xy,Py="keypress",Ty=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jy=function(t){function e(e){var n=t.call(this)||this;return n.seriesService=vc.seriesService,n.keyboardService=vc.keyboardService,n.init(e),n}return Ty(e,t),e.prototype.subscribe=function(t){var e=this;return[{from:this.keyboardService,name:Py,action:function(n){var r=n.key;if("arrowdown"===r){var o=e.seriesService.getHoveredId();null!==o&&t.nextSlice(o)}else if("arrowup"===r){o=e.seriesService.getHoveredId();null!==o&&t.previousSlice(o)}}}]},e}(Wu),Dy=jy,ky=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ly=function(t){function e(e){var n=t.call(this)||this;return n.pointerService=vc.pointerService,n.init(e),n}return ky(e,t),e.prototype.subscribe=function(t){var e=this;return[{from:t,name:Oc,action:function(){e.pointerService.setPointerState(t.getPointerState())}}]},e}(Wu),Ry=Ly,My=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),By=function(t){function e(){var e=t.call(this)||this;return e.interactions={},e.animations=[],e.animationService=vc.animationService,e.interactionService=vc.interactionService,e.init(),e.onInit(),e}return My(e,t),e.prototype.addInteraction=function(t){this.interactions[t.id]=t},e.prototype.onInit=function(){this.injectInteractions(),this.recordAnimationToAnimationService()},e.prototype.injectInteractions=function(){var t=this;Object.values(this.interactions).forEach((function(e){t.interactionService.addResource(e,e.id)}))},e.prototype.recordAnimationToAnimationService=function(){var t=this;this.animations.forEach((function(e){t.animationService.recordAnimation(e,kn.INTERACTION_ANIMATION_DEFAULT_PRIORITY)}))},e}(Wu),Ny=By,Fy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uy=function(t){function e(e){return t.call(this,e)||this}return Fy(e,t),e}(Kn),zy=Uy,Vy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wy=function(t){function e(e){var n=t.call(this,e)||this;return n.totalDistanceAccumulated=0,n.sliceService=vc.sliceService,n.pointerService=vc.pointerService,n}return Vy(e,t),e.prototype.getDelta=function(){var t=this.pointerService.getCoords(),e=t.y-this.lastY;return this.lastY=t.y,e},e.prototype.resetTotalDistanceAccumulated=function(){this.totalDistanceAccumulated=0},e.prototype.setThreshold=function(t){this.threshold=t},e.prototype.setLastYPosition=function(t){this.lastY=t},e.prototype.setSeriesId=function(t){this.seriesId=t},e}(zy),Hy=Wy,Yy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gy=function(t){function e(){return t.call(this,un.DEFAULT.SCROLL)||this}return Yy(e,t),e.prototype.loop=function(e){this.totalDistanceAccumulated+=this.getDelta();var n=Math.abs(this.totalDistanceAccumulated);if(n>this.threshold){var r=this.sliceService.getSliceIndex(this.seriesId),o=r+Math.round(this.totalDistanceAccumulated/this.threshold);if(this.totalDistanceAccumulated=0,o!==r)try{this.sliceService.setSliceIndex(this.seriesId,o)}catch(i){console.error(i)}}t.prototype.loop.call(this,e)},e}(Hy),$y=Gy,Xy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ky=function(t){function e(){var e=t.call(this,"refresh-cell-image")||this;return e.animationService=vc.animationService,e}return Xy(e,t),e.prototype.setCellId=function(t){this.cellId=t},e.prototype.loop=function(e){this.animationService.trigger("redraw-series-in-corner-".concat(this.cellId)),t.prototype.loop.call(this,e)},e}(zy),qy=Ky,Zy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jy=function(t){function e(){var n=t.call(this,e.interactionName)||this;return n.seriesId=null,n.sliceService=vc.sliceService,n.cellService=vc.cellService,n.pointerService=vc.pointerService,n}return Zy(e,t),e.prototype.start=function(e,n){this.seriesId=this.cellService.getSeriesIdByCellId(n),null!==this.seriesId&&t.prototype.start.call(this,e,n)},e.prototype.onStart=function(t){if(null===this.getCellId())throw new ct("cellId","a number in [0..".concat(this.cellService.getNbVisibleCells()-1,"]"),null);if(null===this.seriesId)throw new ct("seriesId","one of ".concat(JSON.stringify(this.cellService.getSeriesVisible())),null);var e=this.sliceService.getNbSlices(this.seriesId),n=this.cellService.getCellById(this.getCellId()).getMainCanvas().getCanvasHeight();this.pixelPerImage=n/e,this.pixelPerImage=Math.min(Math.max(this.pixelPerImage*vn,hn),yn);var r=this.getAnimation();r.resetTotalDistanceAccumulated(),r.setThreshold(this.pixelPerImage);var o=this.pointerService.getCoords();r.setLastYPosition(o.y),r.setSeriesId(this.seriesId)},e.prototype.getCursorName=function(t){if(void 0===t&&(t=null),null!==t){var e=Ma(t);if(null!==e){var n=this.cellService.getSeriesIdByCellId(e);return this.getCursorNameBySeriesId(n)}}else if(null!==this.seriesId)return this.getCursorNameBySeriesId(this.seriesId);return he.DEFAULT},e.prototype.getCursorNameBySeriesId=function(t){return null!==t&&this.sliceService.getNbSlices(t)>1?e.interactionName:he.DEFAULT},e.interactionName=he.SCROLL,e}(kn),Qy=Jy,tv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ev=function(t){function e(){var n=t.call(this,e.interactionName)||this;return n.lastMousePosition={x:0,y:0},n.cellService=vc.cellService,n.pointerService=vc.pointerService,n}return tv(e,t),e.prototype.start=function(e,n){this.seriesId=this.cellService.getSeriesIdByCellId(n),null!==this.seriesId&&t.prototype.start.call(this,e,n)},e.prototype.onStart=function(t){var e=this.pointerService.getCoords();this.lastMousePosition.x=e.x,this.lastMousePosition.y=e.y,this.getAnimation().setCellId(this.getCellId())},e.prototype.onMouseMove=function(e){var n=this.cellService.getCellById(this.getCellId()),r=this.pointerService.getCoords(),o=r.x-this.lastMousePosition.x,i=r.y-this.lastMousePosition.y,a=n.getTransformContext();a.setPanX(a.getPanX()+o),a.setPanY(a.getPanY()+i),this.lastMousePosition.x=r.x,this.lastMousePosition.y=r.y,this.publish(Ch),t.prototype.onMouseMove.call(this,e)},e.prototype.getCursorName=function(){return e.interactionName},e.interactionName=he.PAN,e}(kn),nv=ev,rv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ov=function(t){function e(){var e=t.call(this,"contrast-animation")||this;return e.lastMousePosition={x:0,y:0},e.mousePosition={x:0,y:0},e.imageService=vc.imageService,e.animationService=vc.animationService,e}return rv(e,t),e.prototype.loop=function(e){var n=this.mousePosition,r=n.x-this.lastMousePosition.x,o=n.y-this.lastMousePosition.y,i=this.imageService.getImageBySeriesId(this.seriesId);i.clearImageData(),i.alterWindowing(-o,-r),this.setLastMousePosition(n.x,n.y),this.animationService.trigger("redraw-series-in-corner-".concat(this.cellId)),t.prototype.loop.call(this,e)},e.prototype.setLastMousePosition=function(t,e){this.lastMousePosition.x=t,this.lastMousePosition.y=e},e.prototype.setCellId=function(t){this.cellId=t},e.prototype.setSeriesId=function(t){this.seriesId=t},e.prototype.setMousePosition=function(t,e){this.mousePosition.x=t,this.mousePosition.y=e},e}(zy),iv=ov,av=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sv=function(t){function e(){return t.call(this)||this}return av(e,t),e.prototype.onInit=function(){var e=new $y,n=new qy,r=new iv;this.animations.push(e),this.animations.push(n),this.animations.push(r);var o=new Qy,i=new jh,a=new nv,s=new Rd;o.setAnimationItem(e),i.setAnimationItem(n),a.setAnimationItem(n),s.setAnimationItem(r),this.addInteraction(o),this.addInteraction(i),this.addInteraction(a),this.addInteraction(s),this.interactionService.addProxy(a,Ch).addProxy(i,xh),this.interactionService.addFallbackInteraction(o.getId()),this.interactionService.addFallbackInteraction(i.getId()),this.interactionService.addFallbackInteraction(a.getId()),this.interactionService.addFallbackInteraction(s.getId()),t.prototype.onInit.call(this)},e}(Ny),cv=sv,uv=function(){function t(){}return t.prototype.createImage=function(t){return new py},t}(),lv=uv,fv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pv=function(t){function e(){var e=t.call(this,"dicom-file-handler")||this;return e.priority=0,e.id=no.DICOM,e.filesToProcess=[],e.dicomDictionaryProvider=vc.dicomDictionaryProvider,e.loadDictionary(),e}return fv(e,t),e.prototype.canHandleBuffer=function(t){return this.checkBufferSignature(t)},e.prototype.checkBufferSignature=function(t){return t.length>140&&68===t[128]&&73===t[129]&&67===t[130]&&77===t[131]},e.prototype.loadFromBuffer=function(t,e){var n=this;return new Promise((function(r){if("undefined"===typeof n.dicomDictionary)n.filesToProcess.push({buffer:t,context:e}),r();else{var o=new Io["DicomFile"](e.fileName,t,n.dicomDictionary);o.type="dcm",n.publish(Ls,{result:{content:[o],hasCompletedHandling:!0,fileName:[e.fileName]},context:e}),r()}}))},e.prototype.loadDictionary=function(){var t=this;this.dicomDictionaryProvider.getDictionary().then((function(e){t.dicomDictionary=e;for(var n=0;n<t.filesToProcess.length;n++){var r=t.filesToProcess[n];t.loadFromBuffer(r.buffer,r.context)}}))},e.prototype.getSupportedMimeTypes=function(){return["*/dicom",".dcm","image/dcm","*/dcm",".dicom"]},e}(Tn),dv=pv,hv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yv=function(t){function e(n,r,o){var i=t.call(this,'The file "'.concat(n,'" is missing the mandatory tag "').concat(r,'" (').concat(o,") and cannot be displayed"))||this;return i.name="MissingMandatoryDicomTagException",Object.setPrototypeOf(i,e.prototype),i}return hv(e,t),e.errorName="MissingMandatoryDicomTagException",e}(Error),vv=yv;function mv(t){var e=t.getPatientIdAttribute()||t.getPatientNameAttribute(),n=t.getSeriesInstanceUIDAttribute()||t.getSeriesNumberAttribute();return btoa("".concat(e,"/").concat(n,"_").concat(t.getPhotometricInterpretationAttribute(),"_").concat(t.getRowAttribute(),"_").concat(t.getColumnAttribute(),"_").concat(t.getPixelSpacingAttribute(),"_").concat(t.getEchoNumberAttribute(),"_").concat(t.getBValueAttribute(),"_").concat(t.getTagValue("x00080008"))).replace("///g","-")}var gv,bv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wv=function(t){function e(n){var r=t.call(this,n)||this;return r.name="FeedbackIssueException",Object.setPrototypeOf(r,e.prototype),r}return bv(e,t),e.errorName="FeedbackIssueException",e}(Error),_v=wv,Sv={id:"base-dicom-series-builder",build:function(t){var e,n=t.result.content[0];if("SR"===n.getTagValue("x00080060"))throw new _v('DICOM files with modality "SR Document" are not supported.');if(!("x7fe00010"in n.tags))throw new vv(n.name,"pixel data","x7fe00010");if(!("x00280103"in n.tags))throw new vv(n.name,"pixel representation","x00280103");return{name:null!==(e=n.seriesName)&&void 0!==e?e:n.name,seriesId:mv(n),filterKey:mv(n),seriesNumber:parseInt(n.getSeriesNumberAttribute()||Number.POSITIVE_INFINITY.toString(),10),sortOrder:parseInt(n.getSeriesNumberAttribute(),10),imagesFormat:no.DICOM,dicomMultiplePartIndex:Number(n.getNumberOfFrameAttribute())>1?0:void 0,filesList:[n],userCreated:!0}}},Ov=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Iv=function(t){function e(){var e=t.call(this)||this;return e.imageService=vc.imageService,e.imageService.addFactory(no.DICOM,new lv),e.fileHandlerService=vc.fileHandlerService,e.fileHandlerService.addResource(new dv,no.DICOM),e.seriesBuilderService=vc.seriesBuilderService,e.seriesBuilderService.addResource(Sv),e.seriesBuilderService.addMapping(no.DICOM,Mh,Sv.id),e}return Ov(e,t),e}(l["Feature"]),Ev=Iv,Cv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xv=function(){return xv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},xv.apply(this,arguments)},Av=function(t){function e(e){var n=t.call(this)||this;n.keyboardService=vc.keyboardService;var r=e.getSettings().containerDiv||document.body;return n.keyboardController=new l["KeyboardController"]({component:e,handler:xv({"*":{triggerOncePerPression:!0,keydown:function(t){if(t.composedPath().includes(r)){var e=t.key.toLowerCase();n.keyboardService.publish(Py,{key:e})}}}},["arrowright","arrowleft","arrowdown","arrowup"].reduce((function(t,e){return t[e]={keydown:function(t){if(t.composedPath().includes(r)){var e=t.key.toLowerCase();n.keyboardService.publish(Py,{key:e})}}},t}),{}))}),window.debug.core.keyboardController=n.keyboardController,n}return Cv(e,t),e}(l["Feature"]),Pv=Av,Tv=function(){function t(){this.src=null,this.id=ge("thumbnail")}return t}(),jv=Tv,Dv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kv=function(t){function e(e){var n=t.call(this)||this;return n.currentlyProcessingSeriesID=new Set,n.seriesService=vc.seriesService,n.thumbnailService=vc.thumbnailService,n.imageService=vc.imageService,n.cellService=vc.cellService,n.viewer=e,n.init(),n}return Dv(e,t),e.prototype.subscribe=function(t){var e=this;return[{from:this.imageService,name:zo,action:function(t){var n=t.seriesId;e.thumbnailService.hasThumbnail(n)||e.addThumbnailFromSeriesId(n)}},{from:this.seriesService,name:G,action:function(t){var n=t.seriesId,r=e.thumbnailService.findBySeriesId(n);null!==r&&e.thumbnailService.removeById(r.id)}},{name:ni,from:this.cellService,action:function(t){t.seriesId}}]},e.prototype.createThumbnail=function(t,e){var n=new jv;n.src=e,n.seriesId=t,this.thumbnailService.addThumbnail(n)},e.prototype.addThumbnailFromSeriesId=function(t){var e=this;this.currentlyProcessingSeriesID.has(t)||(this.currentlyProcessingSeriesID.add(t),this.viewer.generateThumbSrc(t).then((function(n){if(e.thumbnailService.hasThumbnail(t)){var r=e.thumbnailService.findBySeriesId(t);e.thumbnailService.updateById(r.id,{src:n})}else e.createThumbnail(t,n);e.currentlyProcessingSeriesID.delete(t)})))},e}(Wu),Lv=kv,Rv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mv=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bv=function(t){function e(e){var n,r,o=t.call(this)||this,i=function(t){var n=mu[t];Object.keys(n).forEach((function(r){var o=vc[t];if("undefined"!==typeof o){var i=n[r];e.subscribe(o,i,(function(t){e.emit(i,{detail:t})}))}}))};try{for(var a=Mv(Object.keys(mu)),s=a.next();!s.done;s=a.next()){var c=s.value;i(c)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}return Rv(e,t),e}(l["Feature"]),Nv=Bv,Fv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uv=function(t){function e(e){var n=t.call(this)||this;return n.cellService=vc.cellService,n.interactionService=vc.interactionService,n.init(e),n}return Fv(e,t),e.prototype.subscribe=function(t){var e=this;return[{from:this.cellService,name:ti,action:function(t){var n=t.cellId;e.cellService.focusCellAtIndex(n)}},{from:this.interactionService,name:_e,action:function(t){var n=t.event,r=Ma(n);e.cellService.focusCellAtIndex(r)}}]},e}(Wu),zv=Uv,Vv="protractor",Wv=6,Hv=4,Yv=20,Gv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$v=function(t){function e(){return t.call(this,ge("protractor_annotation"))||this}return Gv(e,t),e.prototype.loop=function(n){t.prototype.loop.call(this,n);var r=this.getSliceIndex(),o=this.getCell(),i=this.getAnnotation();if(i.isAvailableForSliceIndex(r)){var a=o.getCanvas(pn).context,s=i.getDrawCoords(o,r),c=this.getStyle(),u=c.color,l=c.strokeThickness,f=s.getFirstLine(),p=s.getSecondLine();a.save(),a.strokeStyle=u,a.fillStyle=u,a.lineWidth=l,e.drawDashedLine(a,f,p,l),e.drawLine(a,f),e.drawLine(a,p),0!==p.getLength()&&e.drawAngle(a,s.getAngle().toFixed(0),zt(f.getStartX(),p.getStartX(),.5),zt(f.getStartY(),p.getStartY(),.5),u),a.restore()}},e.drawAngle=function(t,e,n,r,o){t.save(),t.font='15px "Open Sans"',t.fillStyle="#ffffff",t.strokeStyle="#000000",t.lineWidth=3,t.textBaseline="middle";var i="".concat(e," °"),a=t.measureText(i).width;t.strokeText(i,n-a/2,r),t.fillText(i,n-a/2,r),t.restore()},e.drawLine=function(t,n){t.beginPath(),t.moveTo(n.getStartX(),n.getStartY()),t.lineTo(l["Geometry"].getXByDistanceAndAngle(n.getEndX(),Hv,n.getRotation()),l["Geometry"].getYByDistanceAndAngle(n.getEndY(),Hv,n.getRotation())),t.stroke(),e.drawPointyEnd(t,n)},e.drawDashedLine=function(t,e,n,r){var o=e.getStartX(),i=e.getStartY(),a=l["Geometry"].getDistanceBetween2XY(o,i,n.getStartX(),n.getStartY());if(a>2*Yv){var s=l["Geometry"].getAngleBetween2XY(o,i,n.getStartX(),n.getStartY());t.save(),t.beginPath(),t.moveTo(o,i),t.lineTo(l["Geometry"].getXByDistanceAndAngle(o,a/2-Yv,s),l["Geometry"].getYByDistanceAndAngle(i,a/2-Yv,s)),t.moveTo(n.getStartX(),n.getStartY()),t.lineTo(l["Geometry"].getXByDistanceAndAngle(o,a/2+Yv,s),l["Geometry"].getYByDistanceAndAngle(i,a/2+Yv,s)),de(t,Yt.DOTTED,r),t.stroke(),t.restore()}},e.drawPointyEnd=function(t,e){var n=e.getRotation()+90-60,r=l["Geometry"].getXByDistanceAndAngle(e.getEndX(),Wv,n),o=l["Geometry"].getYByDistanceAndAngle(e.getEndY(),Wv,n),i=e.getRotation()-90+60,a=l["Geometry"].getXByDistanceAndAngle(e.getEndX(),Wv,i),s=l["Geometry"].getYByDistanceAndAngle(e.getEndY(),Wv,i);t.beginPath(),t.moveTo(r,o),t.lineTo(e.getEndX(),e.getEndY()),t.lineTo(a,s),t.fill(),t.closePath()},e}(Qn),Xv=$v,Kv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qv=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this,e)||this;return n.firstLine=new wu(e),n.secondLine=new wu(e),n}return Kv(e,t),e.prototype.clone=function(){return new e(!1)},e.prototype.getAngle=function(){var t=l["Vec3"].getOne(this.firstLine.getStartX()-this.firstLine.getEndX(),this.firstLine.getStartY()-this.firstLine.getEndY()),e=l["Vec3"].getOne(this.secondLine.getStartX()-this.secondLine.getEndX(),this.secondLine.getStartY()-this.secondLine.getEndY()),n=e.angle(t);return isNaN(n)?0:(Wt(t,e),180*n/Math.PI)},e.prototype.getFirstLine=function(){return this.firstLine},e.prototype.getSecondLine=function(){return this.secondLine},e.prototype.getLine=function(t){return this[t]},e.prototype.sanitize=function(){this.firstLine.sanitize(),this.secondLine.sanitize()},e.prototype.serialize=function(){return{points:[this.firstLine.getStartX(),this.firstLine.getStartY(),this.firstLine.getEndX(),this.firstLine.getEndY(),this.secondLine.getStartX(),this.secondLine.getStartY(),this.secondLine.getEndX(),this.secondLine.getEndY()]}},e.prototype.transfersToCanvasSpace=function(t,n){return new e(this.isInterpolated).updateCoords({firstLine:e.getLineSchema(this.firstLine.transfersToCanvasSpace(t,n)),secondLine:e.getLineSchema(this.secondLine.transfersToCanvasSpace(t,n))})},e.getLineSchema=function(t){return{startX:t.getStartX(),startY:t.getStartY(),endX:t.getEndX(),endY:t.getEndY()}},e.getSchemaFromSerialized=function(t){var e=t.points;return{firstLine:{startX:e[0],startY:e[1],endX:e[2],endY:e[3]},secondLine:{startX:e[4],startY:e[5],endX:e[6],endY:e[7]}}},e.prototype.translateBy=function(t){this.firstLine.translateBy(t),this.secondLine.translateBy(t)},e.prototype.updateCoords=function(t){return t.firstLine&&this.firstLine.updateCoords(t.firstLine),t.secondLine&&this.secondLine.updateCoords(t.secondLine),this.sanitize(),this},e.prototype.apply=function(t){var e=t.points;return this.firstLine.updateCoords({startX:e[0],startY:e[1],endX:e[2],endY:e[3]}),this.secondLine.updateCoords({startX:e[4],startY:e[5],endX:e[6],endY:e[7]}),this},e}(Mt),Zv=qv;(function(t){t["firstLine"]="firstLine",t["secondLine"]="secondLine"})(gv||(gv={}));var Jv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qv=function(t){function e(e){var n=t.call(this,e)||this;return n.collidedLine=null,n}return Jv(e,t),e.prototype.getCursorName=function(t){return he.MOVE_ANNOTATION},e.prototype.onMouseMove=function(t){if(this.isRunning()&&null!==this.collidedLine){var e=this.getAnimation().getCell(),n=La(this.pointerService.getCoords(),e);if(null!==e.getSeriesId()){this.translationVector.x=n.x-this.lastMousePosition.x,this.translationVector.y=n.y-this.lastMousePosition.y;var r=this.getSliceIndex(),o=this.annotation.getCoordinatesAt(r);o.getLine(this.collidedLine).translateBy(this.translationVector),this.annotation.setCoordinatesAt(r,o),this.setLastMousePosition(n),this.annotation.getProxyAnimation().start()}}},e.prototype.checkCollision=function(t,e){var n=this.getAnimation().getCell(),r=this.annotation.getDrawCoords(n,this.getSliceIndex());return this.annotation.checkCollisionWithLine(e,r.getFirstLine())?(this.collidedLine=gv.firstLine,!0):!!this.annotation.checkCollisionWithLine(e,r.getSecondLine())&&(this.collidedLine=gv.secondLine,!0)},e.prototype.finish=function(e){this.collidedLine=null,t.prototype.finish.call(this,e)},e}(rs),tm=Qv,em=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nm=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},rm=function(t){function e(){var e=t.call(this)||this;return e.type=Vv,e.setKeyframeManager(new re),e.setAnimation(new Xv),e.setInteraction(new tm(e)),e.lineWidth=ru,e}return em(e,t),e.prototype.apply=function(t){var e=this;if(this.type!==t.type)throw new ct("serialized","a serialized ".concat(this.type," annotation"),"a serialized ".concat(t.type," annotation"));return this.keyframeManager.removeAll(),Object.entries(t.keyframes).forEach((function(t){var n=nm(t,2),r=n[0],o=n[1];e.keyframeManager.setKeyframeAt((new Zv).apply(o),Number(r))})),this.setColor(t.style.color),this},e.prototype.checkCollision=function(t,e){if(!this.isAvailableForSliceIndex(t))return!1;var n=this.getCoordinatesAt(t);return this.checkCollisionWithLine(e,n.getFirstLine())||this.checkCollisionWithLine(e,n.getSecondLine())},e.prototype.checkCollisionWithLine=function(t,e){var n=l["Vec3"].getOne(t.x,t.y),r=l["Vec3"].getOne(e.getStartX(),e.getStartY()),o=l["Vec3"].getOne(e.getEndX(),e.getEndY()),i=l["Geometry"].distancePointToEdge2D(n,r,o,0);return Wt(n,r,o),i<=Cn},e.prototype.getLineWidth=function(){return this.lineWidth},e.type=Vv,e}(pr),om=rm;function im(t){return t instanceof cu||t instanceof om}var am=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sm=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.cellService=vc.cellService,o.canvas=o.cellService.getCellById(n).getCanvas(r),o}return am(e,t),e.prototype.loop=function(e){t.prototype.loop.call(this,e),this.canvas.clearCanvas()},e}(Kn),cm=sm,um="clear-canvas";function lm(t){return t instanceof pr?t.getProxyAnimation():t.getAnimation()}var fm,pm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dm=function(t){function e(e){var n=t.call(this)||this;n.clearCanvasAnimation=[],n.annotationService=vc.annotationService,n.animationService=vc.animationService,n.cellService=vc.cellService,n.interactionService=vc.interactionService,n.seriesService=vc.seriesService,n.viewer=e,n.subscriber=new At["Subscriber"]("annotation-default-behavior-subscriber"),n.cellService.getAllCells().forEach((function(t){var e=n.animationService.findById("redraw-series-in-corner-".concat(t.getId()));n.subscriber.subscribe(e,Wn,(function(){n.refreshAnnotationsVisible(t.getSeriesId())}))}));for(var r=0;r<Ke;++r)n.clearCanvasAnimation.push(new cm("".concat(um,"-").concat(r),r,pn)),n.animationService.recordAnimation(n.clearCanvasAnimation[r]);return n.init(),n}return pm(e,t),e.prototype.setCursor=function(t){this.viewer.setCursorIconMode(t)},e.prototype.subscribe=function(t){var e=this;return[{from:this.annotationService,name:mt,action:function(t){var n=t.annotationId,r=t.seriesId,o=e.annotationService.findById(n);if(null===o)throw new jt(n);var i=lm(o);if(e.subscriber.subscribe(i,Vn,(function(){e.refreshAnnotationsVisible(r)})),e.animationService.recordAnimation(i),e.cellService.isSeriesVisible(r)){var a=e.cellService.getCellIdBySeriesId(r);i.setCell(e.cellService.getCellById(a)),i.start()}}},{from:this.annotationService,name:yt,action:function(t){var n=t.seriesId,r=e.cellService.getCellIdBySeriesId(n);e.cellService.getCellById(r).redraw(),e.animationService.trigger("redraw-series-in-corner-".concat(r))}},{from:this.cellService,name:ni,action:function(t){var n=t.seriesId;e.refreshAnnotationsVisible(n)}},{from:this.annotationService,name:_t,action:function(t){var n=t.annotationId;e.annotationService.select(n)}},{from:this.seriesService,name:G,action:function(t){var n=t.seriesId;e.annotationService.getBySeriesId(n).forEach((function(t){e.annotationService.removeById(t.getId())}))}},{from:this.viewer,name:Ic,action:function(){var t=Object.keys(e.seriesService.getResources());t.forEach((function(t){e.removeAdditionalAnnotations(t)}))}}]},e.prototype.removeAdditionalAnnotations=function(t){var e=this,n=this.annotationService.getBySeriesId(t);n.forEach((function(t){im(t)&&e.annotationService.removeById(t.getId())}))},e.prototype.refreshAnnotationsVisible=function(t){if(this.cellService.isSeriesVisible(t)){var e=this.cellService.getCellIdBySeriesId(t),n=this.cellService.getCellById(e),r=this.annotationService.getBySeriesId(t);0!==r.length&&this.animationService.trigger("".concat(um,"-").concat(e)),r.forEach((function(t){var e=lm(t);e.setCell(n),e.isPlaying()||e.start()}))}},e}(Wu),hm=dm,ym=(n("f00c"),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),vm=function(t){function e(e){var n=t.call(this,e)||this;return n.initLabel(),n.initTextValue(),n}return ym(e,t),e.prototype.setLabel=function(t){this.labelElement.textContent=t},e.prototype.getValue=function(){return this.textValue.value},e.prototype.initLabel=function(){var t=document.createElement("span");this.getLayout().appendChild(t),this.labelElement=t},e.prototype.initTextValue=function(){var t=this,e=document.createElement("input");e.classList.add("value"),e.addEventListener("focus",(function(){return e.select()})),e.addEventListener("input",(function(){return t.onInput()})),e.addEventListener("blur",(function(){""===t.textValue.value?t.setValue(t.oldValue):t.oldValue=t.textValue.value,t.onBlur()})),e.addEventListener("keyup",(function(t){"Enter"===t.key&&e.blur()})),this.getLayout().appendChild(e),this.textValue=e},e.prototype.onInput=function(){this.textValue.value=this.textValue.value.replace(/\D|\s/g,(function(){return""})),this.updateSizeTextValue()},e.prototype.updateSizeTextValue=function(){this.textValue.style.width="".concat(Math.floor(12*this.textValue.value.length),"px")},e.prototype.setValue=function(t){var e=this.textValue.value.length;this.textValue.value=t,this.oldValue=t,e!=t.length&&this.updateSizeTextValue()},e}(Zu),mm=vm,gm=(n("b79f"),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),bm=function(t){function e(){var e=t.call(this,"slice-indicator")||this;return e.maxSlices=0,e.indexSlice=0,e.maxSlicesElement=document.createElement("span"),e.maxSlicesElement.classList.add("max-slices"),e.getLayout().appendChild(e.maxSlicesElement),e.setLabel("IM:"),e.setValue("0"),e}return gm(e,t),e.prototype.setIndexSlice=function(t){this.indexSlice=t,this.redraw()},e.prototype.setMax=function(t){this.maxSlices=t,this.maxSlicesElement.textContent="/".concat(this.maxSlices.toString())},e.prototype.redraw=function(){this.setValue(String(this.indexSlice+1))},e.prototype.onBlur=function(){var t=Math.max(1,Math.min(this.maxSlices,parseInt(this.getValue(),10)))-1;Number.isFinite(t)||(t=0),this.setValue((t+1).toString()),vc.sliceService.setSliceIndex(this.seriesId,t)},e}(mm),wm=bm,_m="slice-indicator",Sm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Om=function(t){function e(e){var n=t.call(this)||this;return n.widgetName=_m,n.sliceService=vc.sliceService,n.init(e),n}return Sm(e,t),e.prototype.createWidget=function(t){return new wm},e.prototype.subscribe=function(t){var e=this;return[{from:this.sliceService,name:Or,action:function(t){var n=t.seriesId,r=e.getWidgetBySeriesId(n);null!==r&&r.setMax(e.sliceService.getNbSlices(n))}},{from:this.sliceService,name:wr,action:function(t){var n=t.seriesId,r=t.sliceIndex,o=e.getWidgetBySeriesId(n);null!==o&&o.setIndexSlice(r)}},{from:this.cellService,name:ni,action:function(t){var n=t.seriesId,r=e.getWidgetBySeriesId(n);r.setMax(e.sliceService.getNbSlices(n)),r.setIndexSlice(e.sliceService.getSliceIndex(n))}}]},e}(Gu),Im=Om,Em=(n("aebe"),"scroll-series"),Cm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xm=function(t){function e(){var e=t.call(this,Em)||this;return e.mouseDown=!1,e.initBar(),e}return Cm(e,t),e.prototype.initBar=function(){var t=this,e=document.createElement("div");e.classList.add("scrollbar"),this.getLayout().addEventListener("mousedown",(function(e){return t.onMouseDown(e)})),this.listenerMouseMove=function(e){return t.onMouseMove(e)},this.listenerMouseUp=function(){return t.onMouseUp()},this.getLayout().appendChild(e),this.scrollbar=e,this.setMax(0)},e.prototype.onMouseDown=function(t){this.mouseDown=!0,t.stopPropagation(),document.addEventListener("mousemove",this.listenerMouseMove),document.addEventListener("mouseup",this.listenerMouseUp),this.onMouseMove(t)},e.prototype.onMouseUp=function(){this.mouseDown=!1,document.removeEventListener("mousemove",this.listenerMouseMove),document.removeEventListener("mouseup",this.listenerMouseUp)},e.prototype.onMouseMove=function(t){if(this.mouseDown){var e=this.getLayout().getBoundingClientRect().top,n=t.y-e,r=Math.max(Math.min(Math.floor(n/this.step),this.maxSlice-1),0);vc.sliceService.setSliceIndex(this.seriesId,r)}},e.prototype.setMax=function(t){this.maxSlice=t,1===t?this.hide():this.display()},e.prototype.calculateStep=function(){var t=this.getLayout().offsetHeight-this.scrollbar.offsetHeight;this.step=t/(this.maxSlice-1)},e.prototype.setIndexSlice=function(t){this.indexSlice=t,this.draw()},e.prototype.draw=function(){this.scrollbar.style.top="".concat(this.step*this.indexSlice,"px")},e.prototype.calculateHeightScrollbar=function(){var t=this.getLayout().offsetHeight;this.scrollbar.style.height="".concat(Math.max(an,t/this.maxSlice),"px")},e.prototype.redraw=function(){this.maxSlice>1&&(this.calculateHeightScrollbar(),this.calculateStep(),this.draw())},e.prototype.display=function(){this.maxSlice>1&&(t.prototype.display.call(this),this.calculateHeightScrollbar(),this.calculateStep())},e}(Zu),Am=xm,Pm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tm=function(t){function e(e){var n=t.call(this)||this;return n.widgetName=Em,n.sliceService=vc.sliceService,n.interactionService=vc.interactionService,n.init(e),n}return Pm(e,t),e.prototype.createWidget=function(t){return new Am},e.prototype.subscribe=function(t){var e=this;return[{from:this.sliceService,name:Or,action:function(t){var n=t.seriesId;if(e.cellService.isSeriesVisible(n)){var r=e.getWidgetBySeriesId(n);null!==r&&r.setMax(e.sliceService.getNbSlices(n))}}},{from:this.interactionService,name:_e,action:function(){e.getWidgets().forEach((function(t){return t.getLayout().style.pointerEvents="none"}))}},{from:this.interactionService,name:Se,action:function(){e.getWidgets().forEach((function(t){return t.getLayout().style.pointerEvents="auto"}))}},{from:this.sliceService,name:wr,action:function(t){var n=t.seriesId,r=t.sliceIndex;if(e.cellService.isSeriesVisible(n)){var o=e.getWidgetBySeriesId(n);null!==o&&o.setIndexSlice(r)}}},{from:this.cellService,name:Qo,action:function(){e.getWidgets().forEach((function(t){return t.redraw()}))}},{from:this.cellService,name:ni,action:function(t){var n=t.seriesId,r=t.cellId,o=e.getWidgetByCellId(r);o.setMax(e.sliceService.getNbSlices(n)),o.setIndexSlice(e.sliceService.getSliceIndex(n))}},{from:t,name:[l["RequestFullscreenFeatureEVENT"].ON_FULLSCREEN,l["RequestFullscreenFeatureEVENT"].ON_EXIT_FULLSCREEN,"resize"],action:function(){setTimeout((function(){e.getWidgets().forEach((function(t){return t.redraw()}))}))}}]},e}(Gu),jm=Tm,Dm=(n("0a44"),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),km=function(t){function e(){var e=t.call(this,"series-indicator")||this;return e.setLabel("SE:"),e.setOrder(0),e}return Dm(e,t),e.prototype.setOrder=function(e){t.prototype.setValue.call(this,String(e+1))},e.prototype.onBlur=function(){},e}(mm),Lm=km,Rm="series-indicator",Mm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bm=function(t){function e(e){var n=t.call(this)||this;return n.widgetName=Rm,n.seriesService=vc.seriesService,n.init(e),n}return Mm(e,t),e.prototype.createWidget=function(t){return new Lm},e.prototype.subscribe=function(t){var e=this;return[{from:this.cellService,name:ni,action:function(t){var n=t.seriesId,r=t.cellId,o=e.seriesService.getSeriesIndex(n),i=e.getWidgetByCellId(r);i.setOrder(o)}},{from:this.seriesService,name:Z,action:function(t){for(var n=t.min,r=t.max,o=n;o<=r;o++){var i=e.seriesService.getSeriesByIndex(o).getId(),a=e.cellService.getCellIdBySeriesId(i);if(-1!==a){var s=e.cellService.getCellById(a),c=e.getWidgetByCellId(s.getId()),u=e.seriesService.getSeriesIndex(i);null!==c&&c.setOrder(u)}}}}]},e}(Gu),Nm=Bm,Fm=(n("8c1f"),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Um=200,zm=10,Vm=function(t){function e(){var e=t.call(this,"toast-no-scroll")||this;return e.delay=500,e.hideAfter=0,e.hiding=!1,e.span=document.createElement("span"),e.layout.appendChild(e.span),e.span.textContent="",e}return Fm(e,t),e.prototype.setText=function(t){this.span.textContent=t},e.prototype.show=function(){var e=this;this.span.textContent.length>0&&(this.hiding&&(this.hiding=!1,this.getLayout().classList.remove("hide")),t.prototype.display.call(this),this.getLayout().classList.add("show"),this.hideAfter=Date.now()+this.delay,setTimeout((function(){e.hideAfter<=Date.now()&&!e.hiding&&(e.hiding=!0,e.getLayout().classList.remove("show"),e.getLayout().classList.add("hide"),setTimeout((function(){e.hiding&&(e.hide(),e.getLayout().classList.remove("hide"))}),Um))}),this.delay+zm))},e}(Zu),Wm=Vm,Hm="no-scroll-toast",Ym=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gm=function(t){function e(e){var n=t.call(this)||this;return n.widgetName=Hm,n.sliceService=vc.sliceService,n.i18n=vc.i18n,n.init(e),n}return Ym(e,t),e.prototype.createWidget=function(t){return new Wm},e.prototype.subscribe=function(){var t=this;return[{from:this.sliceService,name:Er,action:function(e){var n=e.seriesId,r=e.reason,o=t.getWidgetBySeriesId(n);null!==o&&(o.setText(t.i18n.translate(r)),o.show())}}]},e}(Gu),$m=Gm;function Xm(){var t=window.navigator.userAgent,e=t.indexOf("MSIE");return e>0?parseInt(t.substring(e+5,t.indexOf(".",e))):navigator.userAgent.match(/Trident\/7\./)?11:0}function Km(){return Xm()>0}function qm(){return navigator.appVersion.includes("iPad")||navigator.appVersion.includes("iPhone")?fm.IOS:navigator.appVersion.includes("Android")?fm.ANDROID:fm.UNKNOWN}(function(t){t["IOS"]="ios",t["ANDROID"]="android",t["UNKNOWN"]="unknown"})(fm||(fm={}));var Zm=document.createElement("canvas"),Jm=null;function Qm(){return null===Jm&&(Jm=document.createElement("div"),document.body.appendChild(Jm),Jm.style.setProperty("visibility","hidden"),Jm.style.setProperty("position","absolute"),Jm.style.setProperty("top","-100vh")),Jm}function tg(t,e){if(void 0===e&&(e="16px times"),Km()){var n=Qm();return n.innerText=t,n.clientWidth}var r=Zm.getContext("2d");if(null!==r){r.font=e;var o=r.measureText(t);return Math.ceil(o.width)}throw new TypeError("context is null")}n("53cf");var eg='.875rem "Open Sans:bold", sans-serif',ng=40,rg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),og=function(t){function e(e,n){var r=t.call(this,"No option was found with ".concat(JSON.stringify(e),', existing values are "').concat(JSON.stringify(n),'".'))||this;return r.name="OptionNotFoundException",r}return rg(e,t),e}(Error),ig=og,ag=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sg=function(t){function e(n){var r=t.call(this,e.className)||this;return r.cellService=vc.cellService,r.cellId=n,r.init(),r}return ag(e,t),e.prototype.init=function(){this.select=document.createElement("select"),this.select.classList.add(e.className),this.select.addEventListener("change",this.onChange.bind(this)),this.getLayout().appendChild(this.select)},e.prototype.addOption=function(t){var e=this.makeOptionElement(t);this.select.add(e,t.index)},e.prototype.makeOptionElement=function(t){var n=document.createElement("option");return n.value=t.seriesId,n.text=t.seriesName,n.id=this.getNamespacedSeriesId(t.seriesId),n.setAttribute("name",t.seriesId),n.classList.add("".concat(e.className,"__option")),n},e.prototype.getNamespacedSeriesId=function(t){return"".concat(this.cellId,"-").concat(t)},e.prototype.onChange=function(){this.cellService.bindSeriesToCell(this.select.value,this.cellId)},e.prototype.selectOption=function(t){this.select.value=t,this.refreshWidgetWidth(this.getOptionElementBySeriesId(t))},e.prototype.selectOptionByIndex=function(t){var e=this.getOptionElementByIndex(t);this.select.value=e.value,this.refreshWidgetWidth(e)},e.prototype.refreshWidgetWidth=function(t){var e=tg(t.text,eg);this.getLayout().style.width="".concat(e+ng,"px")},e.prototype.bindSeriesAtIndex=function(t,e){var n=this.getOptionElementByIndex(t);n.value=e.getId(),n.setAttribute("name",e.getId()),n.text=e.name},e.prototype.removeOptionBySeriesId=function(t){var e=this.getOptionElementBySeriesId(t);this.select.remove(e.index)},e.prototype.setOptionSeriesName=function(t,e){var n=this.select.item(t);null!==n&&(n.text=e,this.select.value===n.value&&this.refreshWidgetWidth(n))},e.prototype.findOptionIndexBySeriesId=function(t){var e,n,r=null!==(n=null===(e=this.getOptionElementBySeriesId(t))||void 0===e?void 0:e.index)&&void 0!==n?n:null;if(null===r)throw new ig({seriesId:t},this.getOptions());return r},e.prototype.getOptionElementByIndex=function(t){var e=this.select.item(t);if(null===e)throw new ig({index:t},this.getOptions());return e},e.prototype.getOptionElementBySeriesId=function(t){var e=this.select.namedItem(this.getNamespacedSeriesId(t));if(null===e)throw new ig({seriesId:t},this.getOptions());return e},e.prototype.setOptionSeriesId=function(t,e){var n=this.getOptionElementByIndex(t);n.value=e,n.setAttribute("name",e)},e.prototype.getOptions=function(){return Array.from(this.select.options).map((function(t){return t.value}))},e.className="series-selector",e}(Zu),cg=sg,ug=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lg=function(t){function e(e){var n=t.call(this,'No Widget is attached to the series with id "'.concat(e,'"'))||this;return n.name="WidgetNotFoundException",n}return ug(e,t),e}(Error),fg=lg,pg="series-selector",dg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hg=function(t){function e(e){var n=t.call(this)||this;return n.widgetName=pg,n.seriesService=vc.seriesService,n.init(e),n}return dg(e,t),e.prototype.createWidget=function(t){return new cg(t.getId())},e.prototype.subscribe=function(){var t=this;return[{from:this.seriesService,name:H,action:function(e){var n=e.seriesId;t.getWidgets().forEach((function(e){var r=t.seriesService.findById(n);if(null===r)throw new Sc('Series with id "'.concat(n,'" not found.'));e.addOption({seriesId:n,seriesName:r.name,index:r.sortOrder})}))}},{from:this.cellService,name:ni,action:function(e){var n=e.seriesId,r=e.cellId,o=t.getWidgetByCellId(r);if(null===o)throw new fg(n);o.selectOption(n)}},{from:this.seriesService,name:G,action:function(e){var n=e.seriesId;t.getWidgets().forEach((function(t){t.removeOptionBySeriesId(n)}))}},{from:this.seriesService,name:Z,action:function(e){var n=e.min,r=e.max;t.getVisibleWidgets().forEach((function(e,o){for(var i=n;i<=r;i++){var a=t.seriesService.getSeriesByIndex(i);e.bindSeriesAtIndex(i,a)}var s=t.cellService.getSeriesIdByCellId(o);if(null===s)throw new B(s);e.selectOptionByIndex(t.seriesService.getSeriesIndex(s))}))}},{from:this.seriesService,name:q,action:function(e){var n=e.seriesId,r=e.name;t.getWidgets().forEach((function(t){var e=t.findOptionIndexBySeriesId(n);t.setOptionSeriesName(e,r)}))}}]},e}(Gu),yg=hg,vg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mg=function(t){function e(){var e=t.call(this)||this;return e.dragOverClass="drag-over",e.thumbDraggingInProcess=!1,e.cellService=vc.cellService,e.cellService.getAllCells().forEach((function(t,n){var r=t.getContainer();r.addEventListener("drop",(function(t){return e.onDrop(t,n)})),r.addEventListener("dragover",(function(t){return e.onDragEnter(t,n)})),r.addEventListener("dragleave",(function(t){return e.onDragLeave(t,n)}))})),e}return vg(e,t),e.prototype.onDrop=function(t,e){if(this.thumbDraggingInProcess){this.unsetBackGround(e);var n=JSON.parse(t.dataTransfer.getData("application/json")),r=this.cellService.getCellById(e),o=this.cellService.getCellIdBySeriesId(n.seriesId);if(-1!==o&&null===r.getSeriesId())return;this.cellService.bindSeriesToCell(n.seriesId,e),r.getContainer().classList.remove(this.dragOverClass),this.cellService.focusCellAtIndex(e),this.thumbDraggingInProcess=!1}},e.prototype.onDragEnter=function(t,e){t.dataTransfer.types.includes("application/json")&&(this.thumbDraggingInProcess=!0,this.setBackGround(e))},e.prototype.onDragLeave=function(t,e){this.cellService.getCellById(e).getContainer().classList.remove(this.dragOverClass),this.unsetBackGround(e),this.thumbDraggingInProcess=!1},e.prototype.setBackGround=function(t){var e=this.cellService.getCellById(t),n=e.getContainer();if(!n.classList.contains(this.dragOverClass)){var r=window.getComputedStyle(e.getMainCanvas().canvasTag);n.style.setProperty("background-image","url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='%233DA8FE11' rx='4' ry='4' stroke='".concat(r.borderTopColor,"' stroke-width='3px' stroke-dasharray='6%2c 10' stroke-dashoffset='0' stroke-linecap='butt'/%3e%3c/svg%3e\")")),n.classList.add(this.dragOverClass)}},e.prototype.unsetBackGround=function(t){this.cellService.getCellById(t).getContainer().style.removeProperty("background-image")},e}(l["Feature"]),gg=mg,bg=function(){function t(){}return t}(),wg=bg,_g=function(){function t(){this.collided=null}return t.prototype.getCollidedResizer=function(){return this.collided},t.prototype.hasCollision=function(){return null!==this.collided},t.prototype.setCollision=function(t){this.collided=t},t}(),Sg=_g,Og=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ig=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eg=function(t){function e(e){var n=t.call(this,ge("resizer-provider"))||this;return n.resizerList=[],n.selectedResizer=null,n.annotation=e,n.subscribe(e,gt,(function(t){var r,o,i=t.sliceIndex,a=n.resizerList;try{for(var s=Ig(a),c=s.next();!c.done;c=s.next()){var u=c.value;u.update(e.getCoordinatesAt(i))}}catch(l){r={error:l}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}})),n}return Og(e,t),e.prototype.getResizers=function(){return this.resizerList},e.prototype.addResizer=function(t){return this.resizerList.push(t),this},e.prototype.checkCollisionWithResizers=function(t,e,n,r){var o,i;void 0===n&&(n=5);var a=new Sg;if(!this.annotation.isAvailableForSliceIndex(t))return a;try{for(var s=Ig(this.resizerList),c=s.next();!c.done;c=s.next()){var u=c.value;if(u.checkCollision(e.x,e.y,n,r))return a.setCollision(u),a}}catch(l){o={error:l}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return a},e.prototype.selectResizer=function(t){this.selectedResizer=t,this.selectedResizer.select()},e.prototype.unselectResizer=function(){var t;null===(t=this.selectedResizer)||void 0===t||t.unselect(),this.selectedResizer=null},e.prototype.getSelectedResizer=function(){return this.selectedResizer},e}(At["Subscriber"]),Cg=Eg,xg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ag=function(t){function e(e,n,r){var o=t.call(this,'The annotation with id "'.concat(e,'" was expected to be a "').concat(n,'", was "').concat(r,'".'))||this;return o.name="InvalidAnnotationException",o}return xg(e,t),e}(Error),Pg=Ag,Tg=function(){return Tg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Tg.apply(this,arguments)},jg=function(){function t(){this.annotationType=qc}return t.prototype.match=function(t){return t.getType()===qc},t.prototype.generate=function(t,e){if(!this.match(t))throw new Pg(t.getId(),this.annotationType,t.getType());var n={radius:3,color:t.getColor(),style:{cursor:{hover:he.HOVER_RESIZER,selected:he.SELECT_RESIZER}}};return new Cg(t).addResizer(new yu(Tg({name:"top",update:function(t,e){t.setCoords(e.getStartX(),e.getStartY())},resize:function(t,e,n){n.updateCoords({startX:t,startY:e})},x:null===e||void 0===e?void 0:e.startX,y:null===e||void 0===e?void 0:e.startY},n))).addResizer(new yu(Tg({name:"bottom",update:function(t,e){t.setCoords(e.getEndX(),e.getEndY())},resize:function(t,e,n){n.updateCoords({endX:t,endY:e})},x:null===e||void 0===e?void 0:e.endX,y:null===e||void 0===e?void 0:e.endY},n)))},t}(),Dg=jg;function kg(t,e,n,r){var o=(t-1)*(2*ls+fs),i={x:e.x-o/2+o*n,y:e.y+ps};return l["Geometry"].rotatePointAroundCenter(e.x,e.y,i.x,i.y,r)}var Lg='<svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\r\n<path d="M9.96875 10.5625C10.383 10.5625 10.7188 10.8983 10.7188 11.3125V15.8125C10.7187 16.2267 10.383 16.5625 9.96875 16.5625C9.55454 16.5625 9.21875 16.2267 9.21875 15.8125V11.3125C9.21875 10.8983 9.55454 10.5625 9.96875 10.5625Z"/>\r\n<path d="M14.7188 11.3125C14.7188 10.8983 14.383 10.5625 13.9688 10.5625C13.5545 10.5625 13.2188 10.8983 13.2188 11.3125V15.8125C13.2188 16.2267 13.5545 16.5625 13.9688 16.5625C14.383 16.5625 14.7188 16.2267 14.7188 15.8125V11.3125Z"/>\r\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8.33333 6L8.65197 4.56614C8.85532 3.65106 9.66695 3 10.6043 3H13.3957C14.3331 3 15.1447 3.65106 15.348 4.56614L15.6667 6H19.25C19.6642 6 20 6.33579 20 6.75C20 7.16421 19.6642 7.5 19.25 7.5H18.25V18.3438C18.25 19.8625 17.0188 21.0938 15.5 21.0938H8.5C6.98122 21.0938 5.75 19.8625 5.75 18.3438V7.5H4.75C4.33579 7.5 4 7.16421 4 6.75C4 6.33579 4.33579 6 4.75 6H8.33333ZM10.6043 4.5H13.3957C13.63 4.5 13.8329 4.66277 13.8838 4.89153L14.1301 6H9.86992L10.1163 4.89153C10.1671 4.66277 10.37 4.5 10.6043 4.5ZM7.25 7.53125V18.3438C7.25 19.0341 7.80964 19.5938 8.5 19.5938H15.5C16.1904 19.5938 16.75 19.0341 16.75 18.3438V7.53125H7.25Z"/>\r\n</svg>\r\n',Rg=(n("5b81"),new DOMParser);function Mg(t){return new Promise((function(e){var n,r=new Image,o=Rg.parseFromString(t,"text/html").querySelector("svg"),i=o.viewBox.baseVal;o.setAttribute("width",i.width.toString()),o.setAttribute("height",i.height.toString()),r.onload=function(){e(r)};var a=null!==(n=o.outerHTML)&&void 0!==n?n:(new XMLSerializer).serializeToString(o);r.src="data:image/svg+xml,".concat(encodeURI(a).replaceAll("#","%23"))}))}function Bg(t,e,n,r,o,i){t.drawImage(e,n,r,o,i)}var Ng=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fg=function(t){function e(){var e=t.call(this)||this;return e.resizableDecorator=vc.resizableDecorator,e.movableDecorator=vc.movableDecorator,e.selectableDecorator=vc.selectableDecorator,e.annotationService=vc.annotationService,e.resizableDecorator.addResizerGenerator(new Dg),e.initTrashButton(),e}return Ng(e,t),e.prototype.initTrashButton=function(){var t=this;this.selectableDecorator.addResource({id:qc,getButtonPosition:function(t,e,n,r){var o=r(t.getCenterX(),t.getCenterY());return kg(n,o,e,t.getRotation())}});var e=Lg.replace("currentColor","#000000");Mg(e).then((function(e){t.buttonList=[{index:1,icon:e,onClick:function(e){t.annotationService.removeById(e)},checkCollision:function(t,e){return l["Geometry"].getDistanceBetween2XY(t.x,t.y,e.x,e.y)<=ls}}]}))},e.prototype.create=function(t,e){var n=new cu,r=new wu;return r.updateCoords(e),n.setCoordinatesAt(t,r),n.getAnimation().setSliceIndex(t),this.movableDecorator.apply(n),this.resizableDecorator.apply(n,e),this.selectableDecorator.setButtonList(this.buttonList),this.selectableDecorator.apply(n),n},e}(wg),Ug=Fg,zg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vg=function(t){function e(e,n){var r=t.call(this,e)||this;return r.annotationFactory=n,r.annotationService=vc.annotationService,r.seriesService=vc.seriesService,r.pointerService=vc.pointerService,r.cellService=vc.cellService,r.sliceService=vc.sliceService,r.interactionService=vc.interactionService,r.subscriber=new At["Subscriber"](ge("draw-annotation-interaction-subscriber")),r}return zg(e,t),e.prototype.getSeriesId=function(){return this.cellService.getSeriesIdByCellId(this.getCellId())},e.prototype.getSliceIndex=function(){var t=this.getSeriesId();if(null===t)throw new Sc('No series found with id "null".');return this.sliceService.getSliceIndex(t)},e.prototype.createAnnotation=function(t,e,n){if(null===this.seriesService.findById(t))throw new B(t);var r=this.annotationFactory.create(e,n);return this.annotationService.addAnnotation(r,t),r},e.prototype.onMouseMove=function(t){var e=this.getSeriesId();if(null!==e){var n=this.getSliceIndex(),r=La(this.pointerService.getCoords(),this.cellService.getCellById(this.getCellId())),o=this.generateBaseCoordinates(r),i=this.createAnnotation(e,n,o);this.launchAnnotationInteraction(i,t)}},e}(kn),Wg=Vg,Hg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yg=function(t){function e(){return t.call(this,e.interactionName,new Ug)||this}return Hg(e,t),e.prototype.createAnnotation=function(e,n,r){var o=t.prototype.createAnnotation.call(this,e,n,r);return this.interactionService.addResource(o.getInteraction(),o.getInteraction().getId()),this.annotationService.setHovered(o.getId()),o},e.prototype.generateBaseCoordinates=function(t){return{startX:t.x,startY:t.y,endX:t.x,endY:t.y}},e.prototype.onMouseMove=function(t){var e=this.getSeriesId();if(null!==e){var n=this.getSliceIndex(),r=La(this.pointerService.getCoords(),this.cellService.getCellById(this.getCellId())),o={startX:r.x,startY:r.y,endX:r.x,endY:r.y},i=this.createAnnotation(e,n,o);this.launchAnnotationInteraction(i,t)}},e.prototype.launchAnnotationInteraction=function(t,e){var n=this;this.interactionService.select(t.getInteraction().getId()),this.interactionService.startInteraction(e,this.getCellId()),this.subscriber.waitUntil([{from:t.getInteraction(),name:Se}]).then((function(){t.isLengthValid(n.getSliceIndex())||n.annotationService.removeById(t.getId())}))},e.prototype.getCursorName=function(){return In.MEASURE},e.interactionName=un.MEASURE.RULER,e}(Wg),Gg=Yg,$g=function(){return $g=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},$g.apply(this,arguments)},Xg=function(){function t(){this.annotationType=Vv}return t.prototype.match=function(t){return t.getType()===Vv},t.prototype.generate=function(t,e){if(!this.match(t))throw new Pg(t.getId(),this.annotationType,t.getType());var n={radius:3,color:t.getColor(),style:{cursor:{hover:he.HOVER_RESIZER,selected:he.SELECT_RESIZER}}};return new Cg(t).addResizer(new yu($g({name:"first-line-start",update:function(t,e){t.setCoords(e.getFirstLine().getStartX(),e.getFirstLine().getStartY())},resize:function(t,e,n){n.updateCoords({firstLine:{startX:t,startY:e}})},x:e.firstLine.startX,y:e.firstLine.startY},n))).addResizer(new yu($g({name:"first-line-end",update:function(t,e){t.setCoords(e.getFirstLine().getEndX(),e.getFirstLine().getEndY())},resize:function(t,e,n){n.updateCoords({firstLine:{endX:t,endY:e}})},x:e.firstLine.endX,y:e.firstLine.endY},n))).addResizer(new yu($g({name:"second-line-start",update:function(t,e){t.setCoords(e.getSecondLine().getStartX(),e.getSecondLine().getStartY())},resize:function(t,e,n){n.updateCoords({secondLine:{startX:t,startY:e}})},x:e.secondLine.startX,y:e.secondLine.startY},n))).addResizer(new yu($g({name:"second-line-end",update:function(t,e){t.setCoords(e.getSecondLine().getEndX(),e.getSecondLine().getEndY())},resize:function(t,e,n){n.updateCoords({secondLine:{endX:t,endY:e}})},x:e.secondLine.endX,y:e.secondLine.endY},n)))},t}(),Kg=Xg,qg=function(){function t(){this.resizableDecorator=vc.resizableDecorator,this.selectableDecorator=vc.selectableDecorator,this.annotationService=vc.annotationService,this.resizableDecorator.addResizerGenerator(new Kg),this.initTrashButton()}return t.prototype.initTrashButton=function(){var t=this;this.selectableDecorator.addResource({id:Vv,getButtonPosition:function(t,e,n,r){var o=r(zt(t.getFirstLine().getStartX(),t.getSecondLine().getStartX(),.5),zt(t.getFirstLine().getStartY(),t.getSecondLine().getStartY(),.5));return kg(n,o,e,0)}});var e=Lg.replace("currentColor","#000000");Mg(e).then((function(e){t.buttonList=[{index:1,icon:e,onClick:function(e){t.annotationService.removeById(e)},checkCollision:function(t,e){return l["Geometry"].getDistanceBetween2XY(t.x,t.y,e.x,e.y)<=ls}}]}))},t.prototype.create=function(t,e){var n=new om;return n.setCoordinatesAt(t,(new Zv).updateCoords(e)),n.getAnimation().setSliceIndex(t),this.resizableDecorator.apply(n,e),this.selectableDecorator.setButtonList(this.buttonList),this.selectableDecorator.apply(n),n},t}(),Zg=qg,Jg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qg=function(t){function e(){var n=t.call(this,e.interactionName,new Zg)||this;return n.currentAnnotation=null,n.agent=new l["SmartComponent"]({_id:ge(e.interactionName)}),n.agent.subscribe(n.annotationService,yt,(function(t){var e,r=t.annotationId;(null===(e=n.currentAnnotation)||void 0===e?void 0:e.getId())===r&&(n.currentAnnotation=null)})),n.agent.subscribe(n.sliceService,wr,(function(){null!==n.currentAnnotation&&n.annotationService.removeById(n.currentAnnotation.getId())})),n.agent.subscribe(n.interactionService,_e,(function(t){var e=t.interactionName;null!==n.currentAnnotation&&e!==n.getId()&&e!==n.currentAnnotation.getInteraction().getId()&&n.annotationService.removeById(n.currentAnnotation.getId())})),n}return Jg(e,t),e.prototype.generateBaseCoordinates=function(t){return{firstLine:{startX:t.x,startY:t.y,endX:t.x,endY:t.y},secondLine:{startX:t.x,startY:t.y,endX:t.x,endY:t.y}}},e.prototype.launchAnnotationInteraction=function(t,e){this.currentAnnotation=t,this.interactionService.addResource(t.getInteraction(),t.getInteraction().getId()),this.interactionService.startInteraction(e,this.getCellId()),this.annotationService.setHovered(t.getId())},e.prototype.onMouseMove=function(e){if(null===this.currentAnnotation)t.prototype.onMouseMove.call(this,e);else{var n=this.getSliceIndex(),r=this.currentAnnotation.getCoordinatesAt(n),o=La(this.pointerService.getCoords(),this.cellService.getCellById(this.getCellId()));r.getSecondLine().updateCoords({startX:o.x,startY:o.y,endX:o.x,endY:o.y}),this.currentAnnotation.setCoordinatesAt(n,r),this.currentAnnotation.getInteraction().start(e,this.getCellId()),this.annotationService.setHovered(this.currentAnnotation.getId()),this.currentAnnotation=null}},e.prototype.onMouseUp=function(e){null!==this.currentAnnotation?this.currentAnnotation.getInteraction().onMouseUp(e):t.prototype.onMouseUp.call(this,e)},e.interactionName=un.MEASURE.PROTRACTOR,e}(Wg),tb=Qg,eb=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nb=function(t){function e(){return t.call(this)||this}return eb(e,t),e.prototype.onInit=function(){this.initRuler(),this.initProtractor(),t.prototype.onInit.call(this)},e.prototype.initProtractor=function(){var t=new tb;this.addInteraction(t),this.interactionService.addFallbackInteraction(t.getId())},e.prototype.initRuler=function(){var t=new Gg;this.addInteraction(t),this.interactionService.addFallbackInteraction(t.getId())},e}(Ny),rb=nb,ob="PLANE_INTERSECTION_UPDATED",ib=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ab=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},sb=function(t){function e(){var e=t.call(this)||this;return e.seriesService=vc.seriesService,e.sliceService=vc.sliceService,e.cellService=vc.cellService,e.planeService=vc.planeSeriesService,e.imageService=vc.imageService,e.init(),e}return ib(e,t),e.prototype.setPlaneToSlice=function(t,e){var n=ab(ea(this.seriesService,t,e),3),r=n[0],o=n[1],i=n[2];this.planeService.hasSeriesPlane(t)||this.planeService.addPlane(new Xc,t),this.planeService.updateCoordinates(t,r,o,i)},e.prototype.refreshPlaneRelations=function(t){var e=this;if(this.planeService.hasSeriesPlane(t)){var n=this.planeService.getPlaneIdBySeriesId(t);this.planeService.clearIndexes(n),this.cellService.getSeriesVisible().forEach((function(r){e.shouldCheckIntersection(t,r)&&e.planeService.checkIntersection(n,e.planeService.getPlaneIdBySeriesId(r))})),this.planeService.publish(ob,{seriesId:t})}},e.prototype.shouldCheckIntersection=function(t,e){return e!==t&&this.cellService.isSeriesVisible(e)&&this.havePlane(t,e)},e.prototype.havePlane=function(t,e){return this.planeService.hasSeriesPlane(t)&&this.planeService.hasSeriesPlane(e)},e.prototype.refreshAllPlanesRelations=function(){var t=this;this.cellService.getSeriesVisible().forEach((function(e){return t.refreshPlaneRelations(e)}))},e.prototype.subscribe=function(t){var e=this;return void 0===t&&(t=this.agent),[{from:this.cellService,name:[ni,ri,Qo],action:function(){e.refreshAllPlanesRelations()}},{from:this.imageService,name:zo,action:function(t){var n=t.seriesId;e.planeService.hasSeriesPlane(n)&&(e.setPlaneToSlice(n,e.sliceService.getSliceIndex(n)),e.refreshAllPlanesRelations())}},{from:this.seriesService,name:H,action:function(t){var n=t.seriesId,r=new Xc;e.planeService.addPlane(r,n)}},{from:this.seriesService,name:G,action:function(t){var n=t.seriesId,r=e.planeService.getPlaneIdBySeriesId(n);e.planeService.removeById(r)}}]},e}(Wu),cb=sb,ub=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lb=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},fb=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},pb=function(t){function e(){var e=t.call(this)||this;return e.isLinkingEnabled=!1,e.seriesLinkedId=[],e.cellService=vc.cellService,e.planeService=vc.planeSeriesService,e.seriesService=vc.seriesService,e.sliceService=vc.sliceService,e.planeService.addResource(new Xc,ph),e.init(),e}return ub(e,t),e.prototype.subscribe=function(t){var e=this;return void 0===t&&(t=this.agent),[{from:this.cellService,name:ei,action:function(t){var n=t.cellId,r=e.cellService.getCellById(n).getSeriesId();if(null===r)throw new Sc('No series bound to cell "'.concat(n,'".'));e.mainSeriesId=r}},{from:this.sliceService,name:wr,action:function(t){var n=t.seriesId;if(n===e.mainSeriesId){var r=e.planeService.getPlaneIdBySeriesId(e.mainSeriesId),o=e.planeService.findById(r);null!==o&&e.refreshLinking(o)}}}]},e.prototype.enableLinking=function(){this.isLinkingEnabled=!0},e.prototype.disableLinking=function(){this.isLinkingEnabled=!1},e.prototype.getIPPAsVec3=function(){var t=this.sliceService.getSlice(this.mainSeriesId,this.sliceService.getSliceIndex(this.mainSeriesId)).ipp;return l["Vec3"].getOne(t.x,t.y,t.z)},e.prototype.isCandidateForLinkWithMainSeries=function(t){var e=this.planeService.findById(ph);return t!==this.mainSeriesId&&null!==e&&Kc(t,this.sliceService.getSlice(t,0))},e.prototype.refreshLinking=function(t){var e=this;this.clearLinks();var n=this.getIPPAsVec3(),r=l["Vec3"].getOne(0,0,0);this.cellService.getSeriesVisible().forEach((function(o){if(e.isCandidateForLinkWithMainSeries(o)){for(var i=-1,a=Number.POSITIVE_INFINITY,s=e.planeService.findById(ph),c=e.sliceService.getNbSlices(o),u=0;u<c;u++){s.set.apply(s,fb([],lb(ea(e.seriesService,o,u)),!1));var l=t.getIntersectionWith(s);if(null===l){var f=e.sliceService.getSlice(o,u).ipp;r.set(f.x,f.y,f.z);var p=n.distance(r);p<a&&(a=p,i=u)}else na(l)}i>=0&&e.addLink(o,i)}})),Wt(n,r)},e.prototype.clearLinks=function(){this.seriesLinkedId=[],this.seriesService.publish(dh.LINK_ALL_REMOVED)},e.prototype.addLink=function(t,e){this.isLinkingEnabled&&this.sliceService.setSliceIndex(t,e),this.seriesLinkedId.push(t),this.seriesService.publish(dh.LINK_ADDED,{numberOfLinks:this.seriesLinkedId.length})},e.prototype.hasLinkedSeries=function(){return this.seriesLinkedId.length>0},e}(Wu),db=pb,hb=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yb=function(t){function e(){var e=t.call(this)||this;return e.widgetService=vc.widgetService,e.cellService=vc.cellService,e.init(),e}return hb(e,t),e.prototype.subscribe=function(){var t=this;return[{from:this.cellService,name:ni,action:function(e){var n=e.seriesId,r=e.cellId,o=t.widgetService.getWidgetsByCellId(r);o.forEach((function(t){t.setSeriesId(n),t.display()}))}},{from:this.cellService,name:oi,action:function(e){var n=e.cellId;t.widgetService.getWidgetsByCellId(n).forEach((function(t){return t.hide()}))}}]},e}(Wu),vb=yb,mb=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gb=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},bb=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},wb=function(t){function e(e){var n=t.call(this)||this;return n.viewer=e,n.seriesService=vc.seriesService,n.cellService=vc.cellService,n.init(e),n}return mb(e,t),e.prototype.subscribe=function(t){var e=this;return[{from:this.seriesService,name:H,action:function(){return gb(e,void 0,Promise,(function(){var t=this;return bb(this,(function(e){return setTimeout((function(){t.viewer.firstInteractionWasPerformed||t.cellService.getAllCells().forEach((function(e,n){t.cellService.isVisibleCell(e.getId())&&n<t.seriesService.getNumberOfResources()&&t.cellService.bindSeriesToCell(t.seriesService.getSeriesByIndex(n).getId(),e.getId())}))}),1),[2]}))}))}}]},e}(Wu),_b=wb,Sb=(n("3abf"),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Ob=function(t){function e(){var e=t.call(this,"ww-indicator")||this;return e.imageService=vc.imageService,e.setLabel("WW:"),e.setValue("0"),e}return Sb(e,t),e.prototype.onBlur=function(){var t=this.imageService.getImageBySeriesId(this.getSeriesId()),e=parseInt(this.getValue(),10);t instanceof py&&t.setWindowing(t.getWindowCenter(),isNaN(e)?0:e)},e}(mm),Ib=Ob,Eb=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cb=function(t){function e(){var e=t.call(this,"wl-indicator")||this;return e.imageService=vc.imageService,e.setLabel("WL:"),e.setValue("0"),e}return Eb(e,t),e.prototype.onBlur=function(){var t=this.imageService.getImageBySeriesId(this.getSeriesId());if(t instanceof py){var e=parseInt(this.getValue(),10);t.setWindowing(isNaN(e)?0:e,t.getWindowWidth())}},e}(mm),xb=Cb,Ab=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pb=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Tb=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},jb=function(t){function e(){return t.call(this,"contrast-picker")||this}return Ab(e,t),e.prototype.initLayout=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.prototype.initLayout.apply(this,Tb([],Pb(e),!1)),this.windowWidthComponent=new Ib,this.windowLevelComponent=new xb,this.windowWidthComponent.mount(this.getLayout()),this.windowLevelComponent.mount(this.getLayout())},e.prototype.getWindowLevelComponent=function(){return this.windowLevelComponent},e.prototype.getWindowWidthComponent=function(){return this.windowWidthComponent},e.prototype.setSeriesId=function(e){t.prototype.setSeriesId.call(this,e),this.windowWidthComponent.setSeriesId(e),this.windowLevelComponent.setSeriesId(e)},e.prototype.setWindowing=function(t,e){this.getWindowWidthComponent().setValue(t.toString()),this.getWindowLevelComponent().setValue(e.toString())},e.prototype.display=function(){t.prototype.display.call(this),this.windowLevelComponent.display(),this.windowWidthComponent.display()},e.prototype.hide=function(){t.prototype.hide.call(this),this.windowLevelComponent.hide(),this.windowWidthComponent.hide()},e}(Zu),Db=jb,kb=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lb=function(t){function e(e){var n=t.call(this)||this;return n.widgetName="contrast-picker",n.imageService=vc.imageService,n.init(e),n}return kb(e,t),e.prototype.createWidget=function(t){return new Db},e.prototype.refreshWidget=function(t){if(this.imageService.hasImage(t.getSeriesId())){var e=this.imageService.getImageBySeriesId(t.getSeriesId());e instanceof py?(t.setWindowing(e.getWindowWidth(),e.getWindowCenter()),t.display()):t.hide()}else t.hide()},e.prototype.subscribe=function(){var t=this;return[{from:this.cellService,name:Qo,action:function(){t.getVisibleWidgets().forEach((function(e){t.refreshWidget(e)}))}},{from:this.imageService,name:Wo,action:function(e){var n=e.imageId,r=t.imageService.getSeriesIdByImageId(n),o=t.getWidgetBySeriesId(r);if(null===o)throw new fg(r);o.isVisible()&&t.refreshWidget(o)}},{from:this.cellService,name:ni,action:function(e){var n=e.cellId;t.refreshWidget(t.getWidgetByCellId(n))}},{from:this.imageService,name:zo,action:function(e){var n=e.seriesId,r=t.getWidgetBySeriesId(n);null!==r&&t.refreshWidget(r)}}]},e}(Gu),Rb=Lb,Mb=n("5257"),Bb=n.n(Mb),Nb=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fb=function(t){function e(e){var n=t.call(this,e)||this;return n.name="FeedbackIssueException",n}return Nb(e,t),e}(Error),Ub=Fb,zb=n("9562"),Vb=n.n(zb),Wb=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hb=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Yb=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Gb=function(t){function e(e){var n=t.call(this)||this;return n.viewer=e,n.sliceProvider=vc.sliceFileProvider,n.sliceService=vc.sliceService,n}return Wb(e,t),e.prototype.start=function(t){var e;return Hb(this,void 0,Promise,(function(){return Yb(this,(function(n){switch(n.label){case 0:if((null===(e=this.sliceProvider.getFileContainer(t))||void 0===e?void 0:e.getImageFormat())!==no.DICOM)throw new Ub("mpr.feedback.only_dicom_is_allowed");if(this.sliceService.getNbSlices(t)<=1)throw new Ub("mpr.feedback.min_slice_exception");return null!==Bb.a.INSTANCE?[3,2]:[4,this.createMPR(t)];case 1:return n.sent(),[3,3];case 2:this.launchMPR(t),n.label=3;case 3:return[2]}}))}))},e.prototype.createMPR=function(t){return Hb(this,void 0,Promise,(function(){var e,n=this;return Yb(this,(function(r){switch(r.label){case 0:return[4,Bb.a.create("mpr-container")];case 1:return e=r.sent(),Bb.a.INSTANCE=e,this.viewer.get("isFullScreen")&&(this.viewer.behave("toggleFullScreen"),e.toggleFullscreen()),e.addButton({group:"interaction",name:"back",class:"button-img ",title:"back to 2D",elt:"img",click:function(){e.domContainer.classList.add("imaios-hidden"),n.viewer.getApplicationContainer().classList.remove("imaios-hidden"),Array.from(document.querySelectorAll(".ecases-widget")).forEach((function(t){t.classList.remove("mpr-force-hidden")})),e.isFullscreen&&(e.toggleFullscreen(),n.viewer.behave("toggleFullScreen"))},active:Vb.a,inactive:Vb.a,hover:Vb.a}),this.launchMPR(t),[2]}}))}))},e.prototype.launchMPR=function(t){var e=Bb.a.INSTANCE;e.domContainer.classList.contains("imaios-hidden")&&(this.viewer.getApplicationContainer().classList.add("imaios-hidden"),e.domContainer.classList.remove("imaios-hidden")),Array.from(document.querySelectorAll(".ecases-widget")).forEach((function(t){t.classList.add("mpr-force-hidden")})),e.start(Object.values(this.sliceProvider.getFileContainer(t).getContent()),{local:!0,type:"dicom"})},e}(Wu),$b=Gb,Xb=[80,75,3,4],Kb=[45,45,45,45,45,45,87,101,98,75,105,116,70,111,114,109,66,111,117,110,100,97,114,121],qb=n("c4e3"),Zb=n.n(qb);function Jb(t,e){for(var n=Array.from(t),r=[],o=0;o<n.length;o+=e)r.push(n.slice(o,o+e));return r}function Qb(t){return t.length>0?t.reduce((function(t,e){return t.concat(e)}),[]):[]}function tw(t,e){return t.length===e}function ew(t){for(var e=[],n=Object.keys(t),r=t[n[0]].length,o=function(r){var o={};n.forEach((function(e){o[e]=t[e][r]})),e.push(o)},i=0;i<r;i++)o(i);return e}function nw(t){var e={};return t.forEach((function(t,n){Object.keys(t).forEach((function(r){r in e||(e[r]=[]),e[r][n]=t[r]}))})),e}function rw(t){return new Set(t).size<=1}function ow(t,e){for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}var iw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aw=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},sw=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},cw=function(t){function e(){var e=t.call(this,"zip-file-handler")||this;return e.priority=0,e.id="zip",e}return iw(e,t),e.prototype.canHandleBuffer=function(t){return this.checkBufferSignature(t)},e.prototype.checkBufferSignature=function(t){return ow(t,Xb)||ow(t,Kb)},e.prototype.loadFromBuffer=function(t,e){var n=this;return Zb.a.loadAsync(t).then((function(t){return aw(n,void 0,void 0,(function(){var n,r,o,i;return sw(this,(function(a){switch(a.label){case 0:return n=Object.keys(t.files).filter((function(e){return!t.files[e].dir})),r=n.map((function(n,r){return new Promise((function(o){var i;null===(i=t.file(n))||void 0===i||i.async("uint8array").then((function(t){o({buffer:t,fileName:"".concat(e.fileName,"/").concat(n),fileIndex:r})}))}))})),[4,Promise.all(r)];case 1:return o=a.sent().sort((function(t,e){return t.fileIndex-e.fileIndex})),i={content:o.map((function(t){return t.buffer})),hasCompletedHandling:!1,fileName:o.map((function(t){return t.fileName}))},this.publish(Rs,{result:i,context:e}),[2]}}))}))}))},e.prototype.getSupportedMimeTypes=function(){return["application/zip"]},e}(Tn),uw=cw,lw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fw=function(t){function e(){var e=t.call(this)||this;return e.fileHandlerService=vc.fileHandlerService,e.fileHandlerService.addResource(new uw,"zip"),e}return lw(e,t),e}(l["Feature"]),pw=fw,dw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hw=function(t){function e(e){var n=t.call(this)||this;return n.viewer=e,n.interactionService=vc.interactionService,n.init(),n}return dw(e,t),e.prototype.subscribe=function(t){var e=this;return void 0===t&&(t=this.agent),[{from:this.interactionService,name:we,action:function(t){var n=t.interactionName;e.viewer.setCursorIconMode(e.interactionService.findById(n).getCursorName())}},{from:this.interactionService,name:_e,action:function(t){var n=t.interactionName;e.updateCursorWithInteraction(n)}},{from:this.interactionService,name:Se,action:function(t){var n=t.interactionName;e.updateCursorWithInteraction(n)}}]},e.prototype.updateCursorWithInteraction=function(t){var e=this.interactionService.findById(t);null!==e&&this.viewer.setCursorIconMode(e.getCursorName())},e}(Wu),yw=hw,vw=(n("70b0"),"series-name"),mw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gw=function(t){function e(){var n=t.call(this,e.className)||this;return n.init(),n}return mw(e,t),e.prototype.init=function(){this.element=document.createElement("span"),this.element.classList.add(e.className),this.getLayout().appendChild(this.element)},e.prototype.setSeriesName=function(t){this.element.innerText=t},e.className=vw,e}(Zu),bw=gw,ww=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_w=function(t){function e(){var e=t.call(this)||this;return e.widgetName=vw,e.seriesService=vc.seriesService,e.init(),e.getWidgets().forEach((function(t){t.disable()})),e}return ww(e,t),e.prototype.createWidget=function(t){return new bw},e.prototype.subscribe=function(){var t=this;return[{from:this.cellService,name:ni,action:function(e){var n=e.seriesId,r=e.cellId;t.getWidgetByCellId(r).setSeriesName(t.seriesService.findById(n).name)}}]},e}(Gu),Sw=_w;n("841c");function Ow(t){return Iw(location.search)[t]}function Iw(t){for(var e=0===t.indexOf("?")?t.slice(1):t,n={},r=e.split("&"),o=0;o<r.length;o++){var i=r[o],a=i.indexOf("=");-1<a?Ew(n,Cw(i.slice(0,a)),Cw(i.slice(a+1))):i&&Ew(n,Cw(i),"")}return n}function Ew(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e].push(n):t[e]=[n],t}function Cw(t){return t.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(function(t){return decodeURIComponent(t)}))}function xw(t,e){if(e.path){var n=Array.isArray(e.path)?e.path:[e.path];n.forEach((function(e){return t="".concat(t,"/").concat(e)}))}return t}function Aw(t,e){if(e.query){var n="";e.query.forEach((function(t){n+="".concat(t[0],"=").concat(t[1])})),t="".concat(t,"?").concat(n)}return t}function Pw(t,e){return e.fragment&&(t="".concat(t,"#").concat(e.fragment)),t}function Tw(t){var e,n="".concat(null!==(e=t.protocol)&&void 0!==e?e:"https","://").concat(t.domain);return n=xw(n,t),n=Aw(n,t),n=Pw(n,t),n}var jw="source",Dw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kw=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},Lw=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Rw=function(t){function e(e){var n=t.call(this)||this;return n.viewer=e,n.fileHandlerService=vc.fileHandlerService,n.loadingTopic=vc.topic.loading,n.init(),n}return Dw(e,t),e.prototype.subscribe=function(){var t=this;return[{from:this.viewer,name:Oc,action:function(){t.loadFromLocation()}}]},e.prototype.loadFromLocation=function(){return kw(this,void 0,Promise,(function(){var t,e=this;return Lw(this,(function(n){return t=Ow(jw),t&&t.length>0&&t.forEach((function(t){return Hh(t,e.fileHandlerService,e.loadingTopic,{fileName:t,handlingContext:Mh})})),[2]}))}))},e}(Wu),Mw=Rw,Bw=(n("13ec"),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Nw=200,Fw=function(t){function e(e){var n=t.call(this,e)||this;return n.wrapper.style.width="".concat(Nw,"px"),n.wrapper.style.height="".concat(Nw,"px"),n.canvas.width=Nw,n.canvas.height=Nw,n}return Bw(e,t),e.prototype.onSetup=function(e){t.prototype.onSetup.call(this,e),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.wrapper=document.createElement("div"),this.wrapper.classList.add("magnifier-wrapper"),this.wrapper.appendChild(this.canvas);var n=e.container;this.hide(),n.canvasDiv instanceof Element&&n.canvasDiv.appendChild(this.wrapper),!0!==e.enable?this.disable():this.enable()},e.prototype.show=function(){t.prototype.show.call(this,this.wrapper)},e.prototype.hide=function(){t.prototype.hide.call(this,this.wrapper),this.wrapper.style.top="-100px",this.wrapper.style.left="-100px"},e.prototype.render=function(t,e,n,r,o){this.context.fillStyle="#000000",this.context.fillRect(0,0,Nw,Nw),this.context.drawImage(t,r-Nw/4,o-Nw/4,Nw/2,Nw/2,0,0,this.canvas.width,this.canvas.height),this.context.fillStyle="#ff0000",this.context.fillRect(Nw/2-1,Nw/2-1,2,2),this.setPosition(e,n)},e.prototype.isEnabled=function(){return!0===this.data.isEnabled},e.prototype.enable=function(){this.data.isEnabled=!0,this.show()},e.prototype.disable=function(){this.data.isEnabled=!1,this.hide()},e.prototype.setPosition=function(t,e){this.wrapper.style.setProperty("transform","translate(".concat(t,"px, ").concat(e,"px)"))},e}(l["SmartComponent"]),Uw=Fw,zw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vw="magnifier-interaction",Ww=function(t){function e(e){var n=t.call(this,Vw)||this;return n.magnifier=e,n.cellService=vc.cellService,n}return zw(e,t),e.prototype.start=function(e,n){this.seriesId=this.cellService.getSeriesIdByCellId(n),null!==this.seriesId&&t.prototype.start.call(this,e,n)},e.prototype.onStart=function(e){this.magnifier.show(),this.onMouseMove(e),t.prototype.onStart.call(this,e)},e.prototype.onFinish=function(e){this.magnifier.hide(),t.prototype.onFinish.call(this,e)},e.prototype.setCellId=function(e){t.prototype.setCellId.call(this,e),this.getAnimation().setCell(this.getCellId())},e}(kn),Hw=Ww,Yw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gw=function(t){function e(e){var n=t.call(this,"magnifier-animation")||this;return n.cellService=vc.cellService,n.pointerService=vc.pointerService,n.magnifier=e,n}return Yw(e,t),e.prototype.loop=function(e){t.prototype.loop.call(this,e);var n=this.cellService.getCellById(this.cellId),r=n.getContainer().getBoundingClientRect(),o=this.pointerService.getCoords();this.magnifier.render(n.getCanvas(fn).canvasTag,o.x+r.left,o.y+r.top,o.x,o.y)},e.prototype.setCell=function(t){this.cellId=t},e}(Kn),$w=Gw,Xw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kw=function(t){function e(e){var n=t.call(this)||this;n.magnifier=new Uw({container:e,enable:!1}),n.interactionService=vc.interactionService,n.animationService=vc.animationService;var r=new Hw(n.magnifier),o=new $w(n.magnifier);return n.animationService.recordAnimation(o),r.setAnimationItem(o),n.interactionService.addResource(r,Vw),n}return Xw(e,t),e.prototype.disable=function(){t.prototype.disable.call(this),this.magnifier.disable()},e.prototype.enable=function(){t.prototype.enable.call(this),this.magnifier.enable()},e}(l["Feature"]),qw=Kw,Zw=1e6,Jw=-1e6,Qw=10,t_="cross-references",e_=.1,n_=1e3,r_=.5,o_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i_=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},a_=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},s_=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c_=function(t){function e(){var e=t.call(this,"cross-references-animation")||this;return e.seriesToBeDrawnIds=new Set,e.planeService=vc.planeSeriesService,e.cellService=vc.cellService,e.sliceService=vc.sliceService,e}return o_(e,t),e.prototype.addSeriesToDrawId=function(t){this.seriesToBeDrawnIds.add(t)},e.prototype.removeSeriesToDrawId=function(t){this.seriesToBeDrawnIds.delete(t)},e.prototype.renderCrossReferences=function(t){var e=this,n=this.cellService.getCellById(this.cellService.getCellIdBySeriesId(t)),r=this.cellService.getSeriesVisible(),o=[],i=n.getCanvas(t_);i.clearCanvas();var a=this.planeService.getIntersections(this.planeService.getPlaneIdBySeriesId(t)),s=[];Object.keys(a).forEach((function(o){var i=a[o],c=l["Vec3"].getOne().affect(i.intersectionLineDirection2D).multiplyScalar(Zw).add(i.intersection2DPoint),u=l["Vec3"].getOne().affect(i.intersectionLineDirection2D).multiplyScalar(Jw).add(i.intersection2DPoint),f=r.find((function(t){return e.planeService.getPlaneIdBySeriesId(t)===o})),p=new l["Line"](u.copy(!0).round(n_),c.copy(!0).round(n_),e.cellService.getCellColor(e.cellService.getCellIdBySeriesId(f)));u.recycle(),c.recycle(),e.transformCrossReferenceLineCoordinateFromImageCanvas(p,t,n),s.push(p)}));var c=0,u=this.cellService.getSeriesVisible().length-1,f=s,p=[],d=new Set;while(f.length>0&&c<u){for(var h=0;h<f.length;h++)for(var y=f[h],v=0;v<f.length;v++){var m=f[v],g=this.searchIntersection(y,m,n);if(null!==g){var b=i_(this.splitLine(y,g),2),w=b[0],_=b[1];p.push(w,_),d.add(h)}}for(h=0;h<f.length;h++)d.has(h)?f[h].recycle():o.push(f[h]);f=a_([],i_(p),!1),p=[],d.clear(),c++}o.forEach((function(t){i.drawLine(t),t.recycle()}))},e.prototype.transformCrossReferenceLineCoordinateFromImageCanvas=function(t,e,n){var r=this.sliceService.getCurrentSlice(e).pixelSpacing,o=1/r.x,i=1/r.y;t.a.scale(o,i);var a=Ra({x:t.a.getX(),y:t.a.getY()},n);t.a.set(a.x,a.y,0),t.b.scale(o,i);var s=Ra({x:t.b.getX(),y:t.b.getY()},n);t.b.set(s.x,s.y,0)},e.prototype.searchIntersection=function(t,e,n){var r=t.getDirection(!0),o=e.getDirection(!0),i=r.angle(o);if(r.recycle(),o.recycle(),t.color===e.color||isNaN(i)||Math.abs(i%Math.PI)<e_)return null;var a=t.getIntersectionWith(e),s=n.getMainCanvas();return null!==a&&this.isLineIntersectionOnEdges(a,t,e)&&this.isIntersectionVisibleOnCanvas(a,s)?a:null},e.prototype.isLineIntersectionOnEdges=function(t,e,n){return t.distance(e.a)<e.a.distance(e.b)&&t.distance(n.a)<n.a.distance(n.b)},e.prototype.isIntersectionVisibleOnCanvas=function(t,e){return t.getX()>0&&t.getY()>0&&t.getY()<e.getCanvasHeight()&&t.getX()<e.getCanvasWidth()},e.prototype.splitLine=function(t,e){var n=t.getDirection(!0),r=l["Vec3"].getOne().affect(n).multiplyScalar(-Qw).add(e),o=l["Vec3"].getOne().affect(n).multiplyScalar(Qw).add(e);n.recycle();var i=new l["Line"](t.a.copy(),r,t.color),a=new l["Line"](o,t.b.copy(),t.color);return[i,a]},e.prototype.loop=function(e){var n,r;try{for(var o=s_(this.seriesToBeDrawnIds),i=o.next();!i.done;i=o.next()){var a=i.value;this.renderCrossReferences(a)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}this.seriesToBeDrawnIds.clear(),t.prototype.loop.call(this,e)},e}(Kn),u_=c_,l_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f_=function(t){function e(){var e=t.call(this)||this;return e.seriesBlackListed=new Set,e.animation=new u_,e.disable(),e.planeService=vc.planeSeriesService,e.cellService=vc.cellService,e.interactionService=vc.interactionService,e.animationService=vc.animationService,e.animationService.recordAnimation(e.animation),e.addCRCanvas(),e.setOpacity(r_),e}return l_(e,t),e.prototype.shouldBeProcessed=function(t){return!this.seriesBlackListed.has(t)},e.prototype.draw=function(t){this.shouldBeProcessed(t)&&(this.animation.addSeriesToDrawId(t),this.animationService.trigger(this.animation.getId()))},e.prototype.addCRCanvas=function(){this.cellService.getAllCells().forEach((function(t){var e=t.getContainer(),n=wi(e);n.canvasTag.parentElement.classList.add("additional-imaios-canvas"),t.setCanvas(t_,n)}))},e.prototype.setOpacity=function(t){var e=this;this.opacity=t,this.cellService.getAllCells().forEach((function(t){t.getCanvas(t_).getContainer().style.setProperty("opacity",e.opacity.toString())}))},e.prototype.disable=function(){var e;t.prototype.disable.call(this),null===(e=this.cellService)||void 0===e||e.getAllCells().forEach((function(t){t.getCanvas(t_).clearCanvas()}))},e.prototype.enable=function(){var e,n=this;t.prototype.enable.call(this),null===(e=this.cellService)||void 0===e||e.getSeriesVisible().forEach((function(t){n.draw(t)}))},e.prototype.subscribe=function(t){var e=this;return void 0===t&&(t=this.agent),[{from:this.planeService,name:ob,action:function(t){var n=t.seriesId;e.cellService.isSeriesVisible(n)&&e.draw(n)}},{from:this.cellService,name:ri,action:function(t){var n=t.seriesId;e.animation.removeSeriesToDrawId(n)}},{from:this.interactionService,name:[_e,we],action:function(t){var n=t.interactionName,r=e.interactionService.findById(n);if(n!==un.DEFAULT.PAN&&n!==un.DEFAULT.ZOOM&&n!==un.DEFAULT.CONTRAST&&r.isRunning()){var o=e.cellService.getCellById(r.getCellId());o.getCanvas(t_).clearCanvas(),e.seriesBlackListed.add(o.getSeriesId())}}},{from:this.interactionService,name:[Ch,xh],action:function(){var t=e.interactionService.getCurrentResource(),n=e.cellService.getCellById(t.getCellId());e.draw(n.getSeriesId())}},{from:this.interactionService,name:Se,action:function(t){var n=t.interactionName,r=e.interactionService.getCurrentResource();if(null===r||!1===r.isRunning()){e.seriesBlackListed.clear();var o=e.interactionService.findById(n);if(null!==o.getCellId()){var i=e.cellService.getCellById(o.getCellId());e.draw(i.getSeriesId())}}}}]},e}(Wu),p_=f_,d_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h_=function(t){function e(e,n){var r=t.call(this,'No builder exist for the combination of file type "'.concat(e,'" and context "').concat(n,'".'))||this;return r.name="NoBuilderAvailableException",r}return d_(e,t),e}(Error),y_=h_,v_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mapping={},e}return v_(e,t),e.prototype.createSeries=function(t,e,n){return this.getBuilder(t,e).build(n)},e.prototype.getBuilder=function(t,n){var r=e.getMappingKey(t,n),o=this.mapping[r];if("undefined"===typeof o)throw new y_(t,n);return this.resourceCollection[o]},e.getMappingKey=function(t,e){return"".concat(t,":").concat(e)},e.prototype.addMapping=function(t,n,r){this.mapping[e.getMappingKey(t,n)]=r},e}(O),g_=m_,b_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w_=function(t){function e(e){var n=t.call(this)||this;return n.viewer=e,vc.seriesBuilderService=new g_,n.seriesBuilderService=vc.seriesBuilderService,n.fileHandlerService=vc.fileHandlerService,n.seriesService=vc.seriesService,n.sliceFileProvider=vc.sliceFileProvider,n.seriesWhitelistService=vc.seriesWhitelistService,n.init(),n}return b_(e,t),e.prototype.subscribe=function(){var t=this;return[{from:this.fileHandlerService,name:Ls,action:function(e){try{var n=t.seriesBuilderService.createSeries(e.fileHandler,e.context.handlingContext,e);t.seriesWhitelistService.isSeriesWhitelisted(n.seriesId)&&(t.seriesService.isAvailable(n.seriesId)?t.sliceFileProvider.load(n.seriesId,n.filesList[0]):t.viewer.createSeries(n))}catch(r){console.error(r),t.viewer.notifyError(r,!0)}}}]},e}(Wu),__=w_,S_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O_=function(){return O_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},O_.apply(this,arguments)},I_=function(t){function e(){var e=t.call(this,{_id:"variation-service"})||this;return e.unprocessableVariationsBySeriesId={},e}return S_(e,t),e.prototype.applyTransformations=function(t){var e=Object.values(this.resourceCollection).filter((function(e){return e.match(t)})).reduce((function(t,e){return e.apply(t)}),t);return this.unprocessableVariationsBySeriesId[t.id]&&(t.variations=O_(O_({},t.variations),this.unprocessableVariationsBySeriesId[t.id])),e},e.prototype.removeTransformations=function(t){var e=Object.values(this.resourceCollection).filter((function(e){return e.isApplied(t)})).reduce((function(e,n){return n.remove(t)}),t);return"undefined"!==typeof t.variations&&(this.unprocessableVariationsBySeriesId[t.id]=t.variations),e},e}(O),E_=I_,C_=function(){function t(t){this.id=t}return t.prototype.saveData=function(t,e){return"variations"in t||(t.variations={}),t.variations[this.id]=e,t},t.prototype.removeData=function(t){var e;return null===(e=null===t||void 0===t?void 0:t.variations)||void 0===e||delete e[this.id],t.variations&&0===Object.keys(t.variations).length&&delete t.variations,t},t}(),x_=C_;function A_(t){return A_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A_(t)}function P_(t,e){var n,r;void 0===e&&(e=T_);var o=[];t.forEach((function(t,n){var r=o.find((function(n){return e(t,n.value)}));r?r.indexes.push(n):o.push({value:t,indexes:[n]})})),o.sort((function(t,e){return e.indexes.length-t.indexes.length}));var i=null!==(r=null===(n=o.shift())||void 0===n?void 0:n.value)&&void 0!==r?r:null,a={},s=!1;return o.length>0?o.forEach((function(t){t.indexes.forEach((function(e){a[e]=t.value}))})):s=!0,{default:i,overrides:s?null:a}}function T_(t,e){return"object"===A_(t)||"object"===A_(t)?JSON.stringify(t)===JSON.stringify(e):t===e}function j_(t,e,n){return Array.from({length:n}).map((function(n,r){var o;return null!==(o=null===e||void 0===e?void 0:e[r])&&void 0!==o?o:t}))}var D_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k_=function(t){function e(){var e=t.call(this,"pixel_spacing_override")||this;return e.id="pixel_spacing_override",e}return D_(e,t),e.prototype.apply=function(t){var e=t.data.pixelSpacing,n=e.map(Object.values),r=P_(n);return null!==r.default&&(t.data.pixel_spacing=r.default),delete t.data.pixelSpacing,delete t.data.pixelWidth,delete t.data.pixelHeight,null!==r.overrides?this.saveData(t,r.overrides):t},e.prototype.isApplied=function(t){return t.variations&&this.id in(null===t||void 0===t?void 0:t.variations)||Array.isArray(t.data.pixel_spacing)&&"number"===typeof t.data.pixel_spacing[0]},e.prototype.match=function(t){return Array.isArray(t.data.pixelSpacing)&&!Array.isArray(t.data.pixelSpacing[0])},e.prototype.remove=function(t){var e,n,r=j_(t.data.pixel_spacing,null===(e=t.variations)||void 0===e?void 0:e[this.id],null!==(n=t.data.number_of_frames)&&void 0!==n?n:1);return t.data.pixelWidth=[],t.data.pixelHeight=[],t.data.pixelSpacing=r.map((function(e){return t.data.pixelWidth.push(e[0]),t.data.pixelHeight.push(e[1]),{x:e[0],y:e[1]}})),this.removeData(t)},e}(x_),L_=k_,R_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M_=function(t){function e(){var e=t.call(this,"windowing_override")||this;return e.propertyName="windowing_override",e}return R_(e,t),e.prototype.apply=function(t){for(var e=[],n=0;n<t.data.tags.length;n++)e[n]=[t.data.tags[n].window_center,t.data.tags[n].window_width],delete t.data.tags[n].window_center,delete t.data.tags[n].window_width;var r=P_(e);return null!==r.default&&(t.data.windowing=r.default),null!==r.overrides&&this.saveData(t,r.overrides),t},e.prototype.isApplied=function(t){var e,n,r;return("undefined"!==typeof t.data[this.propertyName]||"undefined"!==typeof(null===(e=t.variations)||void 0===e?void 0:e[this.id]))&&"undefined"===typeof(null===(n=t.data.tags)||void 0===n?void 0:n.window_center)&&"undefined"===typeof(null===(r=t.data.tags)||void 0===r?void 0:r.window_width)},e.prototype.match=function(t){return t.data.tags.some((function(t){return"undefined"!==typeof t.window_center}))},e.prototype.remove=function(t){var e,n,r,o,i=j_(t.data.windowing,null===(e=t.variations)||void 0===e?void 0:e[this.id],null!==(n=t.data.number_of_frames)&&void 0!==n?n:1),a=null!==(r=t.data.tags)&&void 0!==r?r:Array.from({length:null!==(o=t.data.number_of_frames)&&void 0!==o?o:1},(function(){return{}}));return i.forEach((function(t){a.window_center=t[0],a.window_width=t[1]})),t},e}(x_),B_=M_,N_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function F_(t,e,n){var r;return delete Object.assign(t,(r={},r[n]=t[e],r))[e],t}var U_,z_=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.sourceKeyName=n,o.outputKeyName=r,o}return N_(e,t),e.prototype.apply=function(t){return F_(t.data,this.sourceKeyName,this.outputKeyName),t},e.prototype.remove=function(t){return F_(t.data,this.outputKeyName,this.sourceKeyName),t},e.prototype.isApplied=function(t){return this.outputKeyName in t.data},e.prototype.match=function(t){return this.sourceKeyName in t.data},e}(x_),V_=z_,W_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H_=function(t){function e(e,n,r){return void 0===r&&(r=n),t.call(this,e,n,r)||this}return W_(e,t),e.prototype.apply=function(e){var n=new Set(e.data[this.sourceKeyName]);return n.size>1&&console.warn('Series "'.concat(e.id,'" has more than one "').concat(this.sourceKeyName,'", using the first encountered value. Values are : ').concat(Array.from(n))),e.data[this.sourceKeyName]=e.data[this.sourceKeyName][0],t.prototype.apply.call(this,e)},e.prototype.remove=function(e){var n;return e.data[this.outputKeyName]=new Array(null!==(n=e.data.number_of_frames)&&void 0!==n?n:1).fill(e.data[this.outputKeyName]),t.prototype.remove.call(this,e)},e.prototype.isApplied=function(e){return t.prototype.isApplied.call(this,e)&&!Array.isArray(e.data[this.outputKeyName])},e.prototype.match=function(e){return t.prototype.match.call(this,e)&&Array.isArray(e.data[this.sourceKeyName])},e}(V_),Y_=H_,G_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$_=function(t){function e(){var e=t.call(this,"image_position_patient_override")||this;return e.id="image_position_patient_override",e}return G_(e,t),e.prototype.apply=function(t){var e=t.data.ipp;return t.data.image_position_patient=Qb(e.map((function(t){return Object.values(t)}))),delete t.data.ipp,t},e.prototype.isApplied=function(t){return Array.isArray(t.data.image_position_patient)&&t.data.image_position_patient.length%3===0},e.prototype.match=function(t){return Array.isArray(t.data.ipp)},e.prototype.remove=function(t){return t.data.ipp=Jb(t.data.image_position_patient,3).map((function(t){return{x:t[0],y:t[1],z:t[2]}})),delete t.data.image_position_patient,t},e}(x_),X_=$_,K_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q_=function(t){function e(e,n){var r=t.call(this,e)||this;return r.sourceKeyName=n,r}return K_(e,t),e.prototype.apply=function(t){return delete t.data[this.sourceKeyName],t},e.prototype.isApplied=function(t){return!(this.sourceKeyName in t.data)},e.prototype.match=function(t){return this.sourceKeyName in t.data},e.prototype.remove=function(t){return t},e}(x_),Z_=q_,J_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q_=function(t){function e(){var e=t.call(this,"image_orientation_patient_override")||this;return e.id="image_orientation_patient_override",e}return J_(e,t),e.prototype.apply=function(t){var e=t.data.iop,n=e.map((function(t){return Object.values(t)})),r=P_(n);return t.data.image_orientation_patient=r.default,delete t.data.iop,null!==r.overrides?this.saveData(t,r.overrides):t},e.prototype.isApplied=function(t){return t.variations&&this.id in t.variations||"undefined"!==typeof t.data.image_orientation_patient&&!Array.isArray(t.data.image_orientation_patient[0])},e.prototype.match=function(t){return Array.isArray(t.data.iop)},e.prototype.remove=function(t){var e,n,r=j_(t.data.image_orientation_patient,null===(e=t.variations)||void 0===e?void 0:e[this.id],null!==(n=t.data.number_of_frames)&&void 0!==n?n:1);return t.data.iop=r.map((function(t){return{xx:t[0],xy:t[1],xz:t[2],yx:t[3],yy:t[4],yz:t[5]}})),this.removeData(t)},e}(x_),tS=Q_,eS=(n("8a79"),n("c1f9"),function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}),nS={x0020000d:"study_instance_uid",x00080020:"study_date",x00081030:"study_description",x0020000e:"series_instance_uid",x00200011:"series_number",x0008103e:"series_description",x00080060:"modality",x00280004:"photometric_interpretation",x00180086:"echo_numbers",x00189087:"diffusion_b_value",x00209162:"in_concatenation_number",x00120010:"clinical_trial_sponsor_name",x00100020:"patient_id",x00100010:"patient_name",x00020010:"transfer_syntax_uid",x00200013:"instance_number",x00280103:"pixel_representation",x00280106:"smallest_image_pixel_value",x00280107:"largest_image_pixel_value",x00280120:"pixel_padding_value",x00280010:"rows",x00280011:"columns",x00280002:"samples_per_pixel",x00280100:"bits_allocated",x00280101:"bits_stored",x00280008:"number_of_frames",x7FE00001:"extended_offset_table",x7FE00010:"pixel_data",x00286010:"representative_frame_number",x00209113:"plane_position_sequence",x00289132:"frame_voi_lut_sequence",x00289110:"pixel_measures_sequence",x00289145:"pixel_value_transformation_sequence",x00209116:"plane_orientation_sequence",x00281051:"window_width",x00281050:"window_center",x00281052:"rescale_intercept",x00281053:"rescale_slope"},rS=Object.fromEntries(Object.entries(nS).map((function(t){var e=eS(t,2),n=e[0],r=e[1];return[r,n]}))),oS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iS=function(t){function e(e){return t.call(this,e)||this}return oS(e,t),e.prototype.apply=function(t){var n=nw(t.data.tags);return Object.keys(n).forEach((function(r){e.addTagOverride(t,r,n[r])})),delete t.data.tags,t},e.prototype.isApplied=function(t){var e=t.variations;return"undefined"!==typeof e&&Object.keys(rS).some((function(t){return"".concat(t,"_override")in e}))},e.prototype.match=function(t){return t.data.tags&&Array.isArray(t.data.tags)},e.prototype.remove=function(t){return"undefined"!==typeof t.variations&&Object.keys(t.variations).filter((function(t){return t.endsWith("_override")})).forEach((function(n){var r=n.replace("_override","");rS[r]&&e.removeTagOverride(t,r,rS[r])})),t},e.addTagOverride=function(t,e,n){var r=P_(n);null!==r.overrides&&("undefined"===typeof t.variations&&(t.variations={}),t.variations["".concat(e,"_override")]=r.overrides),null!==r.default&&(t.data[e]=r.default)},e.removeTagOverride=function(t,e,n){var r,o,i,a=null===(r=t.variations)||void 0===r?void 0:r["".concat(e,"_override")];"undefined"!==typeof a&&("undefined"===typeof t.data.tags&&(t.data.tags={}),t.data.tags[n]=j_(t.data[e],a,null!==(o=t.data.number_of_frames)&&void 0!==o?o:1),null===(i=t.variations)||void 0===i||delete i["".concat(e,"_override")])},e}(x_),aS=iS,sS=[new X_,new tS,new V_("slice-uid","sliceUID","slice_uid_index"),new Y_("study-uid","studyUID","study_uid"),new Y_("acquisition-number","acquisitionNumber","acquisition_number"),new Y_("series-uid","seriesUID","series_uid"),new L_,new Z_("slice-offset","sliceOffset"),new Z_("id","id"),new B_,new aS("dicom-tags")],cS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uS=function(t){function e(){var e=t.call(this)||this;return vc.propertyTransformerService=new E_,e.propertyTransformerService=vc.propertyTransformerService,e.initTransformers(sS),e}return cS(e,t),e.prototype.initTransformers=function(t){var e=this;t.forEach((function(t){e.propertyTransformerService.addResource(t)}))},e}(l["Feature"]),lS=uS,fS=new zy("idle-interaction-animation"),pS=fS,dS=function(){function t(){this.id=ge("free-form-point")}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.setX=function(t){this.x=t},t.prototype.setY=function(t){this.y=t},t}(),hS=dS;(function(t){t["init"]="init",t["recycle"]="recycle"})(U_||(U_={}));var yS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vS=function(t){function e(e,n){var r=t.call(this,'Expected an object with constructor "'.concat(e,'", got "').concat(n,'" instead.'))||this;return r.name="IncompatibleObjectPoolException",r}return yS(e,t),e}(Error),mS=vS,gS=function(){return gS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},gS.apply(this,arguments)},bS=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},wS=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},_S=function(){function t(t,e){void 0===e&&(e=0),this.hooks={},this.debug={nbGetOne:0,nbItemConstructorCall:0,maxAvailableInstances:0,nbRecycle:0},this.availablePool=[],this.itemConstructor=t;for(var n=0;n<e;n++)this.availablePool.push(this.generateNewItem())}return t.prototype.generateNewItem=function(){return this.debug.nbItemConstructorCall++,new this.itemConstructor},t.prototype.getOne=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.availablePool.pop();this.debug.nbGetOne++,"undefined"===typeof n&&(n=this.generateNewItem());var r=this.hooks[U_.init];return"function"===typeof r&&t&&r.apply(void 0,wS([n],bS(t),!1)),n},t.prototype.recycle=function(t){if(!(t instanceof this.itemConstructor))throw new mS(this.itemConstructor.name,t.constructor.name);var e=this.hooks[U_.recycle];e&&e(t),this.availablePool.push(t),this.debug.nbRecycle++,this.debug.maxAvailableInstances=Math.max(this.debug.maxAvailableInstances,this.availablePool.length)},t.prototype.recycleMultiple=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++)this.recycle(t[n])},t.prototype.setOnRecycle=function(t){return this.setLifeCycleHook(U_.recycle,t)},t.prototype.setOnInit=function(t){return this.setLifeCycleHook(U_.init,t)},t.prototype.removeLifeCycleHook=function(t){return delete this.hooks[t],this},t.prototype.setLifeCycleHook=function(t,e){return this.hooks[t]=e,this},t.prototype.getStats=function(){return gS(gS({},this.debug),{currentlyAvailable:this.availablePool.length})},t}(),SS=_S,OS=new SS(hS).setOnInit((function(t,e,n){return t.setX(e),t.setY(n),t})),IS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ES=function(t){function e(e){var n=t.call(this,'Point with id "'.concat(e,'" already exists in point collection.'))||this;return n.name="PointAlreadyExistsException",n}return IS(e,t),e}(Error),CS=ES,xS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),AS=function(t){function e(e,n){return void 0===n&&(n=""),t.call(this,"Not implemented: the member ".concat(e," is not yet implemented and should not be used. ").concat(n))||this}return xS(e,t),e}(Error),PS=AS,TS=document.createElement("canvas").getContext("2d");function jS(t,e,n,r){return TS.isPointInPath(t,e,n,r)}function DS(t,e){var n=l["Geometry"].rotatePointAroundCenter(e.getCenterX(),e.getCenterY(),t.x,t.y,-e.getRotation()),r=n.x,o=n.y;return{x:(r-(e.getCenterX()-e.getHalfWidth()))/(2*e.getHalfWidth()),y:(o-(e.getCenterY()-e.getHalfHeight()))/(2*e.getHalfHeight())}}function kS(t,e){var n=t.x*(2*e.getHalfWidth())+(e.getCenterX()-e.getHalfWidth()),r=t.y*(2*e.getHalfHeight())+(e.getCenterY()-e.getHalfHeight());return l["Geometry"].rotatePointAroundCenter(e.getCenterX(),e.getCenterY(),n,r,e.getRotation())}var LS=function(){function t(t,e,n,r,o){this.centerX=0,this.centerY=0,this.halfWidth=0,this.halfHeight=0,this.rotation=0,this.centerX=t,this.centerY=e,this.halfWidth=n,this.halfHeight=r,this.rotation=o}return t.prototype.setHalfHeight=function(t){this.halfHeight=t},t.prototype.getHalfHeight=function(){return this.halfHeight},t.prototype.setHalfWidth=function(t){this.halfWidth=t},t.prototype.getHalfWidth=function(){return this.halfWidth},t.prototype.getCenterX=function(){return this.centerX},t.prototype.setCenterX=function(t){this.centerX=t},t.prototype.getCenterY=function(){return this.centerY},t.prototype.setCenterY=function(t){this.centerY=t},t.prototype.getRotation=function(){return this.rotation},t.prototype.setRotation=function(t){this.rotation=t},t.prototype.getTopLeft=function(){return l["Geometry"].rotatePointAroundCenter(this.centerX,this.centerY,this.centerX-this.halfWidth,this.centerY-this.halfHeight,this.rotation)},t.prototype.getTopRight=function(){return l["Geometry"].rotatePointAroundCenter(this.centerX,this.centerY,this.centerX+this.halfWidth,this.centerY-this.halfHeight,this.rotation)},t.prototype.getBottomRight=function(){return l["Geometry"].rotatePointAroundCenter(this.centerX,this.centerY,this.centerX+this.halfWidth,this.centerY+this.halfHeight,this.rotation)},t.prototype.getBottomLeft=function(){return l["Geometry"].rotatePointAroundCenter(this.centerX,this.centerY,this.centerX-this.halfWidth,this.centerY+this.halfHeight,this.rotation)},t.prototype.checkCollision=function(t){var e=l["Geometry"].rotatePointAroundCenter(this.centerX,this.centerY,t.x,t.y,-this.rotation);return this.centerX-this.halfWidth<e.x&&this.centerX+this.halfWidth>e.x&&this.centerY-this.halfHeight<e.y&&this.centerY+this.halfHeight>e.y},t}(),RS=LS,MS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BS=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},NS=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},FS=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this,e)||this;return n.pointCollection=[],n.length=null,n.winding=null,n.rotation=0,n.path=null,n.boundingBox=null,n}return MS(e,t),e.prototype.addPointAtIndex=function(t,e){if(this.pointCollection.includes(t))throw new CS([t.getX(),t.getY()].toString());return this.pointCollection.splice(e,0,t),this.markComputedPropertiesForRecalculation(),this},e.prototype.pushPoint=function(t){return this.pointCollection.push(t),this.markComputedPropertiesForRecalculation(),this},e.prototype.clone=function(){var t=new e;return this.pointCollection.forEach((function(e,n){t.addPointAtIndex(OS.getOne(e.getX(),e.getY()),n)})),t},e.prototype.getArea=function(){throw new PS("FreeFormCoordinate.getArea")},e.prototype.getPointAtParameter=function(t){if(!(0<=t&&t<=1))throw new RangeError("Point parameter should be between 0 and 1 included");if(0===t){var e=this.pointCollection[0];return{x:e.getX(),y:e.getY()}}if(1===t){e=this.pointCollection[this.pointCollection.length-1];return{x:e.getX(),y:e.getY()}}return this.getInterpolatedPointAtParameter(t)},e.prototype.getInterpolatedPointAtParameter=function(t){for(var e,n,r,o=this.getLength(),i=0,a=1;a<this.pointCollection.length;a++){if(i/o>=t)break;e=this.pointCollection[a],n=this.pointCollection[a-1],r=l["Geometry"].getDistanceBetween2XY(e.getX(),e.getY(),n.getX(),n.getY()),i+=r}var s=i/o-t;return{x:zt(n.getX(),e.getX(),s),y:zt(n.getY(),e.getY(),s)}},e.prototype.sanitize=function(){this.getWinding()<0&&this.flipWinding()},e.prototype.serialize=function(){var t=[];return this.pointCollection.forEach((function(e){t.push(e.getX(),e.getY())})),{points:t}},e.prototype.transfersToCanvasSpace=function(t,n){var r=this.pointCollection.map((function(e){return OS.getOne(Vt(e.getX(),n.width,t.x),Vt(e.getY(),n.height,t.y))}));return e.fromPointCollection(r)},e.prototype.translateBy=function(t){for(var e,n=Object.values(this.pointCollection),r=0;r<n.length;r++)e=n[r],e.setX(e.getX()+t.x),e.setY(e.getY()+t.y);this.markComputedPropertiesForRecalculation()},e.prototype.updateCoords=function(t){var e=this;return"undefined"!==typeof t.points&&t.points.forEach((function(t,n){return e.pointCollection[n]=OS.getOne(t.x,t.y)})),this},e.prototype.destroy=function(){OS.recycleMultiple.apply(OS,NS([],BS(this.pointCollection),!1)),this.pointCollection.length=0},e.prototype.flipWinding=function(){this.pointCollection.reverse(),this.updateWinding()},e.prototype.checkCollision=function(t){return jS(this.getPath(),t.x,t.y,"nonzero")},e.prototype.getPath=function(){return null===this.path?this.updatePath():this.path},e.prototype.updatePath=function(){this.path=new Path2D;var t=this.pointCollection[0];this.path.moveTo(t.getX(),t.getY());for(var e=1;e<this.pointCollection.length;e++)t=this.pointCollection[e],this.path.lineTo(t.getX(),t.getY());return this.path},e.prototype.getRotation=function(){return this.rotation},e.prototype.setRotation=function(t){this.rotation=t,this.boundingBox.setRotation(t)},e.prototype.markComputedPropertiesForRecalculation=function(){this.length=null,this.winding=null,this.boundingBox=null,this.path=null},e.prototype.getLength=function(){return null===this.length?this.updateLength():this.length},e.prototype.updateLength=function(){for(var t,e,n=0,r=this.pointCollection[0],o=1;o<this.pointCollection.length;o++)t=this.pointCollection[o],e=l["Geometry"].getDistanceBetween2XY(t.getX(),t.getY(),r.getX(),r.getY()),n+=e,r=t;return this.length=n,this.length},e.prototype.getWinding=function(){return null===this.winding?this.updateWinding():this.winding},e.prototype.updateWinding=function(){for(var t=0,e=this.pointCollection[0],n=this.pointCollection[1],r=this.pointCollection[2],o=3;o<this.pointCollection.length-1;o++)t+=Math.atan2(r.getY()-e.getY(),r.getX()-e.getX())-Math.atan2(n.getY()-e.getY(),n.getX()-e.getX()),e=n,n=r,r=this.pointCollection[o];return this.winding=t,this.winding},e.prototype.getBoundingBox=function(){return null!==this.boundingBox?this.boundingBox:this.updateBoundingBox()},e.prototype.updateBoundingBox=function(){for(var t,e,n,r=1/0,o=0,i=1/0,a=0,s=0;s<this.pointCollection.length;s++)t=this.pointCollection[s],e=t.getX(),n=t.getY(),r=r<e?r:e,o=e<o?o:e,i=i<n?i:n,a=n<a?a:n;return this.boundingBox=new RS(zt(r,o,.5),zt(i,a,.5),(o-r)/2,(a-i)/2,this.rotation),this.boundingBox},e.prototype.interpolateTo=function(t,n){var r=t.homogenizeOriginPoints(this).getAdaptedPointCollection(this),o=this.clone(),i=o.getAdaptedPointCollection(t);if(o.destroy(),i.length!==r.length)throw new RangeError("Expected both adapted free form coordinates to have the same number of points. Got self=".concat(i.length," and target=").concat(r.length," instead"));var a=i.map((function(t,e){var o=OS.getOne(zt(t.getX(),r[e].getX(),n),zt(t.getY(),r[e].getY(),n));return OS.recycleMultiple(t,r[e]),o}));return e.fromPointCollection(a)},e.prototype.homogenizeOriginPoints=function(t){var e=t.getPointAtParameter(0),n=t.absoluteToLocal(e),r=this.localToAbsolute(n),o=this.pointCollection.indexOf(this.getPointClosestTo(r));return this.clone().setOriginAtIndex(o)},e.prototype.localToAbsolute=function(t){return kS(t,this.getBoundingBox())},e.prototype.absoluteToLocal=function(t){return DS(t,this.getBoundingBox())},e.prototype.getPointClosestTo=function(t){for(var e,n,r,o=Number.POSITIVE_INFINITY,i=0;i<this.pointCollection.length;i++)n=this.pointCollection[i],r=l["Geometry"].getDistanceBetween2XY(t.x,t.y,n.getX(),n.getY()),r<o&&(e=n,o=r);return e},e.prototype.setOriginAtIndex=function(t){return 0!==t&&(this.pointCollection=[].concat(this.pointCollection.slice(0,t),this.pointCollection.slice(t))),this},e.prototype.getAdaptedPointCollection=function(t){var e=this;if(this.pointCollection.length!==t.getNumberOfPoints())return this.pointCollection.map((function(t){return OS.getOne(t.getX(),t.getY())}));for(var n=0,r=this.getLength(),o=[0],i=1;i<this.pointCollection.length;i++){var a=this.pointCollection[i-1],s=this.pointCollection[i];n+=l["Geometry"].getDistanceBetween2XY(a.getX(),a.getY(),s.getX(),s.getY()),o.push(Math.max(0,Math.min(n/r,1)))}var c=t.getPointCollection();r=t.getLength(),n=0;var u=[0];for(i=1;i<c.length;i++){a=c[i-1],s=c[i];n+=l["Geometry"].getDistanceBetween2XY(a.getX(),a.getY(),s.getX(),s.getY()),u.push(Math.max(0,Math.min(n/r,1)))}var f=Array.from(new Set(o.concat(u).sort()));return f.map((function(t){var n=e.getPointAtParameter(t);return OS.getOne(n.x,n.y)}))},e.prototype.getNumberOfPoints=function(){return this.pointCollection.length},e.prototype.getPointCollection=function(){return this.pointCollection},e.fromPointCollection=function(t,n){void 0===n&&(n=!0);var r=new e(n);return t.forEach((function(t,e){r.addPointAtIndex(t,e)})),r},e.prototype.apply=function(t){var e=t.points,n=e.length/2;this.pointCollection=[];for(var r=0;r<n;r++)this.pointCollection.push(OS.getOne(e[r],e[r+1]));return this},e}(Mt),US=FS,zS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VS=function(t){function e(){var e=t.call(this,ge("free-form-interaction"))||this;return e.sliceService=vc.sliceService,e.cellService=vc.cellService,e.pointerService=vc.pointerService,e}return zS(e,t),e.prototype.onMouseMove=function(t){var e=this.getAnimation().getAnnotation(),n=this.sliceService.getSliceIndex(this.cellService.getSeriesIdByCellId(this.getCellId())),r=La(this.pointerService.getCoords(),this.cellService.getCellById(this.getCellId()));e.isAvailableForSliceIndex(n)?e.getCoordinatesAt(n).pushPoint(OS.getOne(r.x,r.y)):e.setCoordinatesAt(n,(new US).pushPoint(OS.getOne(r.x,r.y))),this.getAnimation().getAnnotation().getProxyAnimation().start()},e}(Mn),WS=VS,HS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),YS=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.animationService=vc.animationService,r}return HS(e,t),e.prototype.generateBaseCoordinates=function(t){return{points:[{x:t.x,y:t.y}]}},e.prototype.launchAnnotationInteraction=function(t,e){this.finish(e),this.interactionService.select(t.getInteraction().getId()),this.interactionService.startInteraction(e,this.getCellId())},e.prototype.createAnnotation=function(e,n,r){var o=this,i=t.prototype.createAnnotation.call(this,e,n,r),a=new WS;return a.setAnimationItem(i.getAnimation()),i.setInteraction(a),this.interactionService.addResource(a,a.getId()),this.subscriber.waitUntil([{from:i.getInteraction(),name:Se}]).then((function(){o.interactionService.select(o.getId())})),this.animationService.recordAnimation(i.getAnimation()),i},e.prototype.getFactory=function(){return this.annotationFactory},e}(Wg),GS=YS,$S="free-form",XS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),KS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return XS(e,t),e.prototype.interpolateBetween=function(t,e,n){return t.interpolateTo(e,n)},e.prototype.refreshIndex=function(){this.cachedInterpolatedKeyframeCollection.forEach((function(t){t.destroy()})),t.prototype.refreshIndex.call(this)},e}(Ou),qS=KS,ZS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),JS=function(t){function e(){return t.call(this,ge("free-form-annotation-animation"))||this}return ZS(e,t),e.prototype.loop=function(e){t.prototype.loop.call(this,e);var n=this.getCell(),r=this.getAnnotation(),o=this.getSliceIndex();if(r.isAvailableForSliceIndex(o)){var i=r.getDrawCoords(n,o),a=i.getPointCollection(),s=n.getCanvas(pn).context,c=this.getStyle(),u=c.color,l=c.strokeThickness;s.save(),s.lineCap="round",s.lineJoin="round",s.beginPath(),s.moveTo(a[0].getX(),a[0].getY());for(var f=1;f<a.length;f++)s.lineTo(a[f].getX(),a[f].getY());s.strokeStyle=u,s.lineWidth=l,s.stroke(),s.restore(),i.destroy()}},e}(Qn),QS=JS,tO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eO=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},nO=function(t){function e(){var e=t.call(this)||this;return e.type=$S,e.setKeyframeManager(new qS),e.setAnimation(new QS),e}return tO(e,t),e.prototype.apply=function(t){var e=this;if(this.type!==t.type)throw new ct("serialized","a serialized ".concat(this.type," annotation"),"a serialized ".concat(t.type," annotation"));return this.keyframeManager.getAll().forEach((function(t){var e=eO(t,2),n=(e[0],e[1]);n.destroy()})),this.keyframeManager.removeAll(),Object.entries(t.keyframes).forEach((function(t){var n=eO(t,2),r=n[0],o=n[1];e.keyframeManager.setKeyframeAt((new US).apply(o),Number(r))})),this.setColor(t.style.color),this},e.prototype.checkCollision=function(t,e){var n=this.keyframeManager.getCoordinatesAt(t);return n.checkCollision(e)},e.prototype.pushPointAtSliceIndex=function(t,e){var n=this.keyframeManager.getCoordinatesAt(t).pushPoint(OS.getOne(e.x,e.y));return this.keyframeManager.setKeyframeAt(n,t),this},e.prototype.isLengthValid=function(t){return!!this.isAvailableForSliceIndex(t)&&this.getCoordinatesAt(t).getLength()>=En},e.type=$S,e}(pr),rO=nO,oO=function(){function t(){this.currentColor=Bt[0]}return t.prototype.getColor=function(){return this.currentColor},t.prototype.setColor=function(t){this.currentColor=t},t}(),iO=new oO,aO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sO="presentation-annotation",cO=function(t){function e(){var e=t.call(this)||this;return e.type=sO,e.setKeyframeManager(new re),e.color=iO.getColor(),e}return aO(e,t),e.type=sO,e}(rO),uO=cO,lO={color:Bt[0],fill:Bt[0],fillOpacity:0,strokeStyle:Yt.SOLID,strokeThickness:2},fO=function(){return fO=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},fO.apply(this,arguments)},pO=function(){function t(){this.styleOverride={}}return t.prototype.create=function(t,e){var n=new uO;n.setCoordinatesAt(t,(new US).updateCoords(e));var r=n.getAnimation();return r.setSliceIndex(t),r.addStyleOverride(this.getStyle(),!0),n},t.prototype.addStyleOverride=function(t,e){void 0===e&&(e=!1),this.styleOverride=e?t:fO(fO({},this.styleOverride),t)},t.prototype.getStyle=function(){var t,e,n,r,o;return{strokeStyle:null!==(t=this.styleOverride.strokeStyle)&&void 0!==t?t:lO.strokeStyle,strokeThickness:null!==(e=this.styleOverride.strokeThickness)&&void 0!==e?e:lO.strokeThickness,color:null!==(n=this.styleOverride.color)&&void 0!==n?n:lO.color,fill:null!==(r=this.styleOverride.fill)&&void 0!==r?r:lO.fill,fillOpacity:null!==(o=this.styleOverride.fillOpacity)&&void 0!==o?o:lO.fillOpacity}},t.prototype.clearStyleOverride=function(){this.styleOverride=lO},t}(),dO=pO,hO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yO=function(t){function e(){return t.call(this)||this}return hO(e,t),e.prototype.onInit=function(){this.initFreeFormAnnotationInteraction(),t.prototype.onInit.call(this)},e.prototype.initFreeFormAnnotationInteraction=function(){var t=pS;this.animations.push(t);var e=new GS(un.ANNOTATE.FREE_FORM,new dO);e.setAnimationItem(t),this.addInteraction(e),this.interactionService.addFallbackInteraction(e.getId())},e}(Ny),vO=yO,mO=function(){function t(){}return t.prototype.createImage=function(t){return new Uu},t}(),gO=mO,bO=[255,216,255,219],wO=[255,216,255,224,0,0,74,70,73,70,0,1],_O=[255,216,255,225,0,0,69,120,105,102,0,0],SO=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},OO=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},IO=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EO=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},CO=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};function xO(t){return new Promise((function(e){var n,r,o=[],i=[];try{for(var a=IO(t),s=a.next();!s.done;s=a.next()){var c=s.value;"file"===c.kind&&i.push(AO(kO(c),null,o))}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}Promise.all(i).then((function(){e(o)}))}))}function AO(t,e,n){return void 0===e&&(e=""),new Promise((function(r){PO(t)?t.file((function(t){t.filepath=e||"".concat(t.name),n.push(t),r(t)})):TO(t)&&jO(t.createReader()).then((function(o){var i,a,s=[],c=[];n.push({name:t.name,subfolder:c});try{for(var u=IO(o),l=u.next();!l.done;l=u.next()){var f=l.value;s.push(AO(f,e||"".concat(t.name,"/"),c))}}catch(p){i={error:p}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}r(Promise.all(s))}))}))}function PO(t){return t.isFile}function TO(t){return t.isDirectory}function jO(t){return SO(this,void 0,Promise,(function(){var e,n;return OO(this,(function(r){switch(r.label){case 0:return e=[],[4,DO(t)];case 1:n=r.sent(),r.label=2;case 2:return n.length>0?(e.push.apply(e,CO([],EO(n),!1)),[4,DO(t)]):[3,4];case 3:return n=r.sent(),[3,2];case 4:return[2,e]}}))}))}function DO(t){return SO(this,void 0,Promise,(function(){var e;return OO(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,new Promise((function(e,n){t.readEntries(e,n)}))];case 1:return[2,n.sent()];case 2:return e=n.sent(),console.log(e),[2,Promise.reject()];case 3:return[2]}}))}))}function kO(t){var e;return null!==(e=t.webkitGetAsEntry())&&void 0!==e?e:t.getAsEntry()}function LO(t,e){void 0===e&&(e="");var n=[];return t.forEach((function(t){if("subfolder"in t){var r=LO(t.subfolder,"".concat(e,"/").concat(t.name));n.push.apply(n,CO([],EO(r),!1))}else n.push(new File([t],"".concat(e,"/").concat(t.name),{lastModified:t.lastModified}))})),n}function RO(t,e){return(window.URL||window.webkitURL).createObjectURL(new Blob([t],{type:e}))}var MO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BO=function(t){function e(){var e=t.call(this,"jpeg-file-handler")||this;return e.priority=0,e.id=no.JPG,e.continuePublicationOnException(),e}return MO(e,t),e.prototype.canHandleBuffer=function(t){return this.checkBufferSignature(t)},e.prototype.checkBufferSignature=function(t){for(var e=bO,n=!0,r=wO,o=!0,i=_O,a=!0,s=0;s<e.length;++s)e[s]!==t[s]&&(n=!1),r[s]!==t[s]&&(o=!1),i[s]!==t[s]&&(a=!1);if(n)return!0;if(o||a){for(s=6;s<r.length;++s)r[s]!==t[s]&&(o=!1),i[s]!==t[s]&&(a=!1);return a||o}return!1},e.prototype.loadFromBuffer=function(t,e){var n=this;return new Promise((function(r){var o=e.fileName.split("/").pop().split(".")[0],i=RO(t,"image/jpeg"),a=new Image;a.addEventListener("load",(function(){var t,a,s,c,u,l={content:[{src:i,seriesName:null!==(a=null===(t=e.data)||void 0===t?void 0:t.seriesName)&&void 0!==a?a:o,seriesId:null!==(c=null===(s=e.data)||void 0===s?void 0:s.seriesId)&&void 0!==c?c:o,type:no.JPG,name:e.fileName}],hasCompletedHandling:!0,fileName:[e.fileName]};"undefined"!==typeof(null===(u=e.data)||void 0===u?void 0:u.fileIndex)&&(l.content[0].zipIndex=e.data.fileIndex),n.publish(Ls,{result:l,context:e}),r()}),{once:!0}),a.src=i}))},e.prototype.getSupportedMimeTypes=function(){return["image/jpeg"]},e}(Tn),NO=BO,FO={id:"base-jpeg-series-builder",build:function(t){var e=t.result.content[0];return{name:e.seriesName,seriesId:e.seriesId,filterKey:e.seriesId,filesList:[e],imagesFormat:no.JPG,userCreated:!0}}},UO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zO=function(t){function e(){var e=t.call(this)||this;return e.imageService=vc.imageService,e.imageService.addFactory(no.JPG,new gO),e.fileHandlerService=vc.fileHandlerService,e.fileHandlerService.addResource(new NO,no.JPG),e.seriesBuilderService=vc.seriesBuilderService,e.seriesBuilderService.addResource(FO),e.seriesBuilderService.addMapping(no.JPG,Mh,FO.id),e}return UO(e,t),e}(Wu),VO=zO,WO=[/__MACOSX/,/DICOMDIR/],HO="ignore-files",YO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GO=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$O=function(t){function e(){var e=t.call(this,ge("ignore-file-handler"))||this;return e.id=HO,e.priority=1,e}return YO(e,t),e.prototype.canHandleBuffer=function(t,e){var n,r;try{for(var o=GO(WO),i=o.next();!i.done;i=o.next()){var a=i.value;if(e.match(a))return!0}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.checkBufferSignature=function(t){return!0},e.prototype.loadFromBuffer=function(t,e){return Promise.resolve()},e.prototype.getSupportedMimeTypes=function(){return[]},e}(Tn),XO=$O,KO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qO=function(t){function e(){var e=t.call(this)||this;return e.fileHandlerService=vc.fileHandlerService,e.fileHandlerService.addResource(new XO),e}return KO(e,t),e}(l["Feature"]),ZO=qO,JO=function(){function t(){this.priority=10,this.id="dicom-sort-handler"}return t.prototype.canHandleSliceList=function(t,e){return e===no.DICOM},t.prototype.handleSliceList=function(t,e){return Object.keys(t).sort((function(e,n){var r=t[e],o=t[n];return Number(r.getTagValue("x00200013"))-Number(o.getTagValue("x00200013"))}))},t}(),QO=JO,tI=function(){function t(){this.priority=-10,this.id="file-order-sort-handler"}return t.prototype.canHandleSliceList=function(t,e){return!0},t.prototype.handleSliceList=function(t,e){return Object.keys(t).sort((function(e,n){var r,o;return(null===(r=t[e])||void 0===r?void 0:r.zipIndex)-(null===(o=t[n])||void 0===o?void 0:o.zipIndex)}))},t}(),eI=tI,nI=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},rI=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},oI=function(){function t(){this.priority=0,this.id="legacy-sort-handler"}return t.prototype.canHandleSliceList=function(t,e){try{var n=Object.values(t)[0].name.split("/"),r=n[n.length-1];return!rI([],nI(atob(r)),!1).some((function(t){return t.charCodeAt(0)>127}))}catch(o){return!1}},t.prototype.handleSliceList=function(t,e){return Object.keys(t).sort((function(e,n){var r=t[e].name.split("/"),o=atob(r[r.length-1]),i=t[n].name.split("/"),a=atob(i[i.length-1]);return o.localeCompare(a,void 0,{numeric:!0,sensitivity:"base"})}))},t}(),iI=oI,aI=function(){function t(){this.priority=100,this.id="siemens-dicom-sort-handler"}return t.prototype.canHandleSliceList=function(t,e){var n=e===no.DICOM,r=Object.values(t)[0];if(!n||!(r instanceof Io["DicomFile"]&&"function"===typeof r.getTagValue))return!1;var o=1==r.getTagValue("x00280008");return n&&o},t.prototype.handleSliceList=function(t,e){return Object.keys(t).sort((function(e,n){var r=t[e],o=t[n];return Number(r.getTagValue("x00201041"))-Number(o.getTagValue("x00201041"))}))},t}(),sI=aI,cI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uI=function(t){function e(){var e=t.call(this)||this;return e.sliceSorterService=vc.sliceSorterService,e.sliceSorterService.addResource(new QO),e.sliceSorterService.addResource(new eI),e.sliceSorterService.addResource(new iI),e.sliceSorterService.addResource(new sI),e}return cI(e,t),e}(l["Feature"]),lI=uI;function fI(t){var e=new l["SmartComponent"]({name:"wait-until-".concat(t.map((function(t){return t.name})).join("-and-"))});return new Promise((function(n){Promise.all(t.map((function(t){return new Promise((function(n){e.subscribe(t.from,t.name,n)}))}))).then((function(){try{e.destroy()}catch(t){console.error(t)}n()}))}))}var pI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dI="focus-mode-layout",hI=function(t){function e(){var e=t.call(this)||this;return e.focussedCellId=0,e.nbViews=4,e}return pI(e,t),e.prototype.getLayoutName=function(){return dI},e.prototype.apply=function(t){var e=this.getLayoutName(),n=t[this.focussedCellId];return n.getAllCanvas().forEach((function(t){var n=t.canvasTag.parentNode;n.dataset.mode=e,n.classList.remove("hidden")})),[n]},e.prototype.setFocussedCell=function(t){this.focussedCellId=t},e}(Ce),yI=hI,vI="display-mode-focus-mode",mI={layout:new yI,name:vI,nbCanvas:1,isSelectable:!1},gI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bI=function(t){function e(e){var n=t.call(this)||this;return n.cellService=vc.cellService,n.seriesService=vc.seriesService,n.cellService.addDisplayMode(mI.name,mI),fI([{from:e,name:xc.VIEWER_CREATED}]).then((function(){n.pointerController=e.pointerController,n.init()})),n}return gI(e,t),e.prototype.subscribe=function(){var t=this;return[{from:this.pointerController,name:l["PointerController"].EVENT.DOUBLE_CLICK,action:function(){if(t.isAllowedToTigger())if(t.cellService.getCurrentDisplayMode()!==vI){if(t.cellService.getNbVisibleCells()<=1)return;var e=t.cellService.getCellIdFocused(),n=t.cellService.getDisplayMode(vI);n.layout.setFocussedCell(e),t.cellService.saveCurrentLayout(),t.cellService.setDisplayMode(vI)}else t.cellService.restorePreviousLayout()}}]},e.prototype.isAllowedToTigger=function(){return this.seriesService.getNumberOfResources()>0},e}(Wu),wI=bI,_I={"default-image-behavior":function(t){return new gy(t)},"default-series-behavior":function(t){return new Ay(t)},"default-case-behavior":function(t){return new Dy(t)},"default-pointer-behavior":function(t){return new Ry(t)},"default-widget-behavior":function(){return new vb},"default-interaction-behavior":function(t){return new yw(t)},"add-default-interaction":function(){return new cv},"focus-mode-feature":function(t){return new wI(t)},"series-has-plane":function(){return new cb},"link-series":function(){return new db},"sort-series":function(t){return new _b(t)},"slice-sort-feature":function(){return new lI},"cross-references-feature":function(){return new p_},"series-meta-transformer-feature":{bindFeature:function(){return new lS},priority:-2},"default-thumbnail":function(t){return new Lv(t)},"drag-to-bind":function(){return new gg},"emit-public-events":function(t){return new Nv(t)},"cell-focused-behavior":function(t){return new zv(t)},"default-annotation-behavior":function(t){return new hm(t)},"measure-interaction-behavior":function(){return new rb},"file-to-series-feature":function(t){return new __(t)},"dicom-series-support":function(){return new Ev},"jpg-series-support-feature":function(){return new VO},"zip-support":function(){return new pw},"default-keyboard-support":function(t){return new Pv(t)},mpr:function(t){return new $b(t)},"load-series-from-url":function(t){return new iy(t)},"load-zip-from-location-feature":function(t){return new Mw(t)},"magnifier-feature":function(t){return new qw(t)},"widget-slice-indicator-behavior":function(t){return new Im(t)},"widget-scroll-series-behavior":function(t){return new jm(t)},"widget-series-indicator-behavior":function(t){return new Nm(t)},"widget-toast-no-scroll":function(t){return new $m(t)},"widget-select-series":function(t){return new yg(t)},"widget-contrast-picker":function(t){return new Rb(t)},"widget-series-name":function(){return new Sw},"ignore-file-feature":function(){return new ZO},"default-free-form-edition-interaction-feature":function(){return new vO}};function SI(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function OI(){var t=window.location.pathname.split("/")[1];return 2===t.length?t:"en"}function II(t){return Array.isArray(t)?t:[t]}function EI(t){var e=II(t),n=new l["SmartComponent"]({name:"wait-until-".concat(e.map((function(t){return t.name})).join("-and-"))});return new Promise((function(t){Promise.all(e.map((function(t){return new Promise((function(e){n.subscribe(t.from,t.name,e)}))}))).then((function(e){try{n.destroy()}catch(r){console.error(r)}t(e)}))}))}var CI={en:"English",fr:"Français",es:"Español",de:"Deutsch",cn:"中文 (简体)",jp:"日本語",br:"Português",ru:"Русский",pl:"Polski"};function xI(t){return!!t&&Object.keys(CI).includes(t)}
/*!
 * vue-i18n v8.27.1 
 * (c) 2022 kazuya kawaguchi
 * Released under the MIT License.
 */var AI=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function PI(t,e){"undefined"!==typeof console&&(console.warn("[vue-i18n] "+t),e&&console.warn(e.stack))}function TI(t,e){"undefined"!==typeof console&&(console.error("[vue-i18n] "+t),e&&console.error(e.stack))}var jI=Array.isArray;function DI(t){return null!==t&&"object"===typeof t}function kI(t){return"boolean"===typeof t}function LI(t){return"string"===typeof t}var RI=Object.prototype.toString,MI="[object Object]";function BI(t){return RI.call(t)===MI}function NI(t){return null===t||void 0===t}function FI(t){return"function"===typeof t}function UI(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=null,r=null;return 1===t.length?DI(t[0])||jI(t[0])?r=t[0]:"string"===typeof t[0]&&(n=t[0]):2===t.length&&("string"===typeof t[0]&&(n=t[0]),(DI(t[1])||jI(t[1]))&&(r=t[1])),{locale:n,params:r}}function zI(t){return JSON.parse(JSON.stringify(t))}function VI(t,e){if(t.delete(e))return t}function WI(t){var e=[];return t.forEach((function(t){return e.push(t)})),e}function HI(t,e){return!!~t.indexOf(e)}var YI=Object.prototype.hasOwnProperty;function GI(t,e){return YI.call(t,e)}function $I(t){for(var e=arguments,n=Object(t),r=1;r<arguments.length;r++){var o=e[r];if(void 0!==o&&null!==o){var i=void 0;for(i in o)GI(o,i)&&(DI(o[i])?n[i]=$I(n[i],o[i]):n[i]=o[i])}}return n}function XI(t,e){if(t===e)return!0;var n=DI(t),r=DI(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var o=jI(t),i=jI(e);if(o&&i)return t.length===e.length&&t.every((function(t,n){return XI(t,e[n])}));if(o||i)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(n){return XI(t[n],e[n])}))}catch(c){return!1}}function KI(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function qI(t){return null!=t&&Object.keys(t).forEach((function(e){"string"==typeof t[e]&&(t[e]=KI(t[e]))})),t}function ZI(t){t.prototype.hasOwnProperty("$i18n")||Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$t=function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];var r=this.$i18n;return r._t.apply(r,[t,r.locale,r._getMessages(),this].concat(e))},t.prototype.$tc=function(t,e){var n=[],r=arguments.length-2;while(r-- >0)n[r]=arguments[r+2];var o=this.$i18n;return o._tc.apply(o,[t,o.locale,o._getMessages(),this,e].concat(n))},t.prototype.$te=function(t,e){var n=this.$i18n;return n._te(t,n.locale,n._getMessages(),e)},t.prototype.$d=function(t){var e,n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return(e=this.$i18n).d.apply(e,[t].concat(n))},t.prototype.$n=function(t){var e,n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return(e=this.$i18n).n.apply(e,[t].concat(n))}}function JI(t){function e(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===t&&(t=!1),t?{mounted:e}:{beforeCreate:function(){var t=this.$options;if(t.i18n=t.i18n||(t.__i18nBridge||t.__i18n?{}:null),t.i18n)if(t.i18n instanceof qE){if(t.__i18nBridge||t.__i18n)try{var e=t.i18n&&t.i18n.messages?t.i18n.messages:{},n=t.__i18nBridge||t.__i18n;n.forEach((function(t){e=$I(e,JSON.parse(t))})),Object.keys(e).forEach((function(n){t.i18n.mergeLocaleMessage(n,e[n])}))}catch(c){0}this._i18n=t.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(BI(t.i18n)){var r=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof qE?this.$root.$i18n:null;if(r&&(t.i18n.root=this.$root,t.i18n.formatter=r.formatter,t.i18n.fallbackLocale=r.fallbackLocale,t.i18n.formatFallbackMessages=r.formatFallbackMessages,t.i18n.silentTranslationWarn=r.silentTranslationWarn,t.i18n.silentFallbackWarn=r.silentFallbackWarn,t.i18n.pluralizationRules=r.pluralizationRules,t.i18n.preserveDirectiveContent=r.preserveDirectiveContent),t.__i18nBridge||t.__i18n)try{var o=t.i18n&&t.i18n.messages?t.i18n.messages:{},i=t.__i18nBridge||t.__i18n;i.forEach((function(t){o=$I(o,JSON.parse(t))})),t.i18n.messages=o}catch(c){0}var a=t.i18n,s=a.sharedMessages;s&&BI(s)&&(t.i18n.messages=$I(t.i18n.messages,s)),this._i18n=new qE(t.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===t.i18n.sync||t.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),r&&r.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof qE?this._i18n=this.$root.$i18n:t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof qE&&(this._i18n=t.parent.$i18n)},beforeMount:function(){var t=this.$options;t.i18n=t.i18n||(t.__i18nBridge||t.__i18n?{}:null),t.i18n?(t.i18n instanceof qE||BI(t.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof qE||t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof qE)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:e,beforeDestroy:function(){if(this._i18n){var t=this;this.$nextTick((function(){t._subscribing&&(t._i18n.unsubscribeDataChanging(t),delete t._subscribing),t._i18nWatcher&&(t._i18nWatcher(),t._i18n.destroyVM(),delete t._i18nWatcher),t._localeWatcher&&(t._localeWatcher(),delete t._localeWatcher)}))}}}}var QI={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(t,e){var n=e.data,r=e.parent,o=e.props,i=e.slots,a=r.$i18n;if(a){var s=o.path,c=o.locale,u=o.places,l=i(),f=a.i(s,c,tE(l)||u?eE(l.default,u):l),p=o.tag&&!0!==o.tag||!1===o.tag?o.tag:"span";return p?t(p,n,f):f}}};function tE(t){var e;for(e in t)if("default"!==e)return!1;return Boolean(e)}function eE(t,e){var n=e?nE(e):{};if(!t)return n;t=t.filter((function(t){return t.tag||""!==t.text.trim()}));var r=t.every(iE);return t.reduce(r?rE:oE,n)}function nE(t){return Array.isArray(t)?t.reduce(oE,{}):Object.assign({},t)}function rE(t,e){return e.data&&e.data.attrs&&e.data.attrs.place&&(t[e.data.attrs.place]=e),t}function oE(t,e,n){return t[n]=e,t}function iE(t){return Boolean(t.data&&t.data.attrs&&t.data.attrs.place)}var aE,sE={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(t,e){var n=e.props,r=e.parent,o=e.data,i=r.$i18n;if(!i)return null;var a=null,s=null;LI(n.format)?a=n.format:DI(n.format)&&(n.format.key&&(a=n.format.key),s=Object.keys(n.format).reduce((function(t,e){var r;return HI(AI,e)?Object.assign({},t,(r={},r[e]=n.format[e],r)):t}),null));var c=n.locale||i.locale,u=i._ntp(n.value,c,a,s),l=u.map((function(t,e){var n,r=o.scopedSlots&&o.scopedSlots[t.type];return r?r((n={},n[t.type]=t.value,n.index=e,n.parts=u,n)):t.value})),f=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return f?t(f,{attrs:o.attrs,class:o["class"],staticClass:o.staticClass},l):l}};function cE(t,e,n){fE(t,n)&&dE(t,e,n)}function uE(t,e,n,r){if(fE(t,n)){var o=n.context.$i18n;pE(t,n)&&XI(e.value,e.oldValue)&&XI(t._localeMessage,o.getLocaleMessage(o.locale))||dE(t,e,n)}}function lE(t,e,n,r){var o=n.context;if(o){var i=n.context.$i18n||{};e.modifiers.preserve||i.preserveDirectiveContent||(t.textContent=""),t._vt=void 0,delete t["_vt"],t._locale=void 0,delete t["_locale"],t._localeMessage=void 0,delete t["_localeMessage"]}else PI("Vue instance does not exists in VNode context")}function fE(t,e){var n=e.context;return n?!!n.$i18n||(PI("VueI18n instance does not exists in Vue instance"),!1):(PI("Vue instance does not exists in VNode context"),!1)}function pE(t,e){var n=e.context;return t._locale===n.$i18n.locale}function dE(t,e,n){var r,o,i=e.value,a=hE(i),s=a.path,c=a.locale,u=a.args,l=a.choice;if(s||c||u)if(s){var f=n.context;t._vt=t.textContent=null!=l?(r=f.$i18n).tc.apply(r,[s,l].concat(yE(c,u))):(o=f.$i18n).t.apply(o,[s].concat(yE(c,u))),t._locale=f.$i18n.locale,t._localeMessage=f.$i18n.getLocaleMessage(f.$i18n.locale)}else PI("`path` is required in v-t directive");else PI("value type not supported")}function hE(t){var e,n,r,o;return LI(t)?e=t:BI(t)&&(e=t.path,n=t.locale,r=t.args,o=t.choice),{path:e,locale:n,args:r,choice:o}}function yE(t,e){var n=[];return t&&n.push(t),e&&(Array.isArray(e)||BI(e))&&n.push(e),n}function vE(t,e){void 0===e&&(e={bridge:!1}),vE.installed=!0,aE=t;aE.version&&Number(aE.version.split(".")[0]);ZI(aE),aE.mixin(JI(e.bridge)),aE.directive("t",{bind:cE,update:uE,unbind:lE}),aE.component(QI.name,QI),aE.component(sE.name,sE);var n=aE.config.optionMergeStrategies;n.i18n=function(t,e){return void 0===e?t:e}}var mE=function(){this._caches=Object.create(null)};mE.prototype.interpolate=function(t,e){if(!e)return[t];var n=this._caches[t];return n||(n=wE(t),this._caches[t]=n),_E(n,e)};var gE=/^(?:\d)+/,bE=/^(?:\w)+/;function wE(t){var e=[],n=0,r="";while(n<t.length){var o=t[n++];if("{"===o){r&&e.push({type:"text",value:r}),r="";var i="";o=t[n++];while(void 0!==o&&"}"!==o)i+=o,o=t[n++];var a="}"===o,s=gE.test(i)?"list":a&&bE.test(i)?"named":"unknown";e.push({value:i,type:s})}else"%"===o?"{"!==t[n]&&(r+=o):r+=o}return r&&e.push({type:"text",value:r}),e}function _E(t,e){var n=[],r=0,o=Array.isArray(e)?"list":DI(e)?"named":"unknown";if("unknown"===o)return n;while(r<t.length){var i=t[r];switch(i.type){case"text":n.push(i.value);break;case"list":n.push(e[parseInt(i.value,10)]);break;case"named":"named"===o&&n.push(e[i.value]);break;case"unknown":0;break}r++}return n}var SE=0,OE=1,IE=2,EE=3,CE=0,xE=1,AE=2,PE=3,TE=4,jE=5,DE=6,kE=7,LE=8,RE=[];RE[CE]={ws:[CE],ident:[PE,SE],"[":[TE],eof:[kE]},RE[xE]={ws:[xE],".":[AE],"[":[TE],eof:[kE]},RE[AE]={ws:[AE],ident:[PE,SE],0:[PE,SE],number:[PE,SE]},RE[PE]={ident:[PE,SE],0:[PE,SE],number:[PE,SE],ws:[xE,OE],".":[AE,OE],"[":[TE,OE],eof:[kE,OE]},RE[TE]={"'":[jE,SE],'"':[DE,SE],"[":[TE,IE],"]":[xE,EE],eof:LE,else:[TE,SE]},RE[jE]={"'":[TE,SE],eof:LE,else:[jE,SE]},RE[DE]={'"':[TE,SE],eof:LE,else:[DE,SE]};var ME=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function BE(t){return ME.test(t)}function NE(t){var e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e!==n||34!==e&&39!==e?t:t.slice(1,-1)}function FE(t){if(void 0===t||null===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function UE(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(BE(e)?NE(e):"*"+e)}function zE(t){var e,n,r,o,i,a,s,c=[],u=-1,l=CE,f=0,p=[];function d(){var e=t[u+1];if(l===jE&&"'"===e||l===DE&&'"'===e)return u++,r="\\"+e,p[SE](),!0}p[OE]=function(){void 0!==n&&(c.push(n),n=void 0)},p[SE]=function(){void 0===n?n=r:n+=r},p[IE]=function(){p[SE](),f++},p[EE]=function(){if(f>0)f--,l=TE,p[SE]();else{if(f=0,void 0===n)return!1;if(n=UE(n),!1===n)return!1;p[OE]()}};while(null!==l)if(u++,e=t[u],"\\"!==e||!d()){if(o=FE(e),s=RE[l],i=s[o]||s["else"]||LE,i===LE)return;if(l=i[0],a=p[i[1]],a&&(r=i[2],r=void 0===r?e:r,!1===a()))return;if(l===kE)return c}}var VE=function(){this._cache=Object.create(null)};VE.prototype.parsePath=function(t){var e=this._cache[t];return e||(e=zE(t),e&&(this._cache[t]=e)),e||[]},VE.prototype.getPathValue=function(t,e){if(!DI(t))return null;var n=this.parsePath(e);if(0===n.length)return null;var r=n.length,o=t,i=0;while(i<r){var a=o[n[i]];if(void 0===a||null===a)return null;o=a,i++}return o};var WE,HE=/<\/?[\w\s="/.':;#-\/]+>/,YE=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,GE=/^@(?:\.([a-z]+))?:/,$E=/[()]/g,XE={upper:function(t){return t.toLocaleUpperCase()},lower:function(t){return t.toLocaleLowerCase()},capitalize:function(t){return""+t.charAt(0).toLocaleUpperCase()+t.substr(1)}},KE=new mE,qE=function(t){var e=this;void 0===t&&(t={}),!aE&&"undefined"!==typeof window&&window.Vue&&vE(window.Vue);var n=t.locale||"en-US",r=!1!==t.fallbackLocale&&(t.fallbackLocale||"en-US"),o=t.messages||{},i=t.dateTimeFormats||t.datetimeFormats||{},a=t.numberFormats||{};this._vm=null,this._formatter=t.formatter||KE,this._modifiers=t.modifiers||{},this._missing=t.missing||null,this._root=t.root||null,this._sync=void 0===t.sync||!!t.sync,this._fallbackRoot=void 0===t.fallbackRoot||!!t.fallbackRoot,this._fallbackRootWithEmptyString=void 0===t.fallbackRootWithEmptyString||!!t.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==t.formatFallbackMessages&&!!t.formatFallbackMessages,this._silentTranslationWarn=void 0!==t.silentTranslationWarn&&t.silentTranslationWarn,this._silentFallbackWarn=void 0!==t.silentFallbackWarn&&!!t.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new VE,this._dataListeners=new Set,this._componentInstanceCreatedListener=t.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==t.preserveDirectiveContent&&!!t.preserveDirectiveContent,this.pluralizationRules=t.pluralizationRules||{},this._warnHtmlInMessage=t.warnHtmlInMessage||"off",this._postTranslation=t.postTranslation||null,this._escapeParameterHtml=t.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in t&&(this.__VUE_I18N_BRIDGE__=t.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(t,n){var r=Object.getPrototypeOf(e);if(r&&r.getChoiceIndex){var o=r.getChoiceIndex;return o.call(e,t,n)}var i=function(t,e){return t=Math.abs(t),2===e?t?t>1?1:0:1:t?Math.min(t,2):0};return e.locale in e.pluralizationRules?e.pluralizationRules[e.locale].apply(e,[t,n]):i(t,n)},this._exist=function(t,n){return!(!t||!n)&&(!NI(e._path.getPathValue(t,n))||!!t[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(o).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,o[t])})),this._initVM({locale:n,fallbackLocale:r,messages:o,dateTimeFormats:i,numberFormats:a})},ZE={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};qE.prototype._checkLocaleMessage=function(t,e,n){var r=[],o=function(t,e,n,r){if(BI(n))Object.keys(n).forEach((function(i){var a=n[i];BI(a)?(r.push(i),r.push("."),o(t,e,a,r),r.pop(),r.pop()):(r.push(i),o(t,e,a,r),r.pop())}));else if(jI(n))n.forEach((function(n,i){BI(n)?(r.push("["+i+"]"),r.push("."),o(t,e,n,r),r.pop(),r.pop()):(r.push("["+i+"]"),o(t,e,n,r),r.pop())}));else if(LI(n)){var i=HE.test(n);if(i){var a="Detected HTML in message '"+n+"' of keypath '"+r.join("")+"' at '"+e+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===t?PI(a):"error"===t&&TI(a)}}};o(e,t,n,r)},qE.prototype._initVM=function(t){var e=aE.config.silent;aE.config.silent=!0,this._vm=new aE({data:t,__VUE18N__INSTANCE__:!0}),aE.config.silent=e},qE.prototype.destroyVM=function(){this._vm.$destroy()},qE.prototype.subscribeDataChanging=function(t){this._dataListeners.add(t)},qE.prototype.unsubscribeDataChanging=function(t){VI(this._dataListeners,t)},qE.prototype.watchI18nData=function(){var t=this;return this._vm.$watch("$data",(function(){var e=WI(t._dataListeners),n=e.length;while(n--)aE.nextTick((function(){e[n]&&e[n].$forceUpdate()}))}),{deep:!0})},qE.prototype.watchLocale=function(t){if(t){if(!this.__VUE_I18N_BRIDGE__)return null;var e=this,n=this._vm;return this.vm.$watch("locale",(function(r){n.$set(n,"locale",r),e.__VUE_I18N_BRIDGE__&&t&&(t.locale.value=r),n.$forceUpdate()}),{immediate:!0})}if(!this._sync||!this._root)return null;var r=this._vm;return this._root.$i18n.vm.$watch("locale",(function(t){r.$set(r,"locale",t),r.$forceUpdate()}),{immediate:!0})},qE.prototype.onComponentInstanceCreated=function(t){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(t,this)},ZE.vm.get=function(){return this._vm},ZE.messages.get=function(){return zI(this._getMessages())},ZE.dateTimeFormats.get=function(){return zI(this._getDateTimeFormats())},ZE.numberFormats.get=function(){return zI(this._getNumberFormats())},ZE.availableLocales.get=function(){return Object.keys(this.messages).sort()},ZE.locale.get=function(){return this._vm.locale},ZE.locale.set=function(t){this._vm.$set(this._vm,"locale",t)},ZE.fallbackLocale.get=function(){return this._vm.fallbackLocale},ZE.fallbackLocale.set=function(t){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",t)},ZE.formatFallbackMessages.get=function(){return this._formatFallbackMessages},ZE.formatFallbackMessages.set=function(t){this._formatFallbackMessages=t},ZE.missing.get=function(){return this._missing},ZE.missing.set=function(t){this._missing=t},ZE.formatter.get=function(){return this._formatter},ZE.formatter.set=function(t){this._formatter=t},ZE.silentTranslationWarn.get=function(){return this._silentTranslationWarn},ZE.silentTranslationWarn.set=function(t){this._silentTranslationWarn=t},ZE.silentFallbackWarn.get=function(){return this._silentFallbackWarn},ZE.silentFallbackWarn.set=function(t){this._silentFallbackWarn=t},ZE.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},ZE.preserveDirectiveContent.set=function(t){this._preserveDirectiveContent=t},ZE.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},ZE.warnHtmlInMessage.set=function(t){var e=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=t,n!==t&&("warn"===t||"error"===t)){var r=this._getMessages();Object.keys(r).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,r[t])}))}},ZE.postTranslation.get=function(){return this._postTranslation},ZE.postTranslation.set=function(t){this._postTranslation=t},ZE.sync.get=function(){return this._sync},ZE.sync.set=function(t){this._sync=t},qE.prototype._getMessages=function(){return this._vm.messages},qE.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},qE.prototype._getNumberFormats=function(){return this._vm.numberFormats},qE.prototype._warnDefault=function(t,e,n,r,o,i){if(!NI(n))return n;if(this._missing){var a=this._missing.apply(null,[t,e,r,o]);if(LI(a))return a}else 0;if(this._formatFallbackMessages){var s=UI.apply(void 0,o);return this._render(e,i,s.params,e)}return e},qE.prototype._isFallbackRoot=function(t){return(this._fallbackRootWithEmptyString?!t:NI(t))&&!NI(this._root)&&this._fallbackRoot},qE.prototype._isSilentFallbackWarn=function(t){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(t):this._silentFallbackWarn},qE.prototype._isSilentFallback=function(t,e){return this._isSilentFallbackWarn(e)&&(this._isFallbackRoot()||t!==this.fallbackLocale)},qE.prototype._isSilentTranslationWarn=function(t){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(t):this._silentTranslationWarn},qE.prototype._interpolate=function(t,e,n,r,o,i,a){if(!e)return null;var s,c=this._path.getPathValue(e,n);if(jI(c)||BI(c))return c;if(NI(c)){if(!BI(e))return null;if(s=e[n],!LI(s)&&!FI(s))return null}else{if(!LI(c)&&!FI(c))return null;s=c}return LI(s)&&(s.indexOf("@:")>=0||s.indexOf("@.")>=0)&&(s=this._link(t,e,s,r,"raw",i,a)),this._render(s,o,i,n)},qE.prototype._link=function(t,e,n,r,o,i,a){var s=n,c=s.match(YE);for(var u in c)if(c.hasOwnProperty(u)){var l=c[u],f=l.match(GE),p=f[0],d=f[1],h=l.replace(p,"").replace($E,"");if(HI(a,h))return s;a.push(h);var y=this._interpolate(t,e,h,r,"raw"===o?"string":o,"raw"===o?void 0:i,a);if(this._isFallbackRoot(y)){if(!this._root)throw Error("unexpected error");var v=this._root.$i18n;y=v._translate(v._getMessages(),v.locale,v.fallbackLocale,h,r,o,i)}y=this._warnDefault(t,h,y,r,jI(i)?i:[i],o),this._modifiers.hasOwnProperty(d)?y=this._modifiers[d](y):XE.hasOwnProperty(d)&&(y=XE[d](y)),a.pop(),s=y?s.replace(l,y):s}return s},qE.prototype._createMessageContext=function(t,e,n,r){var o=this,i=jI(t)?t:[],a=DI(t)?t:{},s=function(t){return i[t]},c=function(t){return a[t]},u=this._getMessages(),l=this.locale;return{list:s,named:c,values:t,formatter:e,path:n,messages:u,locale:l,linked:function(t){return o._interpolate(l,u[l]||{},t,null,r,void 0,[t])}}},qE.prototype._render=function(t,e,n,r){if(FI(t))return t(this._createMessageContext(n,this._formatter||KE,r,e));var o=this._formatter.interpolate(t,n,r);return o||(o=KE.interpolate(t,n,r)),"string"!==e||LI(o)?o:o.join("")},qE.prototype._appendItemToChain=function(t,e,n){var r=!1;return HI(t,e)||(r=!0,e&&(r="!"!==e[e.length-1],e=e.replace(/!/g,""),t.push(e),n&&n[e]&&(r=n[e]))),r},qE.prototype._appendLocaleToChain=function(t,e,n){var r,o=e.split("-");do{var i=o.join("-");r=this._appendItemToChain(t,i,n),o.splice(-1,1)}while(o.length&&!0===r);return r},qE.prototype._appendBlockToChain=function(t,e,n){for(var r=!0,o=0;o<e.length&&kI(r);o++){var i=e[o];LI(i)&&(r=this._appendLocaleToChain(t,i,n))}return r},qE.prototype._getLocaleChain=function(t,e){if(""===t)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[t];if(!n){e||(e=this.fallbackLocale),n=[];var r,o=[t];while(jI(o))o=this._appendBlockToChain(n,o,e);r=jI(e)?e:DI(e)?e["default"]?e["default"]:null:e,o=LI(r)?[r]:r,o&&this._appendBlockToChain(n,o,null),this._localeChainCache[t]=n}return n},qE.prototype._translate=function(t,e,n,r,o,i,a){for(var s,c=this._getLocaleChain(e,n),u=0;u<c.length;u++){var l=c[u];if(s=this._interpolate(l,t[l],r,o,i,a,[r]),!NI(s))return s}return null},qE.prototype._t=function(t,e,n,r){var o,i=[],a=arguments.length-4;while(a-- >0)i[a]=arguments[a+4];if(!t)return"";var s=UI.apply(void 0,i);this._escapeParameterHtml&&(s.params=qI(s.params));var c=s.locale||e,u=this._translate(n,c,this.fallbackLocale,t,r,"string",s.params);if(this._isFallbackRoot(u)){if(!this._root)throw Error("unexpected error");return(o=this._root).$t.apply(o,[t].concat(i))}return u=this._warnDefault(c,t,u,r,i,"string"),this._postTranslation&&null!==u&&void 0!==u&&(u=this._postTranslation(u,t)),u},qE.prototype.t=function(t){var e,n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return(e=this)._t.apply(e,[t,this.locale,this._getMessages(),null].concat(n))},qE.prototype._i=function(t,e,n,r,o){var i=this._translate(n,e,this.fallbackLocale,t,r,"raw",o);if(this._isFallbackRoot(i)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(t,e,o)}return this._warnDefault(e,t,i,r,[o],"raw")},qE.prototype.i=function(t,e,n){return t?(LI(e)||(e=this.locale),this._i(t,e,this._getMessages(),null,n)):""},qE.prototype._tc=function(t,e,n,r,o){var i,a=[],s=arguments.length-5;while(s-- >0)a[s]=arguments[s+5];if(!t)return"";void 0===o&&(o=1);var c={count:o,n:o},u=UI.apply(void 0,a);return u.params=Object.assign(c,u.params),a=null===u.locale?[u.params]:[u.locale,u.params],this.fetchChoice((i=this)._t.apply(i,[t,e,n,r].concat(a)),o)},qE.prototype.fetchChoice=function(t,e){if(!t||!LI(t))return null;var n=t.split("|");return e=this.getChoiceIndex(e,n.length),n[e]?n[e].trim():t},qE.prototype.tc=function(t,e){var n,r=[],o=arguments.length-2;while(o-- >0)r[o]=arguments[o+2];return(n=this)._tc.apply(n,[t,this.locale,this._getMessages(),null,e].concat(r))},qE.prototype._te=function(t,e,n){var r=[],o=arguments.length-3;while(o-- >0)r[o]=arguments[o+3];var i=UI.apply(void 0,r).locale||e;return this._exist(n[i],t)},qE.prototype.te=function(t,e){return this._te(t,this.locale,this._getMessages(),e)},qE.prototype.getLocaleMessage=function(t){return zI(this._vm.messages[t]||{})},qE.prototype.setLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,e)},qE.prototype.mergeLocaleMessage=function(t,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(t,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,t,$I("undefined"!==typeof this._vm.messages[t]&&Object.keys(this._vm.messages[t]).length?Object.assign({},this._vm.messages[t]):{},e))},qE.prototype.getDateTimeFormat=function(t){return zI(this._vm.dateTimeFormats[t]||{})},qE.prototype.setDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,e),this._clearDateTimeFormat(t,e)},qE.prototype.mergeDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,$I(this._vm.dateTimeFormats[t]||{},e)),this._clearDateTimeFormat(t,e)},qE.prototype._clearDateTimeFormat=function(t,e){for(var n in e){var r=t+"__"+n;this._dateTimeFormatters.hasOwnProperty(r)&&delete this._dateTimeFormatters[r]}},qE.prototype._localizeDateTime=function(t,e,n,r,o){for(var i=e,a=r[i],s=this._getLocaleChain(e,n),c=0;c<s.length;c++){var u=s[c];if(a=r[u],i=u,!NI(a)&&!NI(a[o]))break}if(NI(a)||NI(a[o]))return null;var l=a[o],f=i+"__"+o,p=this._dateTimeFormatters[f];return p||(p=this._dateTimeFormatters[f]=new Intl.DateTimeFormat(i,l)),p.format(t)},qE.prototype._d=function(t,e,n){if(!n)return new Intl.DateTimeFormat(e).format(t);var r=this._localizeDateTime(t,e,this.fallbackLocale,this._getDateTimeFormats(),n);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(t,n,e)}return r||""},qE.prototype.d=function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];var r=this.locale,o=null;return 1===e.length?LI(e[0])?o=e[0]:DI(e[0])&&(e[0].locale&&(r=e[0].locale),e[0].key&&(o=e[0].key)):2===e.length&&(LI(e[0])&&(o=e[0]),LI(e[1])&&(r=e[1])),this._d(t,r,o)},qE.prototype.getNumberFormat=function(t){return zI(this._vm.numberFormats[t]||{})},qE.prototype.setNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,e),this._clearNumberFormat(t,e)},qE.prototype.mergeNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,$I(this._vm.numberFormats[t]||{},e)),this._clearNumberFormat(t,e)},qE.prototype._clearNumberFormat=function(t,e){for(var n in e){var r=t+"__"+n;this._numberFormatters.hasOwnProperty(r)&&delete this._numberFormatters[r]}},qE.prototype._getNumberFormatter=function(t,e,n,r,o,i){for(var a=e,s=r[a],c=this._getLocaleChain(e,n),u=0;u<c.length;u++){var l=c[u];if(s=r[l],a=l,!NI(s)&&!NI(s[o]))break}if(NI(s)||NI(s[o]))return null;var f,p=s[o];if(i)f=new Intl.NumberFormat(a,Object.assign({},p,i));else{var d=a+"__"+o;f=this._numberFormatters[d],f||(f=this._numberFormatters[d]=new Intl.NumberFormat(a,p))}return f},qE.prototype._n=function(t,e,n,r){if(!qE.availabilities.numberFormat)return"";if(!n){var o=r?new Intl.NumberFormat(e,r):new Intl.NumberFormat(e);return o.format(t)}var i=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),n,r),a=i&&i.format(t);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(t,Object.assign({},{key:n,locale:e},r))}return a||""},qE.prototype.n=function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];var r=this.locale,o=null,i=null;return 1===e.length?LI(e[0])?o=e[0]:DI(e[0])&&(e[0].locale&&(r=e[0].locale),e[0].key&&(o=e[0].key),i=Object.keys(e[0]).reduce((function(t,n){var r;return HI(AI,n)?Object.assign({},t,(r={},r[n]=e[0][n],r)):t}),null)):2===e.length&&(LI(e[0])&&(o=e[0]),LI(e[1])&&(r=e[1])),this._n(t,r,o,i)},qE.prototype._ntp=function(t,e,n,r){if(!qE.availabilities.numberFormat)return[];if(!n){var o=r?new Intl.NumberFormat(e,r):new Intl.NumberFormat(e);return o.formatToParts(t)}var i=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),n,r),a=i&&i.formatToParts(t);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(t,e,n,r)}return a||[]},Object.defineProperties(qE.prototype,ZE),Object.defineProperty(qE,"availabilities",{get:function(){if(!WE){var t="undefined"!==typeof Intl;WE={dateTimeFormat:t&&"undefined"!==typeof Intl.DateTimeFormat,numberFormat:t&&"undefined"!==typeof Intl.NumberFormat}}return WE}}),qE.install=vE,qE.version="8.27.1";var JE=qE;function QE(){var t=OI();return xI(OI())?t:"en"}el.a.use(JE);var tC=QE();function eC(){var t=n("9c03"),e={};return t.keys().forEach((function(n){var r=n.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var o=r[1];e[o]=t(n)}})),e}var nC=new JE({locale:tC,fallbackLocale:"en",messages:eC()});var rC=nC;function oC(t){var e=eC();return Object.keys(e).forEach((function(n){t.mergeLocaleMessage(n,e[n])})),t}var iC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aC=function(t){function e(e,n){var r=t.call(this)||this;return r.dispatcher=n,r.cellService=vc.cellService,r.seriesService=vc.seriesService,r.init(),r}return iC(e,t),e.prototype.subscribe=function(t){var e=this;return void 0===t&&(t=this.agent),[{from:this.cellService,name:Qo,action:function(){var t=e.cellService.getCurrentDisplayMode(),n=e.cellService.getDisplayMode(t);n.isSelectable&&e.dispatcher(Zf(bf["MENU_MODULE_NAME"],bf["MENU_ACTIONS"].NODE_SELECT_CHILD),{id:t,parentId:"displayMode"},ef)}},{from:this.seriesService,name:H,action:function(){e.dispatcher("idv/modal:close",xn,ef)}}]},e}(Wu),sC=aC,cC={id:"interactions",type:bf["MenuButtonGroup"],config:{children:[un.DEFAULT.SCROLL,un.DEFAULT.PAN,un.DEFAULT.ZOOM]}},uC=n("3211"),lC=n.n(uC),fC={id:"toggle-slice-looping",type:bf["MenuButton"],config:{src:[lC.a],actionId:"toggle-slice-looping",actionType:bf["ACTION_TYPE"].TOGGLE,translationKey:"ui.viewer.menu.toggle-slice-looping",disabled:!0}},pC={id:"menu",type:bf["Menu"],defaultItem:[un.DEFAULT.SCROLL],children:[cC,{id:un.DEFAULT.CONTRAST,type:bf["MenuButton"]},{id:"displayMode",type:bf["MenuButtonGroup"],config:{children:[Ze,Qe,Je,en,tn,nn],showActive:!1}},{id:"measure",type:bf["MenuButtonGroup"],config:{children:["ruler","protractor"]}},{id:zd.id,type:bf["MenuButton"]},{id:fh.id,type:bf["MenuButton"]},{id:fC.id,type:bf["MenuButton"]},{id:"reset",type:bf["MenuButton"]}]};function dC(t,e){"undefined"===typeof e?pC.children.push(t):pC.children.splice(e,0,t)}var hC,yC,vC,mC=pC,gC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bC=function(t){function e(e,n){var r=t.call(this)||this;return r.listInteraction=[],r.interactionService=vc.interactionService,r.dispatcher=n,r.onInit(),r.init(),r}return gC(e,t),e.prototype.onInit=function(){var t=this;mC.children.forEach((function(e){var n;e.id===t.menuParentId&&(Array.isArray(null===(n=e.config)||void 0===n?void 0:n.children)?t.listInteraction=e.config.children:t.listInteraction.push(e.id))}))},e.prototype.setMenuParentId=function(t){this.menuParentId=t},e.prototype.subscribe=function(t){var e=this;return void 0===t&&(t=this.agent),[{from:this.interactionService,name:we,action:function(t){var n=t.interactionName;e.listInteraction.includes(n)&&(e.listInteraction.length>1?e.dispatcher("menu/node:select-child",{id:n,parentId:e.menuParentId},{root:!0}):e.dispatcher("menu/node:select",n,{root:!0}))}}]},e}(Wu),wC=bC,_C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),SC=function(t){function e(e,n){return t.call(this,e,n)||this}return _C(e,t),e.prototype.onInit=function(){this.setMenuParentId("interactions"),t.prototype.onInit.call(this)},e}(wC),OC=SC,IC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),EC=function(t){function e(e,n){return t.call(this,e,n)||this}return IC(e,t),e.prototype.onInit=function(){this.setMenuParentId("contrast"),t.prototype.onInit.call(this)},e}(wC),CC=EC;(function(t){t["VOTER_ADD"]="voter:add",t["VOTER_REMOVE"]="voter:remove",t["CONTEXT_SET"]="context:set",t["CONTEXT_SET_VISIBILITY"]="context:set-visibility",t["CONTEXT_SET_POSITION"]="context:set-position"})(hC||(hC={})),function(t){t["VOTER_ADD"]="voter:add",t["VOTER_REMOVE"]="voter:remove",t["CONTEXT_SET"]="context:set",t["CONTEXT_SHOW"]="context:show",t["CONTEXT_HIDE"]="context:hide"}(yC||(yC={})),function(t){t["OPTIONS"]="options",t["CONTEXT"]="context",t["VISBILE"]="is-visible"}(vC||(vC={}));var xC,AC,PC,TC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jC=function(t){function e(e){var n=t.call(this,'A voter with id "'.concat(e,'" is already registered.'))||this;return n.name="OptionVoterAlreadyExistsException",n}return TC(e,t),e}(Error),DC=jC,kC=function(){return kC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},kC.apply(this,arguments)},LC=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RC={namespaced:!0,actions:(xC={},xC[yC.VOTER_ADD]=function(t,e){var n=t.commit;n(hC.VOTER_ADD,e)},xC[yC.VOTER_REMOVE]=function(t,e){var n=t.commit;n(hC.VOTER_REMOVE,e)},xC[yC.CONTEXT_SET]=function(t,e){var n=t.commit;n(hC.CONTEXT_SET,e)},xC[yC.CONTEXT_SHOW]=function(t,e){var n=t.commit,r=e.event,o=e.position;n(hC.CONTEXT_SET,{event:r}),n(hC.CONTEXT_SET_VISIBILITY,!0),el.a.nextTick().then((function(){n(hC.CONTEXT_SET_POSITION,o)}))},xC[yC.CONTEXT_HIDE]=function(t){var e=t.commit;e(hC.CONTEXT_SET_VISIBILITY,!1)},xC),mutations:(AC={},AC[hC.VOTER_ADD]=function(t,e){if(e.id in t.optionVoterCollection)throw new DC(e.id);t.optionVoterCollection[e.id]=e},AC[hC.VOTER_REMOVE]=function(t,e){delete t.optionVoterCollection[e]},AC[hC.CONTEXT_SET]=function(t,e){t.context=e},AC[hC.CONTEXT_SET_VISIBILITY]=function(t,e){t.isOpen=e},AC[hC.CONTEXT_SET_POSITION]=function(t,e){t.position=e},AC),getters:(PC={},PC[vC.OPTIONS]=function(t,e){var n,r,o=Object.values(t.optionVoterCollection),i=e[vC.CONTEXT],a=[];if(null===i)return[];try{for(var s=LC(o),c=s.next();!c.done;c=s.next()){var u=c.value;u.voter(i)&&a.push(u.option)}}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a},PC[vC.CONTEXT]=function(t,e,n,r){return kC(kC({},t.context),{viewer:r["idv/get-framework"]})},PC[vC.VISBILE]=function(t){return t.isOpen},PC),state:function(){return{optionVoterCollection:{},isOpen:!1,context:null,position:{x:0,y:0}}}},MC=RC,BC=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{directives:[{name:"conditional-on",rawName:"v-conditional-on:mousedown.root",value:t.rootMouseDown,expression:"rootMouseDown",arg:"mousedown",modifiers:{root:!0}},{name:"conditional-on",rawName:"v-conditional-on:touchstart.root",value:t.rootMouseDown,expression:"rootMouseDown",arg:"touchstart",modifiers:{root:!0}}],ref:"menu",staticClass:"imaios-context-menu-content",class:{"imaios-context-menu-content--active":t.isActive},on:{contextmenu:function(t){t.preventDefault(),t.stopPropagation()}}},t._l(t.options,(function(e){return n("li",{key:e.id,staticClass:"imaios-context-menu-item",on:{click:function(n){return t.optionClicked(e)}}},[n(e.icon,{tag:"component",staticClass:"icon"}),n("span",{staticClass:"imaios-context-menu-item-text"},[t._v(t._s(t.$t("ui.viewer.context-menu."+e.id)))])],1)})),0)},NC=[];function FC(t){return FC="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FC(t)}var UC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zC=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":FC(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},VC=0,WC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return UC(e,t),Object.defineProperty(e.prototype,"options",{get:function(){return this.$store.getters["".concat(this.storeHandler,"/").concat(vC.OPTIONS)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.$store.state[this.storeHandler].position},enumerable:!1,configurable:!0}),e.prototype.setPosition=function(t){var e=this;this.$nextTick((function(){var n,r,o,i,a=e.$refs.menu.offsetWidth,s=null!==(n=t.flipHorizontal)&&void 0!==n&&n?t.x-a:t.x;s=null!==(r=t.preventOverflow)&&void 0!==r&&r&&a+s>=e.$parent.$el.clientWidth?s-a:s,s=s<VC?VC:s,e.$refs.menu.style.setProperty("left","".concat(s,"px"));var c=e.$refs.menu.offsetHeight,u=null!==(o=t.flipVertical)&&void 0!==o&&o?t.y-c:t.y;u=null!==(i=t.preventOverflow)&&void 0!==i&&i&&c+u>=e.$parent.$el.clientHeight?u-c:u,u=u<VC?VC:u,e.$refs.menu.style.setProperty("top","".concat(u,"px"))}))},e.prototype.hide=function(){this.$store.dispatch(Zf(this.storeHandler,yC.CONTEXT_HIDE))},Object.defineProperty(e.prototype,"isActive",{get:function(){return this.$store.getters[Zf(this.storeHandler,vC.VISBILE)]},enumerable:!1,configurable:!0}),e.prototype.optionClicked=function(t){this.hide(),t.action(this.$store.getters[Zf(this.storeHandler,vC.CONTEXT)])},Object.defineProperty(e.prototype,"rootMouseDown",{get:function(){var t=this;return{condition:this.isActive,handler:function(e){e.composedPath().includes(t.$el)||t.hide()}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rootKeyDown",{get:function(){var t=this;return{condition:this.isActive,handler:function(e){"Escape"===e.key&&t.hide()}}},enumerable:!1,configurable:!0}),e.prototype.onFullscreenToggle=function(){this.hide()},e.prototype.mounted=function(){document.addEventListener("onFullScreen",this.onFullscreenToggle.bind(this)),document.addEventListener("onExitFullscreen",this.onFullscreenToggle.bind(this)),window.addEventListener("resize",this.hide.bind(this))},e.prototype.beforeDestroy=function(){document.removeEventListener("onFullScreen",this.onFullscreenToggle),document.removeEventListener("onExitFullscreen",this.onFullscreenToggle),window.removeEventListener("resize",this.hide)},zC([El({required:!0})],e.prototype,"storeHandler",void 0),zC([Cl("position")],e.prototype,"setPosition",null),e=zC([_l({})],e),e}(el.a),HC=WC,YC=HC,GC=(n("132e"),zl(YC,BC,NC,!1,null,null,null)),$C=GC.exports,XC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),KC="context-menu",qC=function(t){function e(n,r){var o=t.call(this)||this,i=r.$store;return i.hasModule(e.MODULE_NAME)&&i.unregisterModule(e.MODULE_NAME),n.containerDiv.addEventListener("contextmenu",(function(t){t.preventDefault();var r=n.containerDiv.getBoundingClientRect();i.dispatch(Zf(e.MODULE_NAME,yC.CONTEXT_SHOW),{position:{x:t.clientX-r.left,y:t.clientY-r.top,preventOverflow:!0},event:t})})),i.registerModule(e.MODULE_NAME,nf(MC)),i.dispatch("dynamic-component/definition:register",{id:KC,type:$C,config:{storeHandler:e.MODULE_NAME}},ef),i.dispatch("dynamic-component/node:add-child",{id:KC,parentId:"viewer-layout"},ef),o}return XC(e,t),e.MODULE_NAME=KC,e}(l["Feature"]),ZC=qC;function JC(t){var e,n;return null!==(n=null===(e=t.viewer)||void 0===e?void 0:e.hasSeries())&&void 0!==n&&n}var QC,tx,ex,nx,rx,ox,ix=function(t){return[{id:"zoom",voter:JC,option:{id:"zoom",icon:Ih.a,action:function(e){t.select(jh.interactionName)}}},{id:"scroll",voter:JC,option:{id:"scroll",icon:oh.a,action:function(e){t.select(un.DEFAULT.SCROLL)}}},{id:"pan",voter:JC,option:{id:"pan",icon:gh.a,action:function(e){t.select(nv.interactionName)}}}]},ax=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sx=function(t){function e(e){var n=t.call(this)||this,r=Zf(ZC.MODULE_NAME,yC.VOTER_ADD);return ix(vc.interactionService).forEach((function(t){e(r,t,ef)})),n}return ax(e,t),e}(l["Feature"]),cx=sx,ux=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lx=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},fx=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},px=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ux(e,t),e.prototype.subscribe=function(e){var n=this;return fx(fx([],lx(t.prototype.subscribe.call(this,e)),!1),[{from:this.annotationService,name:yt,action:function(t){var e=t.animationId,r=t.seriesId,o=t.interactionId;n.animationService.removeAnimation(e),n.refreshAnnotationsVisible(r),n.interactionService.restorePreviousInteraction(),n.interactionService.removeById(o)}},{from:this.annotationService,name:Ot,action:function(t){var e=t.annotationId,r=n.annotationService.findById(e);if(null===r)throw new jt(e);n.interactionService.select(r.getInteraction().getId()),n.refreshAnnotationsVisible(n.annotationService.getRelatedSeriesId(e))}},{from:this.annotationService,name:St,action:function(t){var e=t.annotationId;n.refreshAnnotationsVisible(n.annotationService.getRelatedSeriesId(e)),n.interactionService.restorePreviousInteraction()}},{from:this.annotationService,name:[bt,wt,It,gt,Et],action:function(t){var e=t.annotationId;n.refreshAnnotationsVisible(n.annotationService.getRelatedSeriesId(e))}}],!1)},e}(hm),dx=px,hx={"default-annotation-behavior":function(t){return new dx(t)}},yx=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vx=function(t){function e(e,n){var r=t.call(this)||this;return n.registerModule(sp,up),r}return yx(e,t),e}(l["Feature"]),mx=vx;(function(t){t["ERROR_ADD"]="error:add",t["ERROR_REMOVE_FIRST"]="error:remove-first"})(QC||(QC={})),function(t){t["ERROR_ADD"]="error:add",t["ERROR_REMOVE"]="error:remove"}(tx||(tx={})),function(t){t["HAS_ERRORS"]="has-errors",t["FIRST_ERROR"]="first-error"}(ex||(ex={}));var gx="error-handler",bx={namespaced:!0,state:function(){return{errorQueue:[]}},actions:(nx={},nx[QC.ERROR_ADD]=function(t,e){var n=t.commit;n(tx.ERROR_ADD,e)},nx[QC.ERROR_REMOVE_FIRST]=function(t){var e=t.commit,n=t.getters;e(tx.ERROR_REMOVE,n[ex.FIRST_ERROR])},nx),mutations:(rx={},rx[tx.ERROR_ADD]=function(t,e){t.errorQueue.push(e)},rx[tx.ERROR_REMOVE]=function(t,e){t.errorQueue=t.errorQueue.filter((function(t){return t!==e}))},rx),getters:(ox={},ox[ex.HAS_ERRORS]=function(t){return t.errorQueue.length>0},ox[ex.FIRST_ERROR]=function(t){var e;return null!==(e=t.errorQueue[0])&&void 0!==e?e:null},ox)},wx=bx,_x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ModalWindow",{ref:"modal",attrs:{"on-accept":t.onAccept},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Oops! ")]},proxy:!0},t.hasError?{key:"body",fn:function(){return[t._v(" "+t._s(t.error.message)+" ")]},proxy:!0}:null],null,!0)})},Sx=[],Ox=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],staticClass:"modal-window__wrapper",attrs:{tabindex:"-1"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.accept(e,"enter")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.accept(e,"space")}],contextmenu:function(t){t.stopPropagation()}}},[n("div",{staticClass:"modal-window",attrs:{role:"dialog","aria-labelledby":t.uuid+"-title","aria-describedby":t.uuid+"-body","aria-modal":"true"}},[t._t("header",(function(){return[n("h2",{staticClass:"modal-window__title",attrs:{id:t.uuid+"-title"}},[t._t("title")],2)]})),n("div",{staticClass:"modal-window__body",attrs:{id:t.uuid+"-body"}},[t._t("body",null,{cancel:t.cancel,accept:t.accept})],2),n("div",{staticClass:"modal-window__footer"},[t._t("footer",(function(){return[null!==t.onCancel?n("ImaiosButton",{attrs:{variant:"secondary",disabled:t.preventCancel},on:{click:t.cancel}},[t._v(" "+t._s(t.$t(t.cancelTranslationKey))+" ")]):t._e(),null!==t.onAccept?n("ImaiosButton",{ref:"accept",attrs:{variant:"primary",disabled:t.preventAccept},on:{click:t.accept}},[t._v(" "+t._s(t.$t(t.acceptTranslationKey))+" ")]):t._e()]}),{cancel:t.cancel,accept:t.accept})],2)],2)])},Ix=[],Ex=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Cx=Ex.join(","),xx="undefined"===typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ax=function(t,e,n){var r=Array.prototype.slice.apply(t.querySelectorAll(Cx));return e&&xx.call(t,Cx)&&r.unshift(t),r=r.filter(n),r},Px=function(t){return"true"===t.contentEditable},Tx=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?Px(t)?0:"AUDIO"!==t.nodeName&&"VIDEO"!==t.nodeName&&"DETAILS"!==t.nodeName||null!==t.getAttribute("tabindex")?t.tabIndex:0:e},jx=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},Dx=function(t){return"INPUT"===t.tagName},kx=function(t){return Dx(t)&&"hidden"===t.type},Lx=function(t){var e="DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}));return e},Rx=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]},Mx=function(t){if(!t.name)return!0;var e,n=t.form||t.ownerDocument,r=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)e=r(window.CSS.escape(t.name));else try{e=r(t.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var o=Rx(e,t.form);return!o||o===t},Bx=function(t){return Dx(t)&&"radio"===t.type},Nx=function(t){return Bx(t)&&!Mx(t)},Fx=function(t,e){if("hidden"===getComputedStyle(t).visibility)return!0;var n=xx.call(t,"details>summary:first-of-type"),r=n?t.parentElement:t;if(xx.call(r,"details:not([open]) *"))return!0;if(e&&"full"!==e){if("non-zero-area"===e){var o=t.getBoundingClientRect(),i=o.width,a=o.height;return 0===i&&0===a}}else while(t){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1},Ux=function(t){if(Dx(t)||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||"BUTTON"===t.tagName){var e=t.parentElement;while(e){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var r=e.children.item(n);if("LEGEND"===r.tagName)return!r.contains(t)}return!0}e=e.parentElement}}return!1},zx=function(t,e){return!(e.disabled||kx(e)||Fx(e,t.displayCheck)||Lx(e)||Ux(e))},Vx=function(t,e){return!(!zx(t,e)||Nx(e)||Tx(e)<0)},Wx=function(t,e){e=e||{};var n=[],r=[],o=Ax(t,e.includeContainer,Vx.bind(null,e));o.forEach((function(t,e){var o=Tx(t);0===o?n.push(t):r.push({documentOrder:e,tabIndex:o,node:t})}));var i=r.sort(jx).map((function(t){return t.node})).concat(n);return i},Hx=Ex.concat("iframe").join(","),Yx=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==xx.call(t,Hx)&&zx(e,t)};
/*!
* focus-trap 6.7.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/
function Gx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gx(Object(n),!0).forEach((function(e){Xx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Kx=function(){var t=[];return{activateTrap:function(e){if(t.length>0){var n=t[t.length-1];n!==e&&n.pause()}var r=t.indexOf(e);-1===r||t.splice(r,1),t.push(e)},deactivateTrap:function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}}}(),qx=function(t){return t.tagName&&"input"===t.tagName.toLowerCase()&&"function"===typeof t.select},Zx=function(t){return"Escape"===t.key||"Esc"===t.key||27===t.keyCode},Jx=function(t){return"Tab"===t.key||9===t.keyCode},Qx=function(t){return setTimeout(t,0)},tA=function(t,e){var n=-1;return t.every((function(t,r){return!e(t)||(n=r,!1)})),n},eA=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"function"===typeof t?t.apply(void 0,n):t},nA=function(t){return t.target.shadowRoot&&"function"===typeof t.composedPath?t.composedPath()[0]:t.target},rA=function(t,e){var n,r=(null===e||void 0===e?void 0:e.document)||document,o=$x({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},e),i={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a=function(t,e,n){return t&&void 0!==t[e]?t[e]:o[n||e]},s=function(t){return!(!t||!i.containers.some((function(e){return e.contains(t)})))},c=function(t){var e=o[t];if("function"===typeof e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];e=e.apply(void 0,i)}if(!e){if(void 0===e||!1===e)return e;throw new Error("`".concat(t,"` was specified but was not a node, or did not return a node"))}var s=e;if("string"===typeof e&&(s=r.querySelector(e),!s))throw new Error("`".concat(t,"` as selector refers to no known node"));return s},u=function(){var t=c("initialFocus");if(!1===t)return!1;if(void 0===t)if(s(r.activeElement))t=r.activeElement;else{var e=i.tabbableGroups[0],n=e&&e.firstTabbableNode;t=n||c("fallbackFocus")}if(!t)throw new Error("Your focus-trap needs to have at least one focusable element");return t},l=function(){if(i.tabbableGroups=i.containers.map((function(t){var e=Wx(t);if(e.length>0)return{container:t,firstTabbableNode:e[0],lastTabbableNode:e[e.length-1]}})).filter((function(t){return!!t})),i.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},f=function t(e){!1!==e&&e!==r.activeElement&&(e&&e.focus?(e.focus({preventScroll:!!o.preventScroll}),i.mostRecentlyFocusedNode=e,qx(e)&&e.select()):t(u()))},p=function(t){var e=c("setReturnFocus",t);return e||!1!==e&&t},d=function(t){var e=nA(t);s(e)||(eA(o.clickOutsideDeactivates,t)?n.deactivate({returnFocus:o.returnFocusOnDeactivate&&!Yx(e)}):eA(o.allowOutsideClick,t)||t.preventDefault())},h=function(t){var e=nA(t),n=s(e);n||e instanceof Document?n&&(i.mostRecentlyFocusedNode=e):(t.stopImmediatePropagation(),f(i.mostRecentlyFocusedNode||u()))},y=function(t){var e=nA(t);l();var n=null;if(i.tabbableGroups.length>0){var r=tA(i.tabbableGroups,(function(t){var n=t.container;return n.contains(e)}));if(r<0)n=t.shiftKey?i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:i.tabbableGroups[0].firstTabbableNode;else if(t.shiftKey){var o=tA(i.tabbableGroups,(function(t){var n=t.firstTabbableNode;return e===n}));if(o<0&&i.tabbableGroups[r].container===e&&(o=r),o>=0){var a=0===o?i.tabbableGroups.length-1:o-1,s=i.tabbableGroups[a];n=s.lastTabbableNode}}else{var u=tA(i.tabbableGroups,(function(t){var n=t.lastTabbableNode;return e===n}));if(u<0&&i.tabbableGroups[r].container===e&&(u=r),u>=0){var p=u===i.tabbableGroups.length-1?0:u+1,d=i.tabbableGroups[p];n=d.firstTabbableNode}}}else n=c("fallbackFocus");n&&(t.preventDefault(),f(n))},v=function(t){if(Zx(t)&&!1!==eA(o.escapeDeactivates,t))return t.preventDefault(),void n.deactivate();Jx(t)&&y(t)},m=function(t){if(!eA(o.clickOutsideDeactivates,t)){var e=nA(t);s(e)||eA(o.allowOutsideClick,t)||(t.preventDefault(),t.stopImmediatePropagation())}},g=function(){if(i.active)return Kx.activateTrap(n),i.delayInitialFocusTimer=o.delayInitialFocus?Qx((function(){f(u())})):f(u()),r.addEventListener("focusin",h,!0),r.addEventListener("mousedown",d,{capture:!0,passive:!1}),r.addEventListener("touchstart",d,{capture:!0,passive:!1}),r.addEventListener("click",m,{capture:!0,passive:!1}),r.addEventListener("keydown",v,{capture:!0,passive:!1}),n},b=function(){if(i.active)return r.removeEventListener("focusin",h,!0),r.removeEventListener("mousedown",d,!0),r.removeEventListener("touchstart",d,!0),r.removeEventListener("click",m,!0),r.removeEventListener("keydown",v,!0),n};return n={activate:function(t){if(i.active)return this;var e=a(t,"onActivate"),n=a(t,"onPostActivate"),o=a(t,"checkCanFocusTrap");o||l(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=r.activeElement,e&&e();var s=function(){o&&l(),g(),n&&n()};return o?(o(i.containers.concat()).then(s,s),this):(s(),this)},deactivate:function(t){if(!i.active)return this;clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,b(),i.active=!1,i.paused=!1,Kx.deactivateTrap(n);var e=a(t,"onDeactivate"),r=a(t,"onPostDeactivate"),o=a(t,"checkCanReturnFocus");e&&e();var s=a(t,"returnFocus","returnFocusOnDeactivate"),c=function(){Qx((function(){s&&f(p(i.nodeFocusedBeforeActivation)),r&&r()}))};return s&&o?(o(p(i.nodeFocusedBeforeActivation)).then(c,c),this):(c(),this)},pause:function(){return i.paused||!i.active||(i.paused=!0,b()),this},unpause:function(){return i.paused&&i.active?(i.paused=!1,l(),g(),this):this},updateContainerElements:function(t){var e=[].concat(t).filter(Boolean);return i.containers=e.map((function(t){return"string"===typeof t?r.querySelector(t):t})),i.active&&l(),this}},n.updateContainerElements(t),n};function oA(t){return oA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oA(t)}var iA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aA=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":oA(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},sA=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uuid=SI(),e.isModalVisible=!1,e}return iA(e,t),e.prototype.accept=function(t,e){void 0===e&&(e=null),("enter"===e&&this.acceptOnEnter||"space"===e&&t.target===this.$el||null===e)&&(this.preventAccept||(this.onAccept&&this.onAccept(),this.hide()))},e.prototype.cancel=function(){this.preventCancel||(this.onCancel&&this.onCancel(),this.hide())},e.prototype.watchIsVisible=function(t){var e=this;t?this.$nextTick((function(){e.$nextTick((function(){var t,n,r,o;"undefined"===typeof e.focusTrap&&(e.focusTrap=rA(e.$el,{initialFocus:null!==(o=null!==(n=null!==(t=e.initialFocus)&&void 0!==t?t:e.$el)&&void 0!==n?n:null===(r=e.$refs.accept)||void 0===r?void 0:r.$el)&&void 0!==o&&o})),e.focusTrap.activate()}))})):this.focusTrap.deactivate(),this.$emit("visibilityChanged",t)},e.prototype.hide=function(){this.isModalVisible=!1},e.prototype.show=function(){this.isModalVisible=!0},Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.isModalVisible},enumerable:!1,configurable:!0}),aA([El({type:Function,required:!1,default:null})],e.prototype,"onCancel",void 0),aA([El({type:String,required:!1,default:"ui.modals.generic.cancel"})],e.prototype,"cancelTranslationKey",void 0),aA([El({type:Boolean,required:!1,default:!1})],e.prototype,"preventCancel",void 0),aA([El({type:Function,required:!1,default:null})],e.prototype,"onAccept",void 0),aA([El({type:String,required:!1,default:"ui.modals.generic.accept"})],e.prototype,"acceptTranslationKey",void 0),aA([El({type:Boolean,required:!1,default:!1})],e.prototype,"preventAccept",void 0),aA([El({type:String,required:!1,default:void 0})],e.prototype,"initialFocus",void 0),aA([El({type:Boolean,required:!1,default:!0})],e.prototype,"acceptOnEnter",void 0),aA([Cl("isModalVisible")],e.prototype,"watchIsVisible",null),e=aA([_l({components:{ImaiosButton:jf}})],e),e}(el.a),cA=sA,uA=cA,lA=(n("350e"),zl(uA,Ox,Ix,!1,null,null,null)),fA=lA.exports;function pA(t){return pA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pA(t)}var dA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hA=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":pA(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},yA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dA(e,t),Object.defineProperty(e.prototype,"error",{get:function(){return this.$store.getters[Zf(gx,ex.FIRST_ERROR)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasError",{get:function(){return this.$store.getters[Zf(gx,ex.HAS_ERRORS)]},enumerable:!1,configurable:!0}),e.prototype.watchHasError=function(t){t&&this.$refs.modal.show()},Object.defineProperty(e.prototype,"isModalVisible",{get:function(){var t,e;return null!==(e=null===(t=this.$refs.modal)||void 0===t?void 0:t.isVisible)&&void 0!==e&&e},enumerable:!1,configurable:!0}),e.prototype.watchIsModalVisible=function(t){!t&&this.hasError&&this.$refs.modal&&this.$refs.modal.show()},e.prototype.onAccept=function(){this.$store.dispatch(Zf(gx,QC.ERROR_REMOVE_FIRST))},hA([Cl("hasError")],e.prototype,"watchHasError",null),hA([Cl("isModalVisible")],e.prototype,"watchIsModalVisible",null),e=hA([_l({components:{ModalWindow:fA}})],e),e}(el.a),vA=yA,mA=vA,gA=zl(mA,_x,Sx,!1,null,null,null),bA=gA.exports,wA=[_v,vv],_A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),SA=function(t){function e(e,n){var r=t.call(this)||this;return r.supportedErrorList=Array.from(wA),r.component=null,r.vue=n,r.initStore(),r.initComponent(document.body),r.registerErrorHandler(),r.registerFullScreenHandler(),r}return _A(e,t),e.prototype.registerErrorHandler=function(){var t=this;el.a.config.errorHandler=function(e){t.handleError(e)},window.addEventListener("error",(function(e){return t.handleError(e.error),e.preventDefault(),!1})),window.addEventListener("unhandledrejection",(function(e){return t.handleError(e.reason),e.preventDefault(),!1}))},e.prototype.initStore=function(){this.vue.$store.registerModule(gx,wx)},e.prototype.initComponent=function(t){null!==this.component&&(this.component.$destroy(),this.component=null);var e=el.a.extend(bA),n=document.createElement("div");t.appendChild(n),this.component=new e({i18n:rC,parent:this.vue,store:this.vue.$store}).$mount(n)},e.prototype.handleError=function(t){if(!this.shouldHandleError(t))throw t;this.vue.$store.dispatch(Zf(gx,QC.ERROR_ADD),t)},e.prototype.shouldHandleError=function(t){return-1!==this.supportedErrorList.findIndex((function(e){return t.message.includes(e.errorName)||t.name===e.errorName}))},e.prototype.registerFullScreenHandler=function(){var t=this,e=["fullscreenChange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"];e.forEach((function(e){window.addEventListener(e,(function(){var e,n,r=null!==(n=null!==(e=document.webkitFullscreenElement)&&void 0!==e?e:document.mozFullScreenElement)&&void 0!==n?n:document.fullscreenElement;null!==r?t.initComponent(r):t.initComponent(document.body)}))}))},e}(l["Feature"]),OA=SA,IA=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ModalWindow",{ref:"modal",staticClass:"rename-modal",attrs:{"on-accept":function(){}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.$t("ui.modals.toManyFiles.title"))+" ")]},proxy:!0},{key:"body",fn:function(){return[n("p",[t._v(t._s(t.$t("ui.modals.toManyFiles.body")))])]},proxy:!0}])})},EA=[];function CA(t){return CA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CA(t)}var xA,AA,PA,TA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jA=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":CA(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},DA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return TA(e,t),e.prototype.show=function(){this.$refs.modal.show()},e.prototype.hide=function(){this.$refs.modal.hide()},Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.$refs.modal.isVisible},enumerable:!1,configurable:!0}),e=jA([_l({components:{ModalWindow:fA}})],e),e}(el.a),kA=DA,LA=kA,RA=zl(LA,IA,EA,!1,null,null,null),MA=RA.exports,BA=1e3,NA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),FA=function(t){function e(e){var n=t.call(this)||this;return n.warningShown=!1,n.sliceService=vc.sliceService,n.initComponent(e),n.init(),n}return NA(e,t),e.prototype.initComponent=function(t){var e=el.a.extend(MA),n=document.createElement("div");t.$root.$el.appendChild(n),this.component=new e({i18n:rC,parent:t}).$mount(n)},e.prototype.subscribe=function(){var t=this;return[{from:this.sliceService,name:Or,action:function(){!t.warningShown&&t.sliceService.getNumberOfResources()>BA&&(t.component.show(),t.warningShown=!0)}}]},e}(Wu),UA=FA,zA=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"conditional-on",rawName:"v-conditional-on:dragover",value:t.conditionalOnDragOver,expression:"conditionalOnDragOver",arg:"dragover"},{name:"conditional-on",rawName:"v-conditional-on:dragend",value:t.conditionalOnDragEnd,expression:"conditionalOnDragEnd",arg:"dragend"},{name:"conditional-on",rawName:"v-conditional-on:dragleave",value:t.conditionalOnDragLeave,expression:"conditionalOnDragLeave",arg:"dragleave"}],ref:"root",staticClass:"thumbnail-container"},[t._l(t.thumbnailSnapshots,(function(e,r){return n("ThumbnailComponent",{key:e.thumbnailId,ref:"items",refInFor:!0,class:{dragged:t.draggedThumbnailId===e.thumbnailId},style:{order:r},attrs:{snapshot:e},nativeOn:{dragstart:function(n){return t.onDragStart(n,e.thumbnailId)},dragend:function(e){return t.onDragEnd.apply(null,arguments)},dragover:function(t){t.preventDefault()},dragenter:function(t){t.preventDefault()}}})})),t.showInsertCursor?n("div",{ref:"cursor",staticClass:"thumbnail-cursor",style:{order:t.dragCursorIndex-1},attrs:{"aria-hidden":"true"}}):t._e()],2)},VA=[];n("b65f");(function(t){t["THUMBNAIL_ADD"]="thumbnail:add",t["THUMBNAIL_SET_SRC"]="thumbnail:set-src",t["THUMBNAIL_REMOVE"]="thumbnail:remove",t["THUMBNAIL_BIND_TO_CELL"]="thumbnail:bind-to-cell",t["THUMBNAIL_UNBIND"]="thumbnail:unbind",t["THUMBNAIL_FOCUS"]="thumbnail:focus",t["THUMBNAIL_BLUR"]="thumbnail:blur",t["THUMBNAIL_UPDATE"]="thumbnail:update",t["THUMBNAIL_SET_INDEX"]="thumbnail:set-index"})(xA||(xA={})),function(t){t["THUMBNAIL_ADD"]="THUMBNAIL:ADD",t["THUMBNAIL_REPLACE"]="THUMBNAIL:REPLACE",t["THUMBNAIL_SET_SRC"]="THUMBNAIL:SET_SRC",t["THUMBNAIL_REMOVE"]="THUMBNAIL:REMOVE",t["THUMBNAIL_BIND_TO_CELL"]="THUMBNAIL:BIND_TO_CELL",t["THUMBNAIL_UNBIND"]="THUMBNAIL:UNBIND",t["THUMBNAIL_FOCUS"]="THUMBNAIL:FOCUS",t["THUMBNAIL_BLUR"]="THUMBNAIL:BLUR"}(AA||(AA={})),function(t){t["SNAPSHOT_GET_BY_ID"]="snapshot:get-by-id",t["SNAPSHOT_GET_ALL"]="snapshot:get-all",t["HAS_ITEMS"]="has-items"}(PA||(PA={}));var WA,HA,YA,GA=function(){return GA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},GA.apply(this,arguments)},$A="thumbnail",XA={namespaced:!0,state:{thumbnailCollection:{}},actions:(WA={},WA[xA.THUMBNAIL_ADD]=function(t,e){var n=t.commit;n(AA.THUMBNAIL_ADD,e)},WA[xA.THUMBNAIL_SET_SRC]=function(t,e){var n=t.commit,r=e.thumbnailId,o=e.src;n(AA.THUMBNAIL_SET_SRC,{thumbnailId:r,src:o})},WA[xA.THUMBNAIL_REMOVE]=function(t,e){var n=t.commit;n(AA.THUMBNAIL_REMOVE,e)},WA[xA.THUMBNAIL_BIND_TO_CELL]=function(t,e){var n=t.commit,r=e.thumbnailId,o=e.cellId;n(AA.THUMBNAIL_BIND_TO_CELL,{thumbnailId:r,cellId:o})},WA[xA.THUMBNAIL_UNBIND]=function(t,e){var n=t.commit;n(AA.THUMBNAIL_UNBIND,e)},WA[xA.THUMBNAIL_FOCUS]=function(t,e){var n=t.commit;n(AA.THUMBNAIL_FOCUS,e)},WA[xA.THUMBNAIL_BLUR]=function(t,e){var n=t.commit;n(AA.THUMBNAIL_BLUR,e)},WA[xA.THUMBNAIL_UPDATE]=function(t,e){var n=t.commit,r=t.state,o=r.thumbnailCollection[e.thumbnailId];n(AA.THUMBNAIL_REPLACE,GA(GA({},o),e))},WA[xA.THUMBNAIL_SET_INDEX]=function(t,e){var n=t.rootGetters,r=t.state,o=e.thumbnailId,i=e.index,a=n["idv/get-framework"];i=Math.max(0,Math.min(i,a.getNbSeries()-1)),a.setSeriesAtIndex(r.thumbnailCollection[o].seriesId,i)},WA),mutations:(HA={},HA[AA.THUMBNAIL_ADD]=function(t,e){el.a.set(t.thumbnailCollection,e.thumbnailId,e)},HA[AA.THUMBNAIL_REPLACE]=function(t,e){el.a.set(t.thumbnailCollection,e.thumbnailId,e)},HA[AA.THUMBNAIL_SET_SRC]=function(t,e){var n=e.thumbnailId,r=e.src,o=t.thumbnailCollection[n];o.src=r,el.a.set(t.thumbnailCollection,n,o)},HA[AA.THUMBNAIL_REMOVE]=function(t,e){el.a.delete(t.thumbnailCollection,e)},HA[AA.THUMBNAIL_BIND_TO_CELL]=function(t,e){var n=e.thumbnailId,r=e.cellId,o=t.thumbnailCollection[n];o.activeInCell=r,el.a.set(t.thumbnailCollection,n,o)},HA[AA.THUMBNAIL_UNBIND]=function(t,e){var n=t.thumbnailCollection[e];n.activeInCell=NaN,el.a.set(t.thumbnailCollection,e,n)},HA[AA.THUMBNAIL_FOCUS]=function(t,e){var n=t.thumbnailCollection[e];n.isFocused=!0,el.a.set(t.thumbnailCollection,e,n)},HA[AA.THUMBNAIL_BLUR]=function(t,e){var n=t.thumbnailCollection[e];n.isFocused=!1,el.a.set(t.thumbnailCollection,e,n)},HA),getters:(YA={},YA[PA.SNAPSHOT_GET_BY_ID]=function(t){return function(e){var n;return null!==(n=t.thumbnailCollection[e])&&void 0!==n?n:null}},YA[PA.SNAPSHOT_GET_ALL]=function(t){return Object.values(t.thumbnailCollection).sort((function(t,e){return t.sortOrder-e.sortOrder}))},YA[PA.HAS_ITEMS]=function(t){return Object.keys(t.thumbnailCollection).length>0},YA)};function KA(t){return KA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KA(t)}var qA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZA=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":KA(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},JA=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragCursorIndex=-1,e.targetOrder=-1,e.originalThumbnailIndex=-1,e.draggedThumbnailId=null,e.isCursorOnContainer=!1,e}return qA(e,t),e.prototype.onDragStart=function(t,e){var n=this.thumbnailSnapshots.findIndex((function(t){return t.thumbnailId===e}));this.doReorder&&(this.draggedThumbnailId=e,this.originalThumbnailIndex=n);var r=this.$store.getters[Zf($A,PA.SNAPSHOT_GET_BY_ID)](e);if(null===r)throw new j(e);this.preview=this.$refs.items.find((function(t){return t.$props.snapshot.thumbnailId===e})).$el.cloneNode(!0),this.preview.classList.add("off-screen"),document.body.appendChild(this.preview),t.dataTransfer.setDragImage(this.preview,this.preview.clientWidth/2,this.preview.clientHeight/2),t.dataTransfer.setData("application/json",JSON.stringify({seriesId:r.seriesId}))},e.prototype.onDragEnd=function(){this.preview.remove()},Object.defineProperty(e.prototype,"conditionalOnDragOver",{get:function(){var t=this;return{handler:function(e){var n=e.clientX-t.$refs.root.getBoundingClientRect().left;if(t.isCursorOnContainer=!0,"undefined"===typeof t.itemBoundingRects){t.itemBoundingRects=[];for(var r=0;r<t.$refs.items.length;r++)t.itemBoundingRects[r]=t.$refs.items[r].$el.getBoundingClientRect()}t.targetOrder=Math.max(0,Math.min(t.itemBoundingRects.length-1,Math.trunc(n/t.itemBoundingRects[0].width))),t.dragCursorIndex=Math.max(0,Math.min(t.itemBoundingRects.length,t.targetOrder+(t.originalThumbnailIndex<t.targetOrder?1:0)))},condition:this.doReorder}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"conditionalOnDragEnd",{get:function(){var t=this;return{handler:function(e){var n,r,o=null!==(r=null===(n=t.thumbnailSnapshots.find((function(e){return e.thumbnailId===t.draggedThumbnailId})))||void 0===n?void 0:n.seriesId)&&void 0!==r?r:null;if(null===o)throw"this.draggedThumbnailId does not match to an existing thumbnail";t.isCursorOnContainer&&t.targetOrder!==t.originalThumbnailIndex&&t.$store.dispatch(Zf($A,xA.THUMBNAIL_SET_INDEX),{thumbnailId:t.draggedThumbnailId,index:t.targetOrder}),t.draggedThumbnailId=null,t.originalThumbnailIndex=-1},condition:this.doReorder}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"conditionalOnDragLeave",{get:function(){var t=this;return{handler:function(e){t.isCursorOnContainer=!1},condition:this.doReorder}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thumbnailSnapshots",{get:function(){return this.itemBoundingRects=void 0,this.$store.getters[Zf($A,PA.SNAPSHOT_GET_ALL)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showInsertCursor",{get:function(){return this.doReorder&&null!==this.draggedThumbnailId&&this.isCursorOnContainer&&this.targetOrder!==this.originalThumbnailIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doReorder",{get:function(){var t;return null!==(t=this.$store.getters["dynamic-component/definition:get-by-identifier"](this.identifier).config.doReorder)&&void 0!==t&&t},enumerable:!1,configurable:!0}),ZA([El({required:!0})],e.prototype,"identifier",void 0),e=ZA([_l({components:{ThumbnailComponent:Ql}})],e),e}(el.a),QA=JA,tP=QA,eP=(n("1eb5"),zl(tP,zA,VA,!1,null,null,null)),nP=eP.exports,rP=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fullscreen-button right"},[t.isViewerReady?n("MenuButton",{attrs:{identifier:"toggle-fullscreen"}}):t._e()],1)},oP=[];function iP(t){return iP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iP(t)}var aP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sP=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":iP(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},cP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return aP(e,t),e=sP([_l({computed:Object(Op["b"])("idv",["isViewerReady"]),components:{MenuButton:bf["MenuButton"]}})],e),e}(el.a),uP=cP,lP=uP,fP=(n("189e"),zl(lP,rP,oP,!1,null,null,null)),pP=fP.exports,dP=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},hP=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"idv-icon left"},[r("img",{staticClass:"idv-icon__img",attrs:{src:n("7bc5"),alt:"idv logo"}})])}];function yP(t){return yP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yP(t)}var vP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mP=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":yP(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},gP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vP(e,t),e=mP([_l],e),e}(el.a),bP=gP,wP=bP,_P=(n("7d7d"),zl(wP,dP,hP,!1,null,null,null)),SP=_P.exports,OP=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroller-wrapper center",class:{isScrollableLeft:t.isScrollableLeft,isScrollableRight:t.isScrollableRight}},[n("div",{ref:"scrollContainer",staticClass:"scroller-container",on:{scroll:t.onScroll}},[n("div",{staticClass:"scroller",on:{wheel:t.onWheel}},t._l(t.items,(function(t){return n(t.type,{key:t.id,tag:"component",attrs:{identifier:t.id}})})),1)])])},IP=[];function EP(t){return EP="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EP(t)}var CP,xP,AP,PP,TP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jP=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":EP(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},DP=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isScrollableLeft=!1,e.isScrollableRight=!1,e}return TP(e,t),Object.defineProperty(e.prototype,"items",{get:function(){return this.$store.getters["dynamic-component/node:get-children"](this.identifier)},enumerable:!1,configurable:!0}),e.prototype.watchItemList=function(){this.onScroll()},e.prototype.onWheel=function(t){var e=this.$refs.scrollContainer;"undefined"!==typeof t&&(t.preventDefault(),Math.abs(t.deltaY)>Math.abs(t.deltaX)?e.scrollLeft+=t.deltaY:e.scrollLeft+=t.deltaX)},e.prototype.onScroll=function(){var t=this.$refs.scrollContainer;this.isScrollableLeft=0!==t.scrollLeft,this.isScrollableRight=t.scrollLeft+t.clientWidth!==t.scrollWidth},e.prototype.mounted=function(){this.onScroll()},jP([El({required:!0})],e.prototype,"identifier",void 0),jP([Cl("items")],e.prototype,"watchItemList",null),e=jP([_l({})],e),e}(el.a),kP=DP,LP=kP,RP=(n("2a89"),zl(LP,OP,IP,!1,null,null,null)),MP=RP.exports,BP={id:"gallery-desktop",children:[{id:"idv-icon",type:SP,config:{}},{id:"scroller",type:MP,config:{children:["thumbnail-container"]}},{id:"fullscreen",type:pP,config:{}}]},NP=BP,FP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),UP=function(t){function e(e,n){var r=t.call(this)||this;return n.registerModule(rf,af),r.dispatch=n.dispatch,r.thumbnailService=vc.thumbnailService,r.dispatch("dynamic-component/definition:register",{id:"thumbnail-container",type:nP,config:{doReorder:!1}},ef),r.dispatch(Zf(rf,Al.GALLERY_ADD),NP,ef),r.init(e),r}return FP(e,t),e.prototype.subscribe=function(t){var e=this;return void 0===t&&(t=this.agent),[{from:this.thumbnailService,name:I,action:function(t){var n=e.thumbnailService.findById(t.thumbnailId);e.dispatch(Zf(rf,Al.GALLERY_ADD_THUMBNAIL),n,ef)}},{from:this.thumbnailService,name:C,action:function(t){var n=t.thumbnailId;e.dispatch(Zf(rf,Al.GALLERY_REMOVE_THUMBNAIL),n,ef)}},{from:this.thumbnailService,name:E,action:function(t){var n=t.thumbnailId,r=t.updates;"undefined"!==typeof r.src&&e.dispatch(Zf($A,xA.THUMBNAIL_UPDATE),{thumbnailId:n,src:r.src},ef)}}]},e}(Wu),zP=UP,VP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),WP=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},HP=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},YP=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GP=function(t){function e(e){var n=t.call(this)||this;return n.dispatch=e,n.thumbnailService=vc.thumbnailService,n.cellService=vc.cellService,n.seriesService=vc.seriesService,n.init(),n}return VP(e,t),e.prototype.updateThumbnail=function(t){var e=this.thumbnailService.findById(t);if(null===e)throw new j(t);var n=this.takeSnapshot(t);this.dispatch(Zf($A,xA.THUMBNAIL_UPDATE),n,ef)},e.prototype.getCellId=function(t){return this.cellService.isSeriesVisible(t)?this.cellService.getCellIdBySeriesId(t):-1},e.prototype.takeSnapshot=function(t){var e=this.thumbnailService.findById(t);if(null===e)throw new j(t);var n=this.getCellId(e.seriesId),r=this.seriesService.findById(e.seriesId);if(null===r)throw new B(e.seriesId);return{seriesId:e.seriesId,activeInCell:n,src:e.src,sortOrder:this.seriesService.getSeriesIndex(e.seriesId),thumbnailId:t,isFocused:-1!==n&&this.cellService.isFocusedCell(n),name:r.name,loadedAmount:100}},e.prototype.refreshThumbnailsOrder=function(t,e){for(var n=t;n<=e;n++){var r=this.seriesService.getSeriesByIndex(n).getId(),o=this.thumbnailService.getThumbnailIdBySeriesId(r);null!==o&&this.updateThumbnail(o)}},e.prototype.subscribe=function(t){var e=this;return void 0===t&&(t=this.agent),[{from:this.thumbnailService,name:I,action:function(t){var n=t.thumbnailId;return WP(e,void 0,Promise,(function(){return HP(this,(function(t){switch(t.label){case 0:return[4,this.dispatch(Zf($A,xA.THUMBNAIL_ADD),this.takeSnapshot(n),ef)];case 1:return t.sent(),this.refreshThumbnailsOrder(0,this.seriesService.getNumberOfResources()-1),[2]}}))}))}},{from:this.thumbnailService,name:C,action:function(t){var n=t.thumbnailId;return WP(e,void 0,Promise,(function(){return HP(this,(function(t){switch(t.label){case 0:return[4,this.dispatch(Zf($A,xA.THUMBNAIL_REMOVE),n,ef)];case 1:return t.sent(),[2]}}))}))}},{from:this.cellService,name:ri,action:function(t){var n=t.seriesId;return WP(e,void 0,Promise,(function(){var t;return HP(this,(function(e){switch(e.label){case 0:return t=this.thumbnailService.findBySeriesId(n),null===t||this.cellService.isSeriesVisible(n)?[2]:[4,this.dispatch(Zf($A,xA.THUMBNAIL_UNBIND),t.id,ef)];case 1:return e.sent(),[2]}}))}))}},{from:this.cellService,name:ni,action:function(t){var n=t.seriesId,r=t.cellId;return WP(e,void 0,Promise,(function(){var t;return HP(this,(function(e){switch(e.label){case 0:return t=this.thumbnailService.findBySeriesId(n),null===t?[2]:this.cellService.isSeriesVisible(n)?[3,2]:[4,this.dispatch(Zf($A,xA.THUMBNAIL_UNBIND),t.id,ef)];case 1:return e.sent(),[3,4];case 2:return[4,this.dispatch(Zf($A,xA.THUMBNAIL_BIND_TO_CELL),{thumbnailId:t.id,cellId:r},ef)];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))}},{from:this.cellService,name:Qo,action:function(){return WP(e,void 0,Promise,(function(){var t,e,n,r,o,i,a,s,c;return HP(this,(function(u){switch(u.label){case 0:t=this.cellService.getSeriesIdBoundToCell(),u.label=1;case 1:u.trys.push([1,8,9,10]),e=YP(t),n=e.next(),u.label=2;case 2:return n.done?[3,7]:(r=n.value,o=this.thumbnailService.getThumbnailIdBySeriesId(r),null===o?[3,6]:(i=this.takeSnapshot(o),isNaN(i.activeInCell)?[4,this.dispatch(Zf($A,xA.THUMBNAIL_UNBIND),o,ef)]:[3,4]));case 3:return u.sent(),[3,6];case 4:return[4,this.dispatch(Zf($A,xA.THUMBNAIL_BIND_TO_CELL),{thumbnailId:o,cellId:i.activeInCell},ef)];case 5:u.sent(),u.label=6;case 6:return n=e.next(),[3,2];case 7:return[3,10];case 8:return a=u.sent(),s={error:a},[3,10];case 9:try{n&&!n.done&&(c=e.return)&&c.call(e)}finally{if(s)throw s.error}return[7];case 10:return[2]}}))}))}},{from:this.cellService,name:ei,action:function(t){var n=t.cellId;return WP(e,void 0,Promise,(function(){var t,e,r,o,i,a,s,c,u;return HP(this,(function(l){switch(l.label){case 0:t=this.cellService.getCellById(n),e=this.cellService.getSeriesVisible(),l.label=1;case 1:l.trys.push([1,8,9,10]),r=YP(e),o=r.next(),l.label=2;case 2:return o.done?[3,7]:(i=o.value,a=this.thumbnailService.findBySeriesId(i),null===a?[3,6]:i!==t.getSeriesId()?[3,4]:[4,this.dispatch(Zf($A,xA.THUMBNAIL_FOCUS),a.id,ef)]);case 3:return l.sent(),[3,6];case 4:return[4,this.dispatch(Zf($A,xA.THUMBNAIL_BLUR),a.id,ef)];case 5:l.sent(),l.label=6;case 6:return o=r.next(),[3,2];case 7:return[3,10];case 8:return s=l.sent(),c={error:s},[3,10];case 9:try{o&&!o.done&&(u=r.return)&&u.call(r)}finally{if(c)throw c.error}return[7];case 10:return[2]}}))}))}},{from:this.seriesService,name:Z,action:function(t){var n=t.min,r=t.max;e.refreshThumbnailsOrder(n,r)}},{from:this.seriesService,name:q,action:function(t){var n=t.seriesId;e.dispatch(Zf($A,xA.THUMBNAIL_UPDATE),e.takeSnapshot(e.thumbnailService.findBySeriesId(n).id),ef)}}]},e}(Wu),$P=GP,XP=n("9edc"),KP=n.n(XP),qP={id:"mpr",type:bf["MenuButton"],config:{src:[KP.a],actionId:"toggle-mpr",actionType:bf["ACTION_TYPE"].STATELESS,translationKey:"ui.viewer.menu.open-mpr",disabled:!0}},ZP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),JP=9,QP=function(t){function e(e,n){var r=t.call(this,e)||this;return r.dispatch=n,r.seriesService=vc.seriesService,r.cellService=vc.cellService,r.sliceFileProvider=vc.sliceFileProvider,dC(qP,JP),r.dispatch("menu/menu:register-component",{config:qP,handler:r.onTrigger.bind(r)},ef),r.dispatch(Zf(ZC.MODULE_NAME,yC.VOTER_ADD),r.createVoter(),ef),r.init(),r}return ZP(e,t),e.prototype.createVoter=function(){var t=this;return{id:"open-mpr",voter:function(e){if(!e.event)return!1;var n=Ma(e.event);if(null!==n){var r=t.cellService.getSeriesIdByCellId(n);if(null!==r)return t.isSeriesEligible(r)}return!1},option:{id:"open-mpr",icon:KP.a,action:function(){t.onTrigger()}}}},e.prototype.isSeriesEligible=function(t){var e;return(null===(e=this.sliceFileProvider.getFileContainer(t))||void 0===e?void 0:e.getImageFormat())===no.DICOM&&this.sliceService.getNbSlices(t)>1},e.prototype.onTrigger=function(){this.start(this.seriesService.getCurrentResource().getId())},e.prototype.subscribe=function(){var t=this;return[{from:this.seriesService,name:tt,action:function(e){var n=e.seriesId;t.onConditionChange(n)}},{from:this.cellService,name:[ti,ei],action:function(e){var n=e.cellId,r=t.cellService.getSeriesIdByCellId(n);null!==r&&t.onConditionChange(r)}}]},e.prototype.onConditionChange=function(t){var e;(null===(e=this.sliceProvider.getFileContainer(t))||void 0===e?void 0:e.getImageFormat())!==no.DICOM||this.sliceService.getNbSlices(t)<=1?this.dispatch("menu/node:disable",qP.id,ef):this.dispatch("menu/node:enable",qP.id,ef)},e}($b),tT=QP;(function(t){t["FILES_LOAD"]="files:load",t["CALLBACK_SET"]="callback:set"})(CP||(CP={})),function(t){t["CALLBACK_SET"]="CALLBACK:SET"}(xP||(xP={}));var eT="load-files",nT={namespaced:!0,state:function(){return{onFileLoad:function(){}}},actions:(AP={},AP[CP.FILES_LOAD]=function(t,e){var n=t.state;n.onFileLoad(e)},AP[CP.CALLBACK_SET]=function(t,e){var n=t.commit;n(xP.CALLBACK_SET,e)},AP),mutations:(PP={},PP[xP.CALLBACK_SET]=function(t,e){t.onFileLoad=e},PP)},rT=nT,oT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iT="user-input",aT=function(t){function e(e,n){var r=t.call(this)||this;return r.dispatch=n.$store.dispatch,r.fileHandlerService=vc.fileHandlerService,r.loadingTopic=vc.topic.loading,r.initStoreModule(n),r}return oT(e,t),e.prototype.initStoreModule=function(t){t.$store.registerModule(eT,rT),this.dispatch(Zf(eT,CP.CALLBACK_SET),this.onFileLoad.bind(this))},e.prototype.onFileLoad=function(t){var e=this;if(0!==t.length){var n=Array.from(t),r=n.reduce((function(t,e){return t+e.size}),0),o=0;this.loadingTopic.publish(Fh.STARTED,{loading:iT,progress:{percent:0,total:r,bytesReceived:0,chunkLength:0}}),Promise.all(n.map((function(t){return e.fileHandlerService.loadFile(t,{fileName:t.name,handlingContext:iT}).then((function(){o+=t.size,e.loadingTopic.publish(Fh.PROGRESSED,{loading:iT,progress:{percent:100*o/r,total:r,bytesReceived:o,chunkLength:t.size}})}))}))).then((function(){return e.loadingTopic.publish(Fh.ENDED,{loading:iT})}))}},e}(l["Feature"]),sT=aT,cT=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ImaiosButton",{staticClass:"idv-placeholder__button",attrs:{variant:"secondary"},on:{click:function(e){return t.openModal("input-from-url")}},scopedSlots:t._u([{key:"default",fn:function(){return[n("span",[t._v(t._s(t.$t("idv-placeholder.import-from-url")))])]},proxy:!0},{key:"icon",fn:function(){return[n("ImportURLIcon",{staticClass:"idv-placeholder__button-icon"})]},proxy:!0}])})],1)},uT=[],lT="import-from-url";function fT(t){return fT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fT(t)}var pT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dT=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":fT(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},hT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pT(e,t),e.prototype.openModal=function(t){this.$store.dispatch("idv/modal:open",t)},dT([El({required:!1,default:lT})],e.prototype,"storeHandler",void 0),e=dT([_l({name:"import-from-url",components:{ImaiosButton:jf,ImportURLIcon:lh.a}})],e),e}(el.a),yT=hT,vT=yT,mT=zl(vT,cT,uT,!1,null,"6a20977c",null),gT=mT.exports,bT=(n("af93"),function(){return bT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},bT.apply(this,arguments)}),wT={namespaced:!0,state:function(){return{hooks:{}}},actions:{"set:hook":function(t,e){var n=t.commit;n("SET_HOOK",e)},"perform:hook":function(t,e){var n=t.state,r="string"===typeof e?e:e.name,o="string"===typeof e?e:e.payload;"function"===typeof n.hooks[r]&&n.hooks[r](o)}},mutations:{SET_HOOK:function(t,e){var n=e.hook,r=e.callback;t.hooks[n]=r}}},_T=(Object.seal(wT),function(t){var e=void 0===t?{}:t,n=e.state,r=e.actions,o=e.mutations,i=e.namespaced,a=e.getters;return{namespaced:null!==i&&void 0!==i?i:wT.namespaced,state:function(){return bT(bT({},"function"===typeof wT.state?wT.state():wT.state),"function"===typeof n?n():n)},actions:bT(bT({},wT.actions),r),mutations:bT(bT({},wT.mutations),o),getters:bT({},a)}});function ST(t,e,n,r){void 0===r&&(r=t.$root.$el);var o=el.a.extend(e),i=document.createElement("template");r.appendChild(i);var a=new o({store:t.$store,i18n:t.$i18n,parent:t,propsData:n});return a.$mount(i),a}var OT=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ModalWindow",{ref:"modal",staticClass:"input-url-modal dark",attrs:{"on-cancel":t.cancel,"on-accept":t.submit,"initial-focus":t.$refs.input,"accept-translation-key":"ui.modals.input-from-url.submitButton"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.$t("ui.modals.input-from-url.title"))+" ")]},proxy:!0},{key:"body",fn:function(e){var r=e.accept;return[n("form",{ref:"form",on:{submit:function(t){return t.preventDefault(),r.apply(null,arguments)}}},[n("div",{staticClass:"form-input__group"},[n("label",{staticClass:"form-input__label input-url-modal__label",attrs:{for:t.uuid+"input"}},[t._v(t._s(t.$t("ui.modals.input-from-url.inputLabel")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],ref:"input",staticClass:"form-input__input input-url-modal__input",attrs:{id:t.uuid+"input",minlength:"5",type:"url"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}})])])]}},{key:"footer",fn:function(){return[n("ImaiosButton",{attrs:{variant:"secondary"},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("ui.modals.generic.cancel"))+" ")]),n("ImaiosButton",{ref:"accept",attrs:{variant:"primary",disabled:!t.formIsValid},on:{click:t.submit}},[t._v(" "+t._s(t.$t("ui.modals.input-from-url.submitButton"))+" ")])]},proxy:!0}])})},IT=[];function ET(t){return ET="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ET(t)}var CT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xT=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":ET(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},AT=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.url="",e.formIsValid=!1,e}return CT(e,t),e.prototype.created=function(){this.uuid=SI()},e.prototype.watchIsVisible=function(t){t?this.$refs.modal.show():this.$refs.modal.hide()},e.prototype.watchUrl=function(){this.formIsValid=this.$refs.form.checkValidity()},Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.$store.getters["idv/modal:is-open"]("input-from-url")},enumerable:!1,configurable:!0}),e.prototype.cancel=function(){this.$store.dispatch("idv/modal:close","input-from-url")},e.prototype.submit=function(){this.$emit("close"),this.$store.dispatch("idv/modal:close","input-from-url"),this.$store.dispatch("".concat(this.storeHandler,"/perform:hook"),{name:"load:url",payload:this.url})},xT([El({required:!0})],e.prototype,"storeHandler",void 0),xT([Cl("isVisible")],e.prototype,"watchIsVisible",null),xT([Cl("url")],e.prototype,"watchUrl",null),e=xT([_l({components:{ImaiosButton:jf,ModalWindow:fA}})],e),e}(el.a),PT=AT,TT=PT,jT=(n("d98c"),zl(TT,OT,IT,!1,null,null,null)),DT=jT.exports,kT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),LT=function(t){function e(n,r){var o=t.call(this)||this;return o.dispatch=r.$store.dispatch,o.fileHandlerService=vc.fileHandlerService,o.loadingTopic=vc.topic.loading,o.initStoreModule(r),o.addDynamicComponent(),ST(r,DT,{storeHandler:e.MODULE_NAME}),o}return kT(e,t),e.prototype.initStoreModule=function(t){var n=this;t.$store.registerModule(e.MODULE_NAME,_T()),this.dispatch(Zf(e.MODULE_NAME,"set:hook"),{hook:"load:url",callback:function(t){n.dispatch("idv/modal:close","import-file-popin"),Hh(t,n.fileHandlerService,n.loadingTopic,{fileName:t.split("/").reverse()[0],handlingContext:Mh})}})},e.prototype.addDynamicComponent=function(){this.dispatch("dynamic-component/definition:register",{id:"import-from-url",type:gT},ef),this.dispatch("dynamic-component/node:add-child",{id:"import-from-url",parentId:"import-file-section",index:1},ef)},e.MODULE_NAME=lT,e}(l["Feature"]),RT=LT,MT=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ImaiosButton",{staticClass:"idv-placeholder__button",attrs:{variant:"secondary"},on:{click:t.openChooser},scopedSlots:t._u([{key:"default",fn:function(){return[n("span",[t._v(t._s(t.$t("idv-placeholder.import-from-dropbox")))])]},proxy:!0},{key:"icon",fn:function(){return[n("DropBoxIcon",{staticClass:"idv-placeholder__button-icon"})]},proxy:!0}])})},BT=[],NT=n("16fe"),FT=n.n(NT);function UT(t){return UT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UT(t)}var zT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VT=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":UT(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},WT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zT(e,t),e.prototype.openChooser=function(){this.$emit("close"),this.$store.dispatch("".concat(ej.MODULE_NAME,"/perform:hook"),"open-chooser")},e=VT([_l({name:"import-from-url",components:{ImaiosButton:jf,InputUrl:DT,ImportURLIcon:lh.a,DropBoxIcon:FT.a}})],e),e}(el.a),HT=WT,YT=HT,GT=zl(YT,MT,BT,!1,null,"8307b528",null),$T=GT.exports,XT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),KT=function(t){function e(e){var n=t.call(this,"Not Supported : ".concat(e))||this;return n.name="NotSupportedError",n}return XT(e,t),e}(Error),qT=KT,ZT=function(t){if("undefined"===typeof window.Dropbox){var e=document.createElement("script");e.onload=function(){if(!window.Dropbox.isBrowserSupported())throw new qT("Dropbox chooser: This browser is not supported")},e.setAttribute("src","https://www.dropbox.com/static/api/2/dropins.js"),e.setAttribute("id","dropboxjs"),e.setAttribute("data-app-key",t),document.head.appendChild(e)}},JT=function(t){window.Dropbox.choose(t)},QT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tj=function(t){function e(e,n){var r,o=this;return o=t.call(this)||this,o.dispatch=n.$store.dispatch,o.fileService=vc.fileHandlerService,o.loadingTopic=vc.topic.loading,(null===(r=window.Dropbox)||void 0===r?void 0:r.isBrowserSupported())?(ZT("1c2x9gmamfxurge"),o.initStoreModule(n),o.addDynamicComponent(),o):o}return QT(e,t),e.prototype.initStoreModule=function(t){var n=this;t.$store.registerModule(e.MODULE_NAME,_T()),this.dispatch(Zf(e.MODULE_NAME,"set:hook"),{hook:"open-chooser",callback:function(){JT({success:function(t){t.forEach((function(t){!1===t.isDir&&Hh(t.link,n.fileService,n.loadingTopic,{fileName:t.name,handlingContext:Mh})}))},multiselect:!0,linkType:"direct"})}})},e.prototype.addDynamicComponent=function(){this.dispatch("dynamic-component/definition:register",{id:"import-from-dropbox",type:$T},ef),this.dispatch("dynamic-component/node:add-child",{id:"import-from-dropbox",parentId:"import-file-section",index:2},ef)},e.MODULE_NAME="import-from-dropbox-module",e}(l["Feature"]),ej=tj,nj=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rj=function(t){function e(e){var n=t.call(this,"refresh-viewer")||this;return n.viewer=e,n}return nj(e,t),e.prototype.loop=function(e){t.prototype.loop.call(this,e),this.viewer.resize()},e}(Kn),oj=rj,ij=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aj=function(t){function e(e){var n=t.call(this)||this;return n.observer=null,n.viewer=e,n.container=n.viewer.canvasDiv,n.animationService=vc.animationService,n.animationService.recordAnimation(new oj(e),wn.HIGH),n.initResizeObserver(),EI({name:xc.VIEWER_CREATED,from:e}).then((function(){n.enable()})),n}return ij(e,t),e.prototype.initResizeObserver=function(){var t=this;if(!window.ResizeObserver)return console.warn("ResizeObserver is not available, falling back to window resize (less previse)."),void this.initResizeListeners();this.observer=new ResizeObserver((function(){t.animationService.trigger("refresh-viewer")}))},e.prototype.enable=function(){var e;t.prototype.enable.call(this),null===(e=this.observer)||void 0===e||e.observe(this.container)},e.prototype.disable=function(){var e;t.prototype.disable.call(this),null===(e=this.observer)||void 0===e||e.disconnect()},e.prototype.initResizeListeners=function(){var t=this;window.addEventListener("resize",(function(){t.isEnabled()&&t.animationService.trigger("refresh-viewer")}),!1),window.addEventListener("orientationchange",(function(){t.isEnabled()&&t.animationService.trigger("refresh-viewer")}),!1)},e.prototype.destroy=function(){var e;null===(e=this.observer)||void 0===e||e.disconnect(),this.observer=null,t.prototype.destroy.call(this)},e}(l["Feature"]),sj=aj,cj=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ModalWindow",{ref:"modal",staticClass:"idv-popin dark",attrs:{"on-cancel":t.cancel,"initial-focus":t.$refs.input},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"header"},[n("h2",[t._v(t._s(t.$t("ui.modals.import-file-popin.title")))]),n("h3",[t._v(t._s(t.$t("idv-placeholder.supported-files-format")))])]),n("hr",{staticClass:"hr-line"})]},proxy:!0},{key:"body",fn:function(){return[n("import-file-section",{staticClass:"import-file-section",on:{close:t.cancel}})]},proxy:!0},{key:"footer",fn:function(){return[n("ImaiosButton",{attrs:{variant:"secondary"},on:{click:t.cancel}},[t._v(" "+t._s(t.$t("ui.modals.generic.cancel"))+" ")])]},proxy:!0}])})},uj=[],lj=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"idv-placeholder__buttons-wrapper"},t._l(t.children,(function(e){return n(e.type,{key:e.id,tag:"component",attrs:{identifier:e.id},on:{close:function(e){return t.$emit("close")}}})})),1)},fj=[];function pj(t){return pj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pj(t)}var dj=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hj=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":pj(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},yj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dj(e,t),Object.defineProperty(e.prototype,"children",{get:function(){return this.$store.getters["dynamic-component/node:get-children"]("import-file-section")},enumerable:!1,configurable:!0}),e=hj([_l({name:"import-file-section"})],e),e}(el.a),vj=yj,mj=vj,gj=zl(mj,lj,fj,!1,null,null,null),bj=gj.exports;function wj(t){return wj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wj(t)}var _j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sj=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":wj(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Oj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _j(e,t),e.prototype.created=function(){this.uuid=SI()},e.prototype.watchIsVisible=function(t){t?this.$refs.modal.show():this.$refs.modal.hide()},Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.$store.getters["idv/modal:is-open"]("import-file-popin")},enumerable:!1,configurable:!0}),e.prototype.cancel=function(){this.$store.dispatch("idv/modal:close","import-file-popin")},Sj([Cl("isVisible")],e.prototype,"watchIsVisible",null),e=Sj([_l({name:"import-file-popin",components:{ImportFileSection:bj,ImaiosButton:jf,ModalWindow:fA}})],e),e}(el.a),Ij=Oj,Ej=Ij,Cj=(n("3486"),zl(Ej,cj,uj,!1,null,null,null)),xj=Cj.exports,Aj=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],staticClass:"add-button",on:{click:t.click}},[n("XIcon",{staticClass:"icon"})],1)},Pj=[],Tj=n("65f6"),jj=n.n(Tj);function Dj(t){return Dj="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dj(t)}var kj=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lj=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":Dj(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Rj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return kj(e,t),e.prototype.click=function(){this.$store.dispatch("idv/modal:open","import-file-popin")},Object.defineProperty(e.prototype,"isVisible",{get:function(){return!this.$store.getters["idv/modal:is-open"](xn)},enumerable:!1,configurable:!0}),e=Lj([_l({components:{XIcon:jj.a}})],e),e}(el.a),Mj=Rj,Bj=Mj,Nj=(n("e023"),zl(Bj,Aj,Pj,!1,null,null,null)),Fj=Nj.exports,Uj=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zj=function(t){function e(e,n,r){void 0===r&&(r={});var o=t.call(this)||this;return o.seriesService=vc.seriesService,o.dispatch=n.$store.dispatch,o.dispatch("idv/modal:open",xn,ef),ST(n,xj),o.addDynamicComponent(),Kp(e,n,r,"import-file-feature"),o.init(),o}return Uj(e,t),e.prototype.subscribe=function(){var t=this;return[{from:this.seriesService,name:G,action:function(){0===t.seriesService.getNumberOfResources()&&t.dispatch("idv/modal:open",xn,ef)}}]},e.prototype.addDynamicComponent=function(){var t="add-button";this.dispatch("dynamic-component/definition:register",{id:t,type:Fj},ef),this.dispatch("dynamic-component/node:add-child",{id:t,parentId:"scroller",index:-1},ef)},e.MODULE_NAME=lT,e}(Wu),Vj=zj,Wj=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ImaiosButton",{staticClass:"idv-placeholder__button",on:{click:t.openFileImport},scopedSlots:t._u([{key:"default",fn:function(){return[n("span",[t._v(t._s(t.$t("idv-placeholder.import-file")))])]},proxy:!0},{key:"icon",fn:function(){return[n("ImportIcon",{staticClass:"idv-placeholder__button-icon"})]},proxy:!0}])}),n("file-input",{ref:"fileInput"})],1)},Hj=[],Yj=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{ref:"fileInput",staticClass:"add-button__input",attrs:{id:"add-series",type:"file",name:"file",title:"",accept:t.acceptFileTypes,multiple:""},on:{change:t.onFileLoad}})},Gj=[];function $j(t){return $j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$j(t)}var Xj=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kj=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":$j(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},qj=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.acceptFileTypes="",e}return Xj(e,t),e.prototype.onFileLoad=function(){var t=this.$refs.fileInput.files;this.$store.dispatch(Zf(eT,CP.FILES_LOAD),t)},e.prototype.click=function(){this.$refs.fileInput.click()},e.prototype.created=function(){this.acceptFileTypes=vc.fileHandlerService.getSupportedMimeTypes()},e=Kj([_l({})],e),e}(el.a),Zj=qj,Jj=Zj,Qj=(n("0e93"),zl(Jj,Yj,Gj,!1,null,"88a3e6b0",null)),tD=Qj.exports,eD=n("34e2"),nD=n.n(eD);function rD(t){return rD="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rD(t)}var oD=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iD=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":rD(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},aD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return oD(e,t),e.prototype.openFileImport=function(){this.$refs.fileInput.click(),this.$emit("close")},e=iD([_l({name:"import-from-desktop-filepicker",components:{ImaiosButton:jf,ImportIcon:nD.a,"file-input":tD}})],e),e}(el.a),sD=aD,cD=sD,uD=zl(cD,Wj,Hj,!1,null,"4a4d1bb2",null),lD=uD.exports,fD=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pD=function(t){function e(e,n){var r=t.call(this)||this;return r.dispatch=n.$store.dispatch,r.addDynamicComponent(),r}return fD(e,t),e.prototype.addDynamicComponent=function(){this.dispatch("dynamic-component/definition:register",{id:"import-from-desktop-filepicker",type:lD},ef),this.dispatch("dynamic-component/node:add-child",{id:"import-from-desktop-filepicker",parentId:"import-file-section",index:0},ef)},e}(l["Feature"]),dD=pD,hD=(n("bb40"),"spinner-widget"),yD=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vD=function(t){function e(){var e=t.call(this,hD)||this;return e.i18n=vc.i18n,e.initSpinner(),e}return yD(e,t),e.prototype.initSpinner=function(){var t=(new DOMParser).parseFromString('\n\t\t\t<span aria-hidden="true" class="spinner-widget__spinner"></span>\n\t\t\t<span class="spinner-widget__label">'.concat(this.i18n.translate("features.v-loading-feedback.label"),"</span>\n\t\t"),"text/html");while(t.body.children.length>0)this.getLayout().appendChild(t.body.children[0])},e}(Zu),mD=vD,gD=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bD=function(t){function e(e){var n=t.call(this)||this;return n.subscriber=new At["Subscriber"]("default-loading-feedback-feature"),n.widgetName=hD,n.numberOfDownload=0,n.loadingTopic=vc.topic.loading,n.seriesService=vc.seriesService,n.subscribeToProgressEvent(),n.init(e),n.hide(),n}return gD(e,t),e.prototype.createWidget=function(t){return new mD},e.prototype.subscribeToProgressEvent=function(){var t=this;this.subscriber.subscribe(this.loadingTopic,Fh.STARTED,(function(){t.onStarted()})),this.subscriber.subscribe(this.loadingTopic,Fh.ENDED,(function(){t.onEnd()})),this.subscriber.subscribe(this.loadingTopic,Fh.CANCELED,(function(){t.onEnd()}))},e.prototype.onStarted=function(){this.numberOfDownload+=1,this.updateWidget()},e.prototype.updateWidget=function(){var t=this.cellService.getNbVisibleCells(),e=this.cellService.getSeriesVisible().filter((function(t){return null!==t})).length;e<t&&this.numberOfDownload>0?this.show():this.hide()},e.prototype.show=function(){var t=this,e=this.cellService.getEmptyCellId();if(0!==e.length){var n=e[0];if(this.cellService.isVisibleCell(n)){var r=this.getWidgetByCellId(n);this.getWidgets().forEach((function(e){e===r?(e.enable(),e.display(),t.cellService.getCellById(n).getContainer().classList.add(An)):(e.disable(),e.hide())}))}}},e.prototype.hide=function(){this.widgetService.disableWidgetsByName(this.widgetName)},e.prototype.onEnd=function(){this.numberOfDownload-=1,this.updateWidget()},e.prototype.subscribe=function(){var t=this;return[{from:this.seriesService,name:H,action:function(){t.updateWidget()}},{from:this.cellService,name:[ii.BOUND_SERIES_CHANGED],action:function(){t.updateWidget()}}]},e}(Gu),wD=bD,_D={namespaced:!0,state:{value:0,max:100,visible:!1},actions:{hide:function(t){var e=t.commit;e("set-visibility",!1)},show:function(t){var e=t.commit;e("set-visibility",!0)},"set-value":function(t,e){var n=t.commit;n("set-value",e)},"set-max":function(t,e){var n=t.commit;n("set-max",e)}},mutations:{"set-visibility":function(t,e){t.visible=e},"set-value":function(t,e){t.value=e},"set-max":function(t,e){t.max=e}},getters:{max:function(t){return t.max},value:function(t){return t.value},visible:function(t){return t.visible}}},SD=function(){return nf(_D)},OD="main-progress-bar",ID=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ProgressBar",{staticClass:"bound-progress",class:t.cssClasses.concat([{"bound-progress__hidden":!t.isVisible}]),attrs:{value:t.value,max:t.max}})},ED=[];function CD(t){return CD="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CD(t)}var xD=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),AD=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":CD(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},PD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xD(e,t),Object.defineProperty(e.prototype,"max",{get:function(){return this.$store.getters["".concat(this.storeHandler,"/max")]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.$store.getters["".concat(this.storeHandler,"/value")]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.$store.getters["".concat(this.storeHandler,"/visible")]},enumerable:!1,configurable:!0}),AD([El({required:!0})],e.prototype,"storeHandler",void 0),AD([El({required:!1,default:[]})],e.prototype,"cssClasses",void 0),e=AD([_l({name:"progress-bar-bound-to-store",components:{ProgressBar:Wl}})],e),e}(el.a),TD=PD,jD=TD,DD=(n("f70f"),zl(jD,ID,ED,!1,null,null,null)),kD=DD.exports,LD=(n("f727"),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),RD=function(t){function e(e,n){var r=t.call(this)||this;return r.subscriber=new At["Subscriber"]("progress-loading-feedback-feature"),r.dataToLoad=0,r.dataLoaded=0,r.progressByLoading={},r.dispatch=n.$store.dispatch,r.loadingTopic=vc.topic.loading,$p(e,"v-synchronize-gallery","ProgressLoadingFeedbackFeature"),r.createProgressFeedback(n),r.subscribeToProgressEvent(),r}return LD(e,t),e.prototype.addProgressBar=function(){this.dispatch("dynamic-component/definition:register",{id:"progress_".concat(OD),type:kD,config:{storeHandler:OD,cssClasses:["main-progress"]}},ef),this.dispatch(Zf(bf["DYNAMIC_COMPONENT_MODULE_NAME"],bf["DYNAMIC_COMPONENT_ACTIONS"].NODE_ADD_CHILD),{id:"progress_".concat(OD),index:-1,parentId:NP.id},ef),this.dispatch("".concat(OD,"/set-max"),100),this.updateProgressValue(0)},e.prototype.subscribeToProgressEvent=function(){var t=this;this.subscriber.subscribe(this.loadingTopic,Fh.PROGRESSED,(function(e){var n=e.loading,r=e.progress;t.onProgress(n,r)})),this.subscriber.subscribe(this.loadingTopic,Fh.STARTED,(function(e){var n=e.loading,r=e.progress;t.onStarted(n,r)})),this.subscriber.subscribe(this.loadingTopic,Fh.ENDED,(function(e){var n=e.loading;t.onEnd(n)})),this.subscriber.subscribe(this.loadingTopic,Fh.CANCELED,(function(e){var n=e.loading;t.onCancel(n)}))},e.prototype.onStarted=function(t,e){this.dispatch("idv/modal:close",xn),this.dataToLoad+=e.total,this.dataLoaded+=e.bytesReceived,this.progressByLoading[t]=e},e.prototype.onProgress=function(t,e){this.dataLoaded+=e.chunkLength,this.progressByLoading[t]=e,this.dispatch(Zf(rf,Al.GALLERY_SET_VISIBILITY),!0,ef),this.dispatch("".concat(OD,"/show"),null,ef),this.updateProgressValue(this.dataLoaded/this.dataToLoad*100)},e.prototype.onEnd=function(t){this.dataToLoad<=this.dataLoaded&&(this.hideProgressValue(),this.dataToLoad=0,this.dataLoaded=0),delete this.progressByLoading[t]},e.prototype.onCancel=function(t){var e=this.progressByLoading[t];"undefined"!==typeof e&&(this.dataToLoad-=e.total,this.dataLoaded-=e.bytesReceived),this.onEnd(t)},e.prototype.createProgressFeedback=function(t){t.$store.hasModule(OD)||(t.$store.registerModule(OD,SD()),this.addProgressBar())},e.prototype.updateProgressValue=function(t){this.dispatch("".concat(OD,"/set-value"),t)},e.prototype.hideProgressValue=function(){this.dispatch("".concat(OD,"/hide"))},e}(l["Feature"]),MD=RD,BD=function(t,e,n){var r=n.getNbSlices(t);return e<0&&(e=e%r+r),e>=r&&(e%=r),e},ND=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),FD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ND(e,t),e.prototype.enable=function(){this.loopingEnabled=!0},e.prototype.disable=function(){this.loopingEnabled=!1},e.prototype.toggle=function(){this.loopingEnabled=!this.loopingEnabled},e.prototype.isLoopingEnabled=function(){return this.loopingEnabled},e.prototype.vote=function(e,n,r){return!(!this.isLoopingEnabled()||(n=BD(e,n,this.getSliceService()),!t.prototype.vote.call(this,e,n,r)))&&(r.sliceIndex=n,!0)},e}(Dr),UD=FD,zD=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zD(e,t),e.prototype.enable=function(){this.loopingEnabled=!0},e.prototype.disable=function(){this.loopingEnabled=!1},e.prototype.toggle=function(){this.loopingEnabled=!this.loopingEnabled},e.prototype.isLoopingEnabled=function(){return this.loopingEnabled},e.prototype.sanitize=function(t,e,n){n.priority<this.getPriority()&&this.isLoopingEnabled()&&(n.sliceIndex=BD(t,e,this.getSliceService()),n.priority=this.getPriority())},e}(Lr),WD=VD,HD=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),YD=function(t){function e(){var e=t.call(this)||this;return e.sliceService=vc.sliceService,e.keyboardService=vc.keyboardService,e.voter=new UD(e.sliceService),e.sliceService.addSetSliceIndexVoter(e.voter),e.sanitizer=new WD(e.sliceService,20),e.sliceService.addSliceIndexSanitize(e.sanitizer),e}return HD(e,t),e.prototype.subscribe=function(t){var e=this;return void 0===t&&(t=this.agent),[{from:this.keyboardService,name:Py,action:function(t){var n=t.key;"l"===n&&e.toggleLooping()}}]},e.prototype.toggleLooping=function(){this.voter.toggle(),this.sanitizer.toggle()},e}(Wu),GD=YD,$D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),XD=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},KD=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},qD=function(t){function e(e,n){var r=t.call(this)||this;return r.seriesService=vc.seriesService,r.dispatch=n.$store.dispatch,r.dispatch("menu/menu:register-component",{config:fC,handler:r.onTrigger.bind(r)},{root:!0}),r.init(),r}return $D(e,t),e.prototype.onTrigger=function(t,e){this.toggleLooping()},e.prototype.onConditionChange=function(){this.seriesService.getNumberOfResources()>0?this.dispatch("menu/node:enable",fC.id,ef):this.dispatch("menu/node:disable",fC.id,ef)},e.prototype.subscribe=function(){var e=this;return KD(KD([],XD(t.prototype.subscribe.call(this)),!1),[{from:this.seriesService,name:H,action:function(){e.onConditionChange()}},{from:this.seriesService,name:G,action:function(){e.onConditionChange()}}],!1)},e}(GD),ZD=qD,JD=n("dd07"),QD=n.n(JD),tk={id:"magnifier",type:bf["MenuButton"],config:{src:[QD.a],translationKey:"ui.viewer.menu.magnifier",actionId:"magnifier",actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"interactions"}},ek=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nk=function(t){function e(e,n){var r=t.call(this,e,n.$store.dispatch,[tk])||this;return r.isActive=!1,$p(e,"magnifier-feature","VMagnifierFeature"),r.interactionService=vc.interactionService,r}return ek(e,t),e.prototype.onTrigger=function(t,e){this.isActive?this.interactionService.restorePreviousInteraction():this.interactionService.select(Vw)},e}(wd),rk=nk,ok=function(){function t(t){this.callback=t}return t.prototype.build=function(t){return this.callback(t)},t}(),ik=ok,ak="rectangle",sk="ellipsis",ck=3,uk=3,lk=uk*ck,fk="arrow",pk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dk=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},hk=function(t){function e(){return t.call(this)||this}return pk(e,t),e.prototype.isAreaValid=function(t){return!this.isAvailableForSliceIndex(t)||this.getCoordinatesAt(t).getArea()>=En},e.prototype.checkCollision=function(t,e){if(!this.isAvailableForSliceIndex(t))return!1;var n=this.getCoordinatesAt(t),r=this.getAnimation().getCell(),o=Ra({x:n.getStartX(),y:n.getStartY()},r),i=Ra({x:n.getEndX(),y:n.getEndY()},r);return e.x>=o.x-eu&&e.x<=i.x+eu&&e.y>=o.y-eu&&e.y<=i.y+eu},e.prototype.apply=function(t){var e=this;if(this.type!==t.type)throw new ct("serialized","a serialized ".concat(this.type," annotation"),"a serialized ".concat(t.type," annotation"));return this.keyframeManager.removeAll(),Object.entries(t.keyframes).forEach((function(t){var n=dk(t,2),r=n[0],o=n[1];e.keyframeManager.setKeyframeAt((new ae).updateCoords(o),Number(r))})),this.setColor(t.style.color),this},e}(pr),yk=hk,vk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mk=function(t){function e(){return t.call(this,ge("rectangle-annotation-animation"))||this}return vk(e,t),e.prototype.loop=function(e){t.prototype.loop.call(this,e);var n=this.getSliceIndex(),r=this.getAnnotation();if(r.isAvailableForSliceIndex(n)){var o=this.getCell(),i=o.getCanvas(pn).context,a=r.getDrawCoords(o,n);i.save();var s=this.getStyle(),c=s.color,u=s.strokeThickness,l=s.strokeStyle,f=s.fill,p=s.fillOpacity;de(i,l,u),i.strokeStyle=c,i.beginPath(),i.rect(a.getStartX(),a.getStartY(),a.getWidth(),a.getHeight()),i.closePath(),"#00000000"!==f&&(i.save(),i.fillStyle=f,i.globalAlpha=p,i.fill(),i.restore()),i.stroke(),i.restore()}},e}(Qn),gk=mk,bk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wk=function(t){function e(){var e=t.call(this)||this;return e.type=ak,e.setKeyframeManager(pe({enableInterpolation:!0})),e.setAnimation(new gk),e.setInteraction(new cr(e)),e.type=ak,e}return bk(e,t),e.type=ak,e}(yk),_k=wk,Sk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ok=function(t){function e(e){var n=t.call(this,e)||this;return n.name="InvalidKeyframeDataException",n}return Sk(e,t),e}(Error),Ik=Ok,Ek=function(){function t(t,e){this.annotationConstructor=t,this.interactionService=e}return t.prototype.addKeyframes=function(t,e){var n=this;return e.forEach((function(e){return n.addKeyframe(t,e)})),t},t.prototype.create=function(t){var e=new this.annotationConstructor;return this.interactionService.addResource(e.getInteraction(),e.getInteraction().getId()),this.addKeyframes(e,t)},t}(),Ck=Ek,xk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ak=function(t){function e(){return t.call(this,_k,vc.interactionService)||this}return xk(e,t),e.prototype.addKeyframe=function(t,e){var n=e.points;if(!tw(n,4))throw new Ik('Keyframe data for annotation of type "'.concat(_k.type,'" is invalid, "points" should be an array of length 4, was "').concat(n.length,'"'));t.setCoordinatesAt(e.frame_index,new ae(!1).apply({points:n,rotation:e.rotation}))},e}(Ck),Pk=Ak,Tk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jk=function(t){function e(){return t.call(this,ge("ellipsis-annotation-animation"))||this}return Tk(e,t),e.prototype.loop=function(e){t.prototype.loop.call(this,e);var n=this.getSliceIndex(),r=this.getAnnotation();if(r.isAvailableForSliceIndex(n)){var o=this.getCell(),i=o.getCanvas(pn),a=r.getDrawCoords(o,n),s=i.context;s.save();var c=this.getStyle(),u=c.color,l=c.strokeThickness,f=c.strokeStyle,p=c.fill,d=c.fillOpacity;de(s,f,l),s.strokeStyle=u,s.beginPath(),s.ellipse(a.getCenterX(),a.getCenterY(),Math.abs(a.getWidth()/2),Math.abs(a.getHeight()/2),a.getRotation(),0,2*Math.PI,!1),s.closePath(),"#00000000"!==p&&(s.save(),s.fillStyle=p,s.globalAlpha=d,s.fill(),s.restore()),s.stroke(),s.restore()}},e}(Qn),Dk=jk,kk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lk=function(t){function e(){var e=t.call(this)||this;return e.type=sk,e.setKeyframeManager(pe({enableInterpolation:!0})),e.setAnimation(new Dk),e.type=sk,e}return kk(e,t),e.prototype.checkCollision=function(t,e){if(!this.isAvailableForSliceIndex(t))return!1;var n=this.getAnimation().getCell(),r=this.getDrawCoords(n,t),o=e.x-r.getCenterX(),i=e.y-r.getCenterY(),a=r.getWidth()/2,s=r.getHeight()/2;return o*o/(a*a)+i*i/(s*s)<1},e.type=sk,e}(yk),Rk=Lk,Mk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bk=function(t){function e(){return t.call(this,Rk,vc.interactionService)||this}return Mk(e,t),e.prototype.addKeyframe=function(t,e){var n=e.points;if(!tw(n,4))throw new Ik('Keyframe data for annotation of type "'.concat(Rk.type,'" is invalid, "points" should be an array of length 4, was "').concat(n.length,'"'));t.setCoordinatesAt(e.frame_index,new ae(!1).apply({points:n,rotation:e.rotation}))},e}(Ck),Nk=Bk,Fk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uk=function(t){function e(e){return void 0===e&&(e=!1),t.call(this,e)||this}return Fk(e,t),e.prototype.transfersToCanvasSpace=function(t,n){return new e(this.isInterpolated).updateCoords({startX:Vt(this.startX,n.width,t.x),startY:Vt(this.startY,n.height,t.y),endX:Vt(this.endX,n.width,t.x),endY:Vt(this.endY,n.height,t.y)})},e.prototype.clone=function(){return new e(this.isInterpolated).updateCoords({startX:this.getStartX(),startY:this.getStartY(),endX:this.getEndX(),endY:this.getEndY()})},e.prototype.apply=function(e){return t.prototype.apply.call(this,e)},e}(wu),zk=Uk,Vk=2*lk;function Wk(t,e){t.translate(e.getStartX(),e.getStartY());var n=Math.PI/180*-(e.getRotation()-90);t.rotate(n);var r=e.getLength(),o=Vk*Nt/2;t.beginPath(),t.moveTo(-o,o),t.lineTo(0,0),t.lineTo(o,o),t.moveTo(0,0),t.lineTo(0,r),t.rotate(0),t.translate(-e.getStartX(),-e.getStartY())}var Hk,Yk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gk=function(t){function e(){return t.call(this,ge("arrow-annotation"))||this}return Yk(e,t),e.prototype.loop=function(e){t.prototype.loop.call(this,e);var n=this.getCell(),r=this.getAnnotation(),o=this.getSliceIndex();if(r.isAvailableForSliceIndex(o)){var i=r.getDrawCoords(n,o),a=n.getCanvas(pn).context,s=this.getStyle(),c=s.color,u=s.strokeThickness;a.save(),Wk(a,i),a.strokeStyle=c,a.lineCap="round",a.lineWidth=u,a.stroke(),a.restore()}},e}(Qn),$k=Gk,Xk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xk(e,t),e.prototype.interpolateBetween=function(t,e,n){return new zk(!0).updateCoords({startX:zt(t.getStartX(),e.getStartX(),n),startY:zt(t.getStartY(),e.getStartY(),n),endX:zt(t.getEndX(),e.getEndX(),n),endY:zt(t.getEndY(),e.getEndY(),n)})},e}(Jt),qk=Kk,Zk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jk=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},Qk=function(t){function e(){var e=t.call(this)||this;return e.type=fk,e.setKeyframeManager(new qk),e.setAnimation(new $k),e.type=fk,e.strokeThickness=uk,e}return Zk(e,t),e.prototype.apply=function(t){var e=this;if(this.type!==t.type)throw new ct("serialized","a serialized ".concat(this.type," annotation"),"a serialized ".concat(t.type," annotation"));return this.keyframeManager.removeAll(),Object.entries(t.keyframes).forEach((function(t){var n=Jk(t,2),r=n[0],o=n[1];e.keyframeManager.setKeyframeAt((new zk).apply(o),Number(r))})),this.setColor(t.style.color),this},e.type=fk,e}(cu),tL=Qk,eL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nL=function(t){function e(){return t.call(this,tL,vc.interactionService)||this}return eL(e,t),e.prototype.addKeyframe=function(t,e){var n=e.points;if(!tw(n,4))throw new Ik('Keyframe data for annotation of type "'.concat(tL.type,'" is invalid, "points" should be an array of length 4, was "').concat(n.length,'"'));t.setCoordinatesAt(e.frame_index,new wu(!1).apply({points:n}))},e}(Ck),rL=nL,oL=(Hk={},Hk[ak]=new Pk,Hk[sk]=new Nk,Hk[fk]=new rL,Hk),iL=Object.keys(oL);function aL(t){return iL.includes(t)}var sL={SERIES_IMAGES_DOWNLOADED:"series:images-downloaded",SERIES_META_DOWNLOADED:"series:meta-downloaded",CASE_META_DOWNLOADED:"case:meta-downloaded",SERIES_LIST_LOADED:"series:list-loaded"},cL=5,uL=5e3,lL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fL=function(t){function e(e){var n,r,o,i=this;i=t.call(this)||this,i.caseData=null,i.seriesMetaById={},i.seriesAnnotationsById={},i.seriesZipById={},i.processedSliceIndexBySeriesId={},i.loadedSeriesId=new Set,i.reloadCounter=0,i.abortControler=null;var a=e.getSettings();return"string"===typeof a.apiDomain&&(i.viewer=e,i.caseId=null!==(o=null!==(n=a.caseId)&&void 0!==n?n:null===(r=Ow("caseId"))||void 0===r?void 0:r[0])&&void 0!==o?o:null,i.domain=a.apiDomain,i.propertyTransformerService=vc.propertyTransformerService,i.fileHandlerService=vc.fileHandlerService,i.sliceFileProvider=vc.sliceFileProvider,i.sliceService=vc.sliceService,i.annotationService=vc.annotationService,i.seriesFormatSelectorService=vc.seriesFormatSelection,i.translationService=vc.i18n,i.cellService=vc.cellService,i.progressTopic=vc.topic.loading,i.caseLoadingTopic=vc.topic.caseLoading,"undefined"!==typeof window.AbortController&&(i.abortControler=new AbortController,window.debug.abort=function(){return i.abortLoad()}),i.init()),i}return lL(e,t),e.prototype.loadCase=function(){var t=this;null!==this.caseId&&(this.cellService.setDisplayModeAutoUpdateEnabled(!1),zh({url:Tw({domain:this.domain,path:"".concat(OI(),"/api/idv/case/").concat(this.caseId)}),progress:function(){}}).then((function(e){e.ok?e.json().then((function(e){t.caseData=e.data,t.caseLoadingTopic.publish(sL.CASE_META_DOWNLOADED,{caseMeta:e}),t.viewer.publish(xc.CASE_LOADED,e)})):console.error(e)})))},e.prototype.subscribe=function(){var t=this;return[{from:this.viewer,name:xc.VIEWER_CREATED,action:function(){t.loadCase()}},{from:this.viewer,name:xc.CASE_LOADED,action:function(){t.loadSeries()}},{from:this.sliceFileProvider,name:lo.NEW_SLICE_AVAILABLE,action:function(e){var n,r,o,i,a,s,c,u,l,f,p,d,h,y,v,m,g,b,w,_,S,O,I,E,C,x,A,P,T,j,D,k,L=e.seriesId,R=e.slice;if(null!==t.caseData&&L in t.caseData.series){null===t.seriesMetaById[L]&&console.warn('no meta for series with remote ID "'.concat(L,'"')),"undefined"===typeof t.processedSliceIndexBySeriesId[L]&&(t.processedSliceIndexBySeriesId[L]=0);var M=t.processedSliceIndexBySeriesId[L],B=null!==(n=t.seriesMetaById[L])&&void 0!==n?n:null;null!==B&&(R.ipp=null!==(c=null!==(i=null===(o=null===(r=B.data)||void 0===r?void 0:r.ipp)||void 0===o?void 0:o[M])&&void 0!==i?i:null===(s=null===(a=B.data)||void 0===a?void 0:a.ipp)||void 0===s?void 0:s[0])&&void 0!==c?c:R.ipp,R.iop=null!==(d=null!==(l=null===(u=B.data.iop)||void 0===u?void 0:u[M])&&void 0!==l?l:null===(p=null===(f=B.data)||void 0===f?void 0:f.iop)||void 0===p?void 0:p[0])&&void 0!==d?d:R.iop,R.pixelSpacing=null!==(m=null!==(y=null===(h=B.data.pixelSpacing)||void 0===h?void 0:h[M])&&void 0!==y?y:null===(v=B.data.pixelSpacing)||void 0===v?void 0:v[0])&&void 0!==m?m:R.pixelSpacing,"undefined"!==typeof R.pixelSpacing&&(R.pixelWidth=null!==(b=null===(g=R.pixelSpacing)||void 0===g?void 0:g.x)&&void 0!==b?b:1,R.pixelHeight=null!==(_=null===(w=R.pixelSpacing)||void 0===w?void 0:w.y)&&void 0!==_?_:1),R.sliceUID=null!==(E=null!==(O=null===(S=B.data.seriesUID)||void 0===S?void 0:S[M])&&void 0!==O?O:null===(I=B.data.seriesUID)||void 0===I?void 0:I[0])&&void 0!==E?E:"",R.seriesUID=null!==(P=null!==(x=null===(C=B.data.seriesUID)||void 0===C?void 0:C[M])&&void 0!==x?x:null===(A=B.data.seriesUID)||void 0===A?void 0:A[0])&&void 0!==P?P:"",R.acquisitionNumber=null!==(k=null!==(j=null===(T=B.data.acquisitionNumber)||void 0===T?void 0:T[M])&&void 0!==j?j:null===(D=B.data.acquisitionNumber)||void 0===D?void 0:D[0])&&void 0!==k?k:0),t.processedSliceIndexBySeriesId[L]++}}}]},e.prototype.setDisplayModeBySeriesNumber=function(){null!==this.caseData&&this.cellService.setDefaultDisplayModeBySeriesNumber(Math.min(Object.keys(this.caseData.series).length,Ke))},e.prototype.loadSeries=function(){var t=this;if(null===this.caseData)throw new Error("Case data is null");var e=this.caseData,n=e.series;if("undefined"!==typeof n){this.setDisplayModeBySeriesNumber();var r=Object.keys(n).map((function(e){return t.loadedSeriesId.has(e)?Promise.resolve():Promise.all([t.loadSeriesMeta(e),t.loadSeriesImages(e),t.loadAnnotations(e)]).then((function(){return t.processSeries(e,n[e].data.name)})).then((function(){return t.processAnnotations(e),!0})).catch((function(e){if(e.reload&&t.reloadCounter<cL)return t.caseData=null,t.reloadCounter++,setTimeout((function(){t.loadCase()}),uL),!1;throw new Ub(e.message)}))}));Promise.all(r).then((function(n){n.every((function(t){return t}))&&t.viewer.publish(xc.ALL_SERIES_LOADED,{seriesIdList:Object.keys(e.series)})}))}},e.prototype.loadSeriesImages=function(t){var e=this;if(null===this.caseData)throw new Error("Case data is null");var n=this.caseData.series[t].data;if(0===n.formats_available.length)return Promise.reject({seriesId:t,message:this.translationService.translate("error.series-has-no-files",{seriesName:n.name}),reload:!0});var r=this.seriesFormatSelectorService.getFormatToLoad(n.formats_available);return this.getImagesDownloadLink(t,r).then((function(n){var r;return Yh(n,e.progressTopic,Wh,(function(n){return e.caseLoadingTopic.publish(sL.SERIES_IMAGES_DOWNLOADED,{file:n}),e.seriesZipById[t]=n}),(function(){}),null===(r=e.abortControler)||void 0===r?void 0:r.signal)}))},e.prototype.getImagesDownloadLink=function(t,e){var n=this;return new Promise((function(r){zh({url:Tw({domain:n.domain,path:"".concat(OI(),"/api/idv/series/").concat(n.caseId,"/").concat(t,"/").concat(e)}),progress:function(){}}).then((function(t){t.json().then((function(t){var e=t.url;r(e)}))}))}))},e.prototype.loadSeriesMeta=function(t){var e=this;return new Promise((function(n){var r;if(null===e.caseData)throw new Error("Case data is null");var o=e.caseData.series[t].data;"undefined"!==typeof o.meta_link?Yh(o.meta_link,e.progressTopic,Gh,(function(n){e.seriesMetaById[t]=n,e.caseLoadingTopic.publish(sL.SERIES_META_DOWNLOADED,{seriesMeta:n})}),(function(){e.seriesMetaById[t]=null}),null===(r=e.abortControler)||void 0===r?void 0:r.signal).then(n):(e.seriesMetaById[t]=null,n())}))},e.prototype.processSeries=function(t,e){var n,r,o=this;if(!(t in this.seriesZipById)||!(t in this.seriesMetaById)||this.loadedSeriesId.has(t))return Promise.resolve();var i=e,a=this.seriesMetaById[t];if(null!==a){var s=this.propertyTransformerService.removeTransformations(a);this.seriesMetaById[t]=s,i=null!==(r=null!==(n=s.data.name)&&void 0!==n?n:s.data.series_description)&&void 0!==r?r:i}return this.fileHandlerService.loadBuffer(new Uint8Array(this.seriesZipById[t]),{fileName:i,handlingContext:Rh,data:{seriesId:t,seriesName:i,seriesMeta:a,caseMeta:this.caseData},async:!1}).then((function(){o.loadedSeriesId.add(t),delete o.seriesZipById[t]}))},e.prototype.loadAnnotations=function(t){var e=this;if(null===this.caseData)throw new Error("Case data is null");var n=this.caseData.series[t].data;return"string"===typeof n.annotation_link?new Promise((function(r){var o;Yh(n.annotation_link,e.progressTopic,Gh,(function(n){return e.seriesAnnotationsById[t]=n}),(function(){return e.seriesAnnotationsById[t]=null}),null===(o=e.abortControler)||void 0===o?void 0:o.signal).then(r).catch(r)})):Promise.resolve()},e.prototype.processAnnotations=function(t){var e=this,n=this.seriesAnnotationsById[t];if("undefined"!==typeof n&&null!==n&&"annotations"===n.type&&this.loadedSeriesId.has(t)){var r=Object.keys(oL),o=this.sliceService.getSliceIndex(t);n.data.forEach((function(n){var i=n.type;if(aL(i)){var a=oL[i].create(n.data.keyframe.map((function(t){var e=t.data;return e})));a.setColor(n.data.color),a.getAnimation().setSliceIndex(o),e.annotationService.addAnnotation(a,t)}else console.warn('Annotation with type "'.concat(i,'" are not supported. (supported annotation type are : ').concat(r))}))}},e.prototype.abortLoad=function(t){var e;try{null===(e=this.abortControler)||void 0===e||e.abort(t)}catch(n){if(!(n instanceof DOMException&&"AbortError"===n.name))throw n}},e}(Wu),pL=fL,dL=n("64d4"),hL=n.n(dL),yL={id:"presentation-mode",type:bf["MenuButton"],config:{src:[hL.a],translationKey:"features.v-presentation-mode.label",actionId:"toggle-presentation-mode",actionType:bf["ACTION_TYPE"].STATELESS,disabled:!0}},vL={id:"drawing-tool",type:bf["MenuButton"],config:{src:[hL.a],translationKey:"features.v-presentation-mode.label",actionId:"toggle-drawing-tool",actionType:bf["ACTION_TYPE"].TOGGLE_RADIO,actionGroup:"interactions"}},mL=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{directives:[{name:"conditional-on",rawName:"v-conditional-on:mousedown.root",value:t.rootMouseDown,expression:"rootMouseDown",arg:"mousedown",modifiers:{root:!0}},{name:"conditional-on",rawName:"v-conditional-on:keydown.root",value:t.rootKeyDown,expression:"rootKeyDown",arg:"keydown",modifiers:{root:!0}}],staticClass:"color-picker annotation-edit-menu-item"},[n("button",{directives:[{name:"tippy",rawName:"v-tippy",value:t.tippy,expression:"tippy"}],staticClass:"annotation-edit-menu-item__head button",attrs:{type:"button"},on:{click:t.togglePicker}},[n("span",{staticClass:"color-picker__dot active",style:{"background-color":t.selected}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"annotation-edit-menu-item__body"},[n("fieldset",{staticClass:"color-picker__fieldset"},[n("legend",{staticClass:"color-picker__legend annotation-edit-menu-item__legend"},[t._v(" "+t._s(t.$t("annotation.color"))+" ")]),n("div",{staticClass:"color-picker__item-list"},t._l(t.availableColors,(function(e){return n("label",{key:e,staticClass:"color-picker__item-label color-picker__dot",class:{active:e===t.selected},style:{"background-color":e},attrs:{for:t.uuid+e}},[n("input",{staticClass:"color-picker__item-radio",attrs:{id:t.uuid+e,name:t.uuid,type:"radio"},domProps:{checked:e===t.selected,value:e},on:{change:function(n){return t.onSelectedChange(e)}}})])})),0)])])])},gL=[];function bL(t){return bL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bL(t)}var wL,_L,SL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),OL=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":bL(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},IL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isOpen=!1,e.uuid=SI(),e}return SL(e,t),e.prototype.togglePicker=function(){this.isOpen=!this.isOpen},Object.defineProperty(e.prototype,"rootMouseDown",{get:function(){var t=this;return{condition:this.isOpen,handler:function(e){e.composedPath().includes(t.$el)||(t.isOpen=!1)}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rootKeyDown",{get:function(){var t=this;return{condition:this.isOpen,handler:function(e){t.isOpen="Escape"!==e.key}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawConfig",{get:function(){return this.$store.getters["dynamic-component/definition:get-by-identifier"](this.identifier)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tippy",{get:function(){return{}},enumerable:!1,configurable:!0}),OL([El({required:!0})],e.prototype,"identifier",void 0),e=OL([_l],e),e}(el.a),EL=IL,CL=EL,xL=(n("f055"),zl(CL,wL,_L,!1,null,null,null)),AL=xL.exports;function PL(t){return PL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PL(t)}var TL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jL=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":PL(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},DL=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.availableColors=Bt,e}return TL(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){var t;return null===(t=this.rawConfig.config)||void 0===t?void 0:t.currentColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tippy",{get:function(){return{disable:this.isOpen,content:this.$t("annotation.color"),singletonName:"menuButtons"}},enumerable:!1,configurable:!0}),e.prototype.onSelectedChange=function(t){var e;null===(e=this.rawConfig.config)||void 0===e||e.action(t)},e=jL([_l({components:{MenuButton:bf["MenuButton"]}})],e),e}(AL),kL=DL,LL=kL,RL=(n("dac5"),zl(LL,mL,gL,!1,null,null,null)),ML=RL.exports,BL={id:"drawing-color-selector",type:ML,config:{action:function(){},currentColor:iO.getColor()}},NL=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{directives:[{name:"conditional-on",rawName:"v-conditional-on:mousedown.root",value:t.rootMouseDown,expression:"rootMouseDown",arg:"mousedown",modifiers:{root:!0}},{name:"conditional-on",rawName:"v-conditional-on:keydown.root",value:t.rootKeyDown,expression:"rootKeyDown",arg:"keydown",modifiers:{root:!0}}],staticClass:"stroke-picker annotation-edit-menu-item"},[n("button",{directives:[{name:"tippy",rawName:"v-tippy",value:t.tippy,expression:"tippy"}],staticClass:"annotation-edit-menu-item__head button",attrs:{type:"button"},on:{click:t.togglePicker}},[n("StrokeIcon",{staticClass:"icon"})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"annotation-edit-menu-item__body"},[n("fieldset",[n("legend",{staticClass:"annotation-edit-menu-item__legend"},[t._v(" "+t._s(t.$t("annotation.stroke"))+" ")]),n("div",{staticClass:"stroke-picker__thickness"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.thickness,expression:"thickness"}],staticClass:"stroke-picker__thickness-range",attrs:{id:t.uuid+"thickness-range",type:"range",name:t.uuid+"thickness-range",min:"1",max:"10",step:"1"},domProps:{value:t.thickness},on:{__r:function(e){t.thickness=e.target.value}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.thickness,expression:"thickness"}],staticClass:"stroke-picker__thickness-input",attrs:{id:t.uuid+"thickness-number",type:"number",name:t.uuid+"thickness-number",min:"1",max:"10",step:"1"},domProps:{value:t.thickness},on:{input:function(e){e.target.composing||(t.thickness=e.target.value)}}})])])])])},FL=[],UL=n("3932"),zL=n.n(UL);function VL(t){return VL="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VL(t)}var WL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),HL=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":VL(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},YL=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return WL(e,t),Object.defineProperty(e.prototype,"tippy",{get:function(){return{disable:this.isOpen,content:this.$t("annotation.stroke"),singletonName:"menuButtons"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this.rawConfig.config.currentStrokeThickness},set:function(t){this.rawConfig.config.changeStrokeThickness(t)},enumerable:!1,configurable:!0}),e=HL([_l({components:{StrokeIcon:zL.a}})],e),e}(AL),GL=YL,$L=GL,XL=(n("85ea"),zl($L,NL,FL,!1,null,null,null)),KL=XL.exports,qL={id:"annotation-stroke-selector",type:KL,config:{changeStrokeStyle:function(t){},changeStrokeThickness:function(t){},currentStrokeStyle:Yt.SOLID,currentStrokeThickness:1}},ZL={id:"presentation-menu",type:bf["Menu"],children:[cC,{id:vL.id,type:vL.type},{id:BL.id,type:BL.type},{id:qL.id,type:qL.type}],defaultItem:vL.id},JL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),QL="presentation-mode",tR=4,eR=function(t){function e(e,n){var r=t.call(this,e,n.$store.dispatch,[yL,vL])||this;return r.isActive=!1,dC(yL,tR),r.seriesService=vc.seriesService,r.interactionService=vc.interactionService,r.i18n=vc.i18n,r.annotationService=vc.annotationService,r.initConditionChange(e),r.initPresentationMode(),r}return JL(e,t),e.prototype.initConditionChange=function(t){var e=this,n=new l["SmartComponent"];n.subscribe(t,Oc,(function(){var r=e.onConditionChange.bind(e);n.subscribe(e.seriesService,H,r),n.subscribe(e.seriesService,G,r),n.subscribe(e.interactionService,Ie.INTERACTION_CHANGE,(function(t){var n=t.interactionName;n===un.ANNOTATE.FREE_FORM&&e.dispatcher(Zf(bf["MENU_MODULE_NAME"],bf["MENU_ACTIONS"].NODE_SELECT),vL.id,ef)})),n.unsubscribe(t,Oc)}))},e.prototype.onTrigger=function(t,e){switch(t.id){case yL.id:this.enablePresentationMode();break;case vL.id:this.enableDrawingTool();break}},e.prototype.enablePresentationMode=function(){var t=this;this.dispatcher(Zf(sp,Rf.CONTENT_SET_TITLE),this.i18n.translate("features.v-presentation-mode.title")),this.dispatcher(Zf(sp,Rf.CONTENT_SET_ICON),yL.config.src[0]),this.dispatcher(Zf(sp,Rf.MODE_SET),QL),this.dispatcher(Zf(sp,Rf.VISIBILITY_SET),!0),el.a.nextTick().then((function(){return t.viewer.resize()})),this.dispatcher(Zf(bf["MENU_MODULE_NAME"],bf["MENU_ACTIONS"].MENU_SELECT),ZL.id,ef),this.enableDrawingTool(),this.isActive=!this.isActive},e.prototype.disablePresentationMode=function(){var t=this;this.dispatcher(Zf(bf["MENU_MODULE_NAME"],bf["MENU_ACTIONS"].MENU_SELECT),mC.id,ef),this.dispatcher(Zf(sp,Rf.VISIBILITY_SET),!1),this.annotationService.find({type:sO}).forEach((function(e){t.annotationService.removeById(e.getId())})),el.a.nextTick().then((function(){return t.viewer.resize()}))},e.prototype.onConditionChange=function(){var t=Object.keys(this.seriesService.getResources()).length;t>0?this.dispatcher(Zf(bf["MENU_MODULE_NAME"],bf["MENU_ACTIONS"].NODE_ENABLE),yL.id,ef):this.dispatcher(Zf(bf["MENU_MODULE_NAME"],bf["MENU_ACTIONS"].NODE_DISABLE),yL.id,ef)},e.prototype.initPresentationMode=function(){var t=this;this.dispatcher(Zf(bf["MENU_MODULE_NAME"],bf["MENU_ACTIONS"].MENU_ADD),ZL),this.dispatcher(Zf(sp,Rf.MODE_ADD),QL),this.dispatcher(Zf(sp,Rf.CALLBACK_ADD),{mode:QL,name:kf.CANCEL,callback:function(){return t.disablePresentationMode()}})},e.prototype.enableDrawingTool=function(){this.interactionService.select(un.ANNOTATE.FREE_FORM)},e}(wd),nR=eR,rR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oR=function(t){function e(e){var n=t.call(this)||this;return n.dispatcher=e.$store.dispatch,n.interactionService=vc.interactionService,BL.config.action=n.changeColor.bind(n),n.dispatcher("dynamic-component/definition:register",BL,{root:!0}),n}return rR(e,t),e.prototype.changeColor=function(t){iO.setColor(t),BL.config.currentColor=t,this.dispatcher("dynamic-component/definition:register",BL,{root:!0});var e=this.interactionService.findById(un.ANNOTATE.FREE_FORM),n=e.getFactory();n.addStyleOverride({color:t}),this.interactionService.select(un.ANNOTATE.FREE_FORM)},e}(l["Feature"]),iR=oR,aR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sR=function(t){function e(e){var n=t.call(this)||this;return n.dispatcher=e.$store.dispatch,n.interactionService=vc.interactionService,qL.config.changeStrokeThickness=n.changeStrokeThickness.bind(n),n.dispatcher("dynamic-component/definition:register",qL,{root:!0}),n}return aR(e,t),e.prototype.changeStrokeThickness=function(t){var e=this.interactionService.findById(un.ANNOTATE.FREE_FORM),n=e.getFactory();n.addStyleOverride({strokeThickness:t}),qL.config.currentStrokeThickness=t,this.dispatcher("dynamic-component/definition:register",qL,{root:!0}),this.interactionService.select(un.ANNOTATE.FREE_FORM)},e}(l["Feature"]),cR=sR,uR=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"drop-zone",class:{"is-visible":t.isVisible}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isModalVisible,expression:"!isModalVisible"}],staticClass:"drop-zone__text"},[t._v(" "+t._s(t.$t("idv-placeholder.main-text"))+" ")])])},lR=[];function fR(t){return fR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fR(t)}var pR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dR=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":fR(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},hR=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDraggedOver=!1,e}return pR(e,t),e.prototype.mounted=function(){this.boundDragOver=this.onDragOver.bind(this),this.boundDragEnd=this.onDragEnd.bind(this),this.boundEndAnimation=this.endAnimation.bind(this),this.$parent.$el.addEventListener("dragover",this.boundDragOver),this.$parent.$el.addEventListener("dragend",this.boundDragEnd),this.$parent.$el.addEventListener("dragleave",this.boundDragEnd),this.$parent.$el.addEventListener("drop",this.boundDragEnd),this.$parent.$el.addEventListener("animationiteration",this.boundEndAnimation)},e.prototype.beforeDestroy=function(){this.$parent.$el.removeEventListener("dragover",this.boundDragOver),this.$parent.$el.removeEventListener("dragend",this.boundDragEnd),this.$parent.$el.removeEventListener("dragleave",this.boundDragEnd),this.$parent.$el.removeEventListener("drop",this.boundDragEnd),this.$parent.$el.removeEventListener("animationiteration",this.boundEndAnimation)},Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.isModalVisible||this.isDraggedOver},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isModalVisible",{get:function(){return this.$store.getters["idv/modal:is-open"](xn)},enumerable:!1,configurable:!0}),e.prototype.onDragOver=function(t){var e;"file"!==(null===(e=t.dataTransfer.items[0])||void 0===e?void 0:e.kind)&&"Files"!==t.dataTransfer.types[0]||(this.isDraggedOver=!0,this.$el.classList.add("is-dragged-over"),t.dataTransfer.dropEffect="copy")},e.prototype.onDragEnd=function(){this.isDraggedOver=!1},e.prototype.endAnimation=function(){this.$el.classList.remove("is-dragged-over")},e=dR([_l],e),e}(el.a),yR=hR,vR=yR,mR=(n("b8e6"),zl(vR,uR,lR,!1,null,null,null)),gR=mR.exports,bR={id:"drop-zone",type:gR,config:{}},wR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_R=function(t){function e(e,n){var r=t.call(this)||this;return n.$store.dispatch("dynamic-component/definition:register",bR,ef),n.$store.dispatch("dynamic-component/node:add-child",{id:bR.id,parentId:"viewer-layout"},ef),r}return wR(e,t),e}(l["Feature"]),SR=_R,OR=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],staticClass:"idv-placeholder",on:{contextmenu:function(t){t.preventDefault()}}},[n("div",{staticClass:"idv-placeholder__content"},[null!==t.title?n("h2",{staticClass:"idv-placeholder__title"},[t._v(" "+t._s(t.title)+" ")]):t._e(),null!==t.description?n("p",{staticClass:"idv-placeholder__description",domProps:{innerHTML:t._s(t.description)}}):t._e(),n("p",{staticClass:"idv-placeholder__sub-title"},[t._v(" "+t._s(t.$t("idv-placeholder.main-text"))+" ")]),n("p",{staticClass:"idv-placeholder__supported-format"},[t._v(" "+t._s(t.$t("idv-placeholder.supported-files-format"))+" ")]),n("div",{staticClass:"idv-placeholder__separator"},[n("span",{staticClass:"idv-placeholder__bar",attrs:{"aria-hidden":"true"}}),n("span",{staticClass:"idv-placeholder__or"},[t._v(t._s(t.$t("idv-placeholder.text-between-bar")))]),n("span",{staticClass:"idv-placeholder__bar",attrs:{"aria-hidden":"true"}})]),n("import-file-section")],1)])},IR=[];function ER(t){return ER="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ER(t)}var CR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xR=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":ER(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},AR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return CR(e,t),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.$store.getters["idv/modal:is-open"](xn)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){var t;return null!==(t=window.imaios.get("idv-title"))&&void 0!==t?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){var t;return null!==(t=window.imaios.get("idv-description"))&&void 0!==t?t:null},enumerable:!1,configurable:!0}),e=xR([_l({components:{ImportFileSection:bj}})],e),e}(el.a),PR=AR,TR=PR,jR=(n("a42d"),zl(TR,OR,IR,!1,null,null,null)),DR=jR.exports,kR={id:"viewer-placeholder",type:DR,config:{}},LR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RR=function(t){function e(e,n){var r=t.call(this)||this;return n.$store.dispatch("dynamic-component/definition:register",kR,ef),n.$store.dispatch("dynamic-component/node:add-child",{id:kR.id,parentId:"viewer-layout"},ef),r}return LR(e,t),e}(l["Feature"]),MR=RR,BR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),NR=function(t){function e(e,n){var r=t.call(this)||this;return EI([{name:xc.VIEWER_CREATED,from:e}]).then((function(){n.$store.dispatch(Zf(bf["MENU_MODULE_NAME"],bf["MENU_ACTIONS"].MENU_GENERATE),mC)})),r}return BR(e,t),e}(l["Feature"]),FR=NR,UR={id:"reset-drawing",type:bf["MenuButton"],config:{src:[Ed.a],translationKey:"ui.viewer.menu.reset",actionId:"reset-drawing",actionType:bf["ACTION_TYPE"].STATELESS}},zR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VR=function(t){function e(e,n){var r=t.call(this,e,n.$store.dispatch,[UR])||this;return n.$store.dispatch(Zf(bf["MENU_MODULE_NAME"],bf["MENU_ACTIONS"].MENU_ADD_CHILD),{id:UR.id,parentId:ZL.id,index:-1},ef),r.annotationService=vc.annotationService,r}return zR(e,t),e.prototype.onTrigger=function(t,e){var n=this;console.log("remove drawings"),this.annotationService.find({type:sO}).forEach((function(t){n.annotationService.removeById(t.getId())}))},e}(wd),WR=VR,HR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),YR=function(t){function e(e,n){var r=t.call(this)||this;return r.seriesToBeLoaded={},r.placeholderIdBySeriesId={},r.thumbnailService=vc.thumbnailService,r.caseLoadingTopic=vc.topic.caseLoading,r.dispatch=n.$store.dispatch,r.init(),r.subscribeToTopic(),r}return HR(e,t),e.prototype.subscribe=function(){var t=this;return[{from:this.thumbnailService,name:A.THUMBNAIL_ADDED,action:function(e){var n=e.seriesId;t.removePlaceholder(n)}}]},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.subscriber.destroy(),this.subscriber=null},e.prototype.removePlaceholder=function(t){this.dispatch(Zf($A,xA.THUMBNAIL_REMOVE),this.placeholderIdBySeriesId[t],ef),delete this.placeholderIdBySeriesId[t],delete this.seriesToBeLoaded[t]},e.prototype.clearExistingPlaceholder=function(){var t=this;Object.keys(this.seriesToBeLoaded).forEach((function(e){return t.removePlaceholder(e)}))},e.prototype.subscribeToTopic=function(){var t=this;this.subscriber=new At["Subscriber"]("v-series-placeholder-feature"),this.subscriber.subscribe(this.caseLoadingTopic,sL.CASE_META_DOWNLOADED,(function(e){t.clearExistingPlaceholder();var n=e.caseMeta.data.series;Object.keys(n).forEach((function(e){t.seriesToBeLoaded[e]=n[e].data.name})),t.addPlaceholderThumbnails()})),this.subscriber.subscribe(this.caseLoadingTopic,sL.SERIES_LIST_LOADED,(function(e){t.clearExistingPlaceholder(),Object.keys(e.seriesList).forEach((function(n){t.seriesToBeLoaded[n]=e.seriesList[n]})),t.addPlaceholderThumbnails()}))},e.prototype.addPlaceholderThumbnails=function(){var t=this;Object.keys(this.seriesToBeLoaded).forEach((function(e){var n=t.createPlaceholder(e);t.placeholderIdBySeriesId[e]=n.thumbnailId,t.dispatch(Zf($A,xA.THUMBNAIL_ADD),n,ef)}))},e.prototype.createPlaceholder=function(t){return{seriesId:t,thumbnailId:ge("placeholder-thumbnail"),activeInCell:-1,sortOrder:Object.keys(this.seriesToBeLoaded).indexOf(t),src:null,isFocused:!1,name:this.seriesToBeLoaded[t]}},e}(Wu),GR=YR,$R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isVisible?n("div",{staticClass:"ie-banner"},[n("div",{staticClass:"ie-banner__spacer"}),n("IEIcon",{staticClass:"ie-banner__icon"}),n("div",{staticClass:"ie-banner__text-wrapper"},[n("p",{staticClass:"ie-banner__text"},[t._v(" "+t._s(t.$t("ui.internet-explorer.features-not-available"))+" ")]),n("i18n",{staticClass:"ie-banner__text",attrs:{path:"ui.internet-explorer.upgrade-message.text",tag:"p"},scopedSlots:t._u([{key:"edge",fn:function(){return[n("a",{staticClass:"ie-banner__link",attrs:{href:"https://www.microsoft.com/edge",target:"_blank"}},[t._v(t._s(t.$t("ui.internet-explorer.upgrade-message.edge")))])]},proxy:!0},{key:"chrome",fn:function(){return[n("a",{staticClass:"ie-banner__link",attrs:{href:"https://google.com/chrome",target:"_blank"}},[t._v(t._s(t.$t("ui.internet-explorer.upgrade-message.chrome")))])]},proxy:!0},{key:"firefox",fn:function(){return[n("a",{staticClass:"ie-banner__link",attrs:{href:"https://getfirefox.com",target:"_blank"}},[t._v(t._s(t.$t("ui.internet-explorer.upgrade-message.firefox")))])]},proxy:!0}],null,!1,1015205444)})],1),n("div",{staticClass:"ie-banner__spacer"},[n("button",{staticClass:"ie-banner__dismiss",attrs:{"aria-label":t.$t("ui.internet-explorer.dismiss")},on:{click:t.dismiss}},[n("XIcon")],1)])],1):t._e()},XR=[],KR=n("36a8"),qR=n.n(KR);function ZR(t){return ZR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZR(t)}var JR,QR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tM=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":ZR(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},eM=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},nM=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},rM="is-ie-banner-dismissed",oM=function(t){function e(){var e,n=this;return n=t.apply(this,nM([],eM(arguments),!1))||this,n.isIE=Km(),n.isDismissed=null!==(e=vc.localStorageHandler.get(rM))&&void 0!==e&&e,n}return QR(e,t),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.isIE&&!this.isDismissed},enumerable:!1,configurable:!0}),e.prototype.dismiss=function(){vc.localStorageHandler.set(rM,!0),this.isDismissed=!0},e=tM([_l({components:{IEIcon:qR.a,XIcon:jj.a}})],e),e}(el.a),iM=oM,aM=iM,sM=(n("c8cc"),zl(aM,$R,XR,!1,null,null,null)),cM=sM.exports,uM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lM=function(t){function e(e){var n=t.call(this,'Expected to receive a parameter "'.concat(e,'" but none was given.'))||this;return n.name="MissingParameterException",n}return uM(e,t),e}(Error),fM=lM,pM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dM=function(t){function e(n,r,o){var i=t.call(this)||this;if(!o.containerSelector)throw new fM("settings.containerSelector");return!0!==o.prepend&&(o.prepend=!1),e.initComponent(r,o),i}return pM(e,t),e.initComponent=function(t,e){var n=el.a.extend(cM),r=document.createElement("template"),o=e.prepend?"afterbegin":"beforeend";document.querySelector(e.containerSelector).insertAdjacentElement(o,r);var i=new n({store:t.$store,i18n:t.$i18n,parent:t});i.$mount(r)},e}(l["Feature"]),hM=dM,yM=function(){return yM=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},yM.apply(this,arguments)},vM={makeViewer:function(t,e){var n=t.commit,r=t.dispatch,o=e.element,i=e.settings,a=e.component;vc.i18n={translate:function(t,e){return rC.t(t,e)}};var s=yM(yM({},i),{mode:"extended",containerDiv:o,features:yM(yM(yM({},_I),hx),{"v-menu-feature":function(t){return new FR(t,a)},"request-fullscreen":function(t){return vu(t,{element:i.viewerContainer})},"cross-ref":function(t){return new Gd(t,r)},"request-fullscreen-button":function(t){return new Jp(t,a.$store)},scroll:function(){return ch(r)},zoom:function(){return Lh(r)},translate:function(){return Sh(r)},contrast:function(t){return Nd(t,r)},reset:function(t){return Pd(t,r)},measures:function(){return nh(r)},"display-mode":function(t){return Od(t,r)},"v-drop-zone-feature":function(t){return new SR(t,a)},"v-placeholder-feature":function(t){return new MR(t,a)},"v-button-toggle-link-series":function(t){return new vh(t,a)},"context-menu":function(t){return new ZC(t,a)},"default-context-option":function(){return new cx(r)},"top-bar":function(t){return new mx(t,a.$store)},"too-many-files":function(){return new UA(a)},"error-handler":function(t){return new OA(t,a)},"v-thumbnails-default-behavior":function(){return new $P(r)},"v-synchronize-gallery":function(t){return new zP(t,a.$store)},"v-synchronize-display-mode":function(t){return new sC(t,r)},"v-navigation-btn-group":function(t){return new OC(t,r).init()},"v-contrast-btn-group":function(t){return new CC(t,r)},"v-mpr-btn":function(t){return new tT(t,r)},"import-file":function(t){return new Vj(t,a,{"v-import-from-desktop-filepicker":function(t){return new dD(t,a)},"v-import-from-url":function(t){return new RT(t,a)},"v-import-from-dropbox":function(t){return new ej(t,a)},"load-files":function(t){return new sT(t,a)}})},"widget-loading-feedback":function(){return new wD(c)},"progress-loading-feedback-feature":function(t){return new MD(t,a)},"resize-observer":function(t){return new sj(t)},"v-loop-slice-feature":function(t){return new ZD(t,a)},"v-magnifier-feature":function(t){return new rk(t,a)},"v-load-case-feature":{bindFeature:function(t){return new pL(t)},priority:0},"v-draw-color-feature":function(){return new iR(a)},"v-annotation-stroke-feature":function(){return new cR(a)},"v-presentation-mode-feature":function(t){return new nR(t,a)},"v-draw-reset-feature":function(t){return new WR(t,a)},"v-series-placeholder-feature":{bindFeature:function(t){return new GR(t,a)},priority:0},"v-internet-explorer-banner-feature":function(t){return new hM(t,a,{containerSelector:"body",prepend:!0})}})});i.features&&Object.keys(i.features).forEach((function(t){var e=i.features[t];s.features[t]=e instanceof ik?e.build(a):e}));var c=new Hc(s),u=Object.defineProperty({},"value",{enumerable:!0,get:function(){return c}});n("RECORD_FRAMEWORK",u),n("SET_VIEWER_STATE",!0),window.debug.viewer=c},"modal:open":function(t,e){var n=t.commit,r=t.state;t.rootGetters;r.openedModal.includes(e)||n("SET_MODAL_OPEN",e)},"modal:close":function(t,e){var n=t.commit,r=t.state;r.openedModal.includes(e)&&n("SET_MODAL_CLOSE",e)}},mM=vM,gM=!0,bM=_T({namespaced:gM,state:xp,mutations:Pp,actions:mM,getters:jp}),wM=(JR={idv:bM},JR[$A]=XA,JR),_M=wM,SM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),OM=function(t){function e(e){var n=t.call(this,'A Vuex module with name "'.concat(e,'" is already registered. Aborting store augmentation.'))||this;return n.name="VueModuleAlreadyExistException",n}return SM(e,t),e}(Error),IM=OM;el.a.use(Op["a"]);var EM={state:Ep},CM=new Op["a"].Store(EM);function xM(t){return Object.keys(_M).forEach((function(e){if(t.hasModule(e))throw new IM(e);t.registerModule(e,_M[e])})),t}function AM(t){return AM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AM(t)}var PM=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TM=function(){return TM=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},TM.apply(this,arguments)},jM=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":AM(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},DM=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},kM=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},LM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return PM(e,t),Object.defineProperty(e.prototype,"isViewerReady",{get:function(){return this.$store.state["idv"].isViewerReady},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeMenu",{get:function(){return this.$store.state["menu"].activeMenu},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"menuDefinition",{get:function(){return this.activeMenu?this.$store.getters["dynamic-component/definition:get-by-identifier"](this.activeMenu):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layoutDynamicComponent",{get:function(){var t;return null!==(t=this.$store.getters["dynamic-component/node:get-children"]("viewer-layout"))&&void 0!==t?t:[]},enumerable:!1,configurable:!0}),e.prototype.onDrop=function(t){var e=this;t.preventDefault(),t.dataTransfer&&xO(t.dataTransfer.items).then((function(t){e.$store.dispatch(Zf(eT,CP.FILES_LOAD),LO(t),ef)}))},e.prototype.created=function(){this.initI18n(),this.initStore(),this.initPlugins()},e.prototype.initI18n=function(){oC(this.$i18n)},e.prototype.initStore=function(){xM(this.$store),CM.registerModule("dynamic-component",bf["dynamicComponents"]),CM.registerModule("menu",bf["menu"])},e.prototype.initPlugins=function(){el.a.use(bf["TippyPlugin"],{appendTo:function(){var t=document.fullscreenElement||document.webkitFullscreenElement;return t||document.body}}),el.a.use(bp.a),el.a.use(Sp)},e.prototype.mounted=function(){return DM(this,void 0,Promise,(function(){var t;return kM(this,(function(e){switch(e.label){case 0:return t=this.viewerSettings(this),[4,this.$store.dispatch("idv/makeViewer",{element:this.$refs.viewerElement,settings:TM(TM({},t),{viewerContainer:this.$refs.viewer}),component:this})];case 1:return e.sent(),[2]}}))}))},jM([El({default:function(){return{}},type:Function})],e.prototype,"viewerSettings",void 0),e=jM([_l({components:{Menu:bf["Menu"],BannerComponent:Hf,Gallery:gf,TopBar:mp},name:"imaios-dicom-viewer"})],e),e}(el.a),RM=LM,MM=RM,BM=(n("e482"),zl(MM,Ju,Qu,!1,null,null,null)),NM=BM.exports;
/*!
 * css-vars-ponyfill
 * v2.4.7
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2021 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
function FM(){return FM=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FM.apply(this,arguments)}
/*!
 * get-css-data
 * v2.0.2
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2021 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function UM(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mimeType:e.mimeType||null,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},r=Array.isArray(t)?t:[t],o=Array.apply(null,Array(r.length)).map((function(t){return null}));function i(t){var e="string"===typeof t,n=e&&"<"===t.trim().charAt(0);return e&&!n}function a(t,e){n.onError(t,r[e],e)}function s(t,e){var i=n.onSuccess(t,r[e],e);t=!1===i?"":i||t,o[e]=t,-1===o.indexOf(null)&&n.onComplete(o)}var c=document.createElement("a");r.forEach((function(t,e){c.setAttribute("href",t),c.href=String(c.href);var r=Boolean(document.all&&!window.atob),o=r&&c.host.split(":")[0]!==location.host.split(":")[0];if(o){var u=c.protocol===location.protocol;if(u){var l=new XDomainRequest;l.open("GET",t),l.timeout=0,l.onprogress=Function.prototype,l.ontimeout=Function.prototype,l.onload=function(){var t=l.responseText;i(t)?s(t,e):a(l,e)},l.onerror=function(t){a(l,e)},setTimeout((function(){l.send()}),0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(t,")")),a(null,e)}else{var f=new XMLHttpRequest;f.open("GET",t),n.mimeType&&f.overrideMimeType&&f.overrideMimeType(n.mimeType),n.onBeforeSend(f,t,e),f.onreadystatechange=function(){if(4===f.readyState){var t=f.responseText;f.status<400&&i(t)||0===f.status&&i(t)?s(t,e):a(f,e)}},f.send()}}))}
/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {boolean}  [options.skipDisabled=true] Determines if disabled
 *                   stylesheets will be skipped while collecting CSS data.
 * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement : document,
 *     include     : 'style,link[rel="stylesheet"]',
 *     exclude     : '[href="skip.css"]',
 *     filter      : /red/,
 *     skipDisabled: true,
 *     useCSSOM    : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */function zM(t){var e={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},n={rootElement:t.rootElement||document,include:t.include||'style,link[rel="stylesheet"]',exclude:t.exclude||null,filter:t.filter||null,skipDisabled:!1!==t.skipDisabled,useCSSOM:t.useCSSOM||!1,onBeforeSend:t.onBeforeSend||Function.prototype,onSuccess:t.onSuccess||Function.prototype,onError:t.onError||Function.prototype,onComplete:t.onComplete||Function.prototype},r=Array.apply(null,n.rootElement.querySelectorAll(n.include)).filter((function(t){return!WM(t,n.exclude)})),o=Array.apply(null,Array(r.length)).map((function(t){return null}));function i(){var t=-1===o.indexOf(null);if(t){o.reduce((function(t,e,n){return""===e&&t.push(n),t}),[]).reverse().forEach((function(t){return[r,o].forEach((function(e){return e.splice(t,1)}))}));var e=o.join("");n.onComplete(e,o,r)}}function a(t,e,r,a){var s=n.onSuccess(t,r,a);t=void 0!==s&&!1===Boolean(s)?"":s||t,c(t,r,a,(function(t,a){null===o[e]&&(a.forEach((function(t){return n.onError(t.xhr,r,t.url)})),!n.filter||n.filter.test(t)?o[e]=t:o[e]="",i())}))}function s(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o={};return o.rules=(t.replace(e.cssComments,"").match(e.cssImports)||[]).filter((function(t){return-1===r.indexOf(t)})),o.urls=o.rules.map((function(t){return t.replace(e.cssImports,"$1")})),o.absoluteUrls=o.urls.map((function(t){return VM(t,n)})),o.absoluteRules=o.rules.map((function(t,e){var r=o.urls[e],i=VM(o.absoluteUrls[e],n);return t.replace(r,i)})),o}function c(t,e,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=s(t,r,a);u.rules.length?UM(u.absoluteUrls,{onBeforeSend:function(t,r,o){n.onBeforeSend(t,e,r)},onSuccess:function(t,r,o){var i=n.onSuccess(t,e,r);t=!1===i?"":i||t;var c=s(t,r,a);return c.rules.forEach((function(e,n){t=t.replace(e,c.absoluteRules[n])})),t},onError:function(n,s,l){i.push({xhr:n,url:s}),a.push(u.rules[l]),c(t,e,r,o,i,a)},onComplete:function(n){n.forEach((function(e,n){t=t.replace(u.rules[n],e)})),c(t,e,r,o,i,a)}}):o(t,i)}r.length?r.forEach((function(t,e){var r=t.getAttribute("href"),s=t.getAttribute("rel"),c="link"===t.nodeName.toLowerCase()&&r&&s&&-1!==s.toLowerCase().indexOf("stylesheet"),u=!1!==n.skipDisabled&&t.disabled,l="style"===t.nodeName.toLowerCase();if(c&&!u)UM(r,{mimeType:"text/css",onBeforeSend:function(e,r,o){n.onBeforeSend(e,t,r)},onSuccess:function(n,o,i){var s=VM(r);a(n,e,t,s)},onError:function(r,a,s){o[e]="",n.onError(r,t,a),i()}});else if(l&&!u){var f=t.textContent;n.useCSSOM&&(f=Array.apply(null,t.sheet.cssRules).map((function(t){return t.cssText})).join("")),a(f,e,t,location.href)}else o[e]="",i()})):n.onComplete("",[])}function VM(t,e){var n=document.implementation.createHTMLDocument(""),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),r.href=e||document.baseURI||(document.querySelector("base")||{}).href||location.href,o.href=t,o.href}function WM(t,e){var n=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return n.call(t,e)}var HM=YM;function YM(t,e,n){t instanceof RegExp&&(t=GM(t,n)),e instanceof RegExp&&(e=GM(e,n));var r=$M(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function GM(t,e){var n=e.match(t);return n?n[0]:null}function $M(t,e,n){var r,o,i,a,s,c=n.indexOf(t),u=n.indexOf(e,c+1),l=c;if(c>=0&&u>0){if(t===e)return[c,u];r=[],i=n.length;while(l>=0&&!s)l==c?(r.push(l),c=n.indexOf(t,l+1)):1==r.length?s=[r.pop(),u]:(o=r.pop(),o<i&&(i=o,a=u),u=n.indexOf(e,l+1)),l=c<u&&c>=0?c:u;r.length&&(s=[i,a])}return s}function XM(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={preserveStatic:!0,removeComments:!1},r=FM({},n,e),o=[];function i(t){throw new Error("CSS parse error: ".concat(t))}function a(e){var n=e.exec(t);if(n)return t=t.slice(n[0].length),n}function s(){return a(/^{\s*/)}function c(){return a(/^}/)}function u(){a(/^\s*/)}function l(){if(u(),"/"===t[0]&&"*"===t[1]){var e=2;while(t[e]&&("*"!==t[e]||"/"!==t[e+1]))e++;if(!t[e])return i("end of comment is missing");var n=t.slice(2,e);return t=t.slice(e+2),{type:"comment",comment:n}}}function f(){var t,e=[];while(t=l())e.push(t);return r.removeComments?[]:e}function p(){u();while("}"===t[0])i("extra closing bracket");var e=a(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(e){var n,r=e[0].trim(),o=/\/\*/.test(r);o&&(r=r.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var s=/["']\w*,\w*["']/.test(r);s&&(r=r.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(t){return t.replace(/,/g,"‌")})));var c=/,/.test(r);return n=c?r.split(/\s*(?![^(]*\)),\s*/):[r],s&&(n=n.map((function(t){return t.replace(/\u200C/g,",")}))),n}}function d(){if("@"===t[0])return C();a(/^([;\s]*)+/);var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=a(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(n){if(n=n[0].trim(),!a(/^:\s*/))return i("property missing ':'");var r=a(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),o={type:"declaration",property:n.replace(e,""),value:r?r[0].replace(e,"").trim():""};return a(/^[;\s]*/),o}}function h(){if(!s())return i("missing '{'");var t,e=f();while(t=d())e.push(t),e=e.concat(f());return c()?e:i("missing '}'")}function y(){u();var t,e=[];while(t=a(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/))e.push(t[1]),a(/^,\s*/);if(e.length)return{type:"keyframe",values:e,declarations:h()}}function v(){var t=a(/^@([-\w]+)?keyframes\s*/);if(t){var e=t[1];if(t=a(/^([-\w]+)\s*/),!t)return i("@keyframes missing name");var n,r=t[1];if(!s())return i("@keyframes missing '{'");var o=f();while(n=y())o.push(n),o=o.concat(f());return c()?{type:"keyframes",name:r,vendor:e,keyframes:o}:i("@keyframes missing '}'")}}function m(){var t=a(/^@page */);if(t){var e=p()||[];return{type:"page",selectors:e,declarations:h()}}}function g(){var t=a(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(t){var e="".concat(t[1],"-").concat(t[2])+(t[3]?"-".concat(t[3]):"");return{type:"page-margin-box",name:e,declarations:h()}}}function b(){var t=a(/^@font-face\s*/);if(t)return{type:"font-face",declarations:h()}}function w(){var t=a(/^@supports *([^{]+)/);if(t)return{type:"supports",supports:t[1].trim(),rules:A()}}function _(){var t=a(/^@host\s*/);if(t)return{type:"host",rules:A()}}function S(){var t=a(/^@media([^{]+)*/);if(t)return{type:"media",media:(t[1]||"").trim(),rules:A()}}function O(){var t=a(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return{type:"custom-media",name:t[1].trim(),media:t[2].trim()}}function I(){var t=a(/^@([-\w]+)?document *([^{]+)/);if(t)return{type:"document",document:t[2].trim(),vendor:t[1]?t[1].trim():null,rules:A()}}function E(){var t=a(/^@(import|charset|namespace)\s*([^;]+);/);if(t)return{type:t[1],name:t[2].trim()}}function C(){if(u(),"@"===t[0]){var e=E()||b()||S()||v()||w()||I()||O()||_()||m()||g();if(e&&!r.preserveStatic){var n=!1;if(e.declarations)n=e.declarations.some((function(t){return/var\(/.test(t.value)}));else{var o=e.keyframes||e.rules||[];n=o.some((function(t){return(t.declarations||[]).some((function(t){return/var\(/.test(t.value)}))}))}return n?e:{}}return e}}function x(){if(!r.preserveStatic){var e=HM("{","}",t);if(e){var n=/:(?:root|host)(?![.:#(])/.test(e.pre)&&/--\S*\s*:/.test(e.body),o=/var\(/.test(e.body);if(!n&&!o)return t=t.slice(e.end+1),{}}}var a=p()||[],s=r.preserveStatic?h():h().filter((function(t){var e=a.some((function(t){return/:(?:root|host)(?![.:#(])/.test(t)}))&&/^--\S/.test(t.property),n=/var\(/.test(t.value);return e||n}));return a.length||i("selector missing"),{type:"rule",selectors:a,declarations:s}}function A(e){if(!e&&!s())return i("missing '{'");var n,r=f();while(t.length&&(e||"}"!==t[0])&&(n=C()||x()))n.type&&r.push(n),r=r.concat(f());return e||c()?r:i("missing '}'")}return{type:"stylesheet",stylesheet:{rules:A(!0),errors:o}}}function KM(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={parseHost:!1,store:{},onWarning:function(){}},r=FM({},n,e),o=new RegExp(":".concat(r.parseHost?"host":"root","$"));return"string"===typeof t&&(t=XM(t,r)),t.stylesheet.rules.forEach((function(t){"rule"===t.type&&t.selectors.some((function(t){return o.test(t)}))&&t.declarations.forEach((function(t,e){var n=t.property,o=t.value;n&&0===n.indexOf("--")&&(r.store[n]=o)}))})),r.store}function qM(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r={charset:function(t){return"@charset "+t.name+";"},comment:function(t){return 0===t.comment.indexOf("__CSSVARSPONYFILL")?"/*"+t.comment+"*/":""},"custom-media":function(t){return"@custom-media "+t.name+" "+t.media+";"},declaration:function(t){return t.property+":"+t.value+";"},document:function(t){return"@"+(t.vendor||"")+"document "+t.document+"{"+o(t.rules)+"}"},"font-face":function(t){return"@font-face{"+o(t.declarations)+"}"},host:function(t){return"@host{"+o(t.rules)+"}"},import:function(t){return"@import "+t.name+";"},keyframe:function(t){return t.values.join(",")+"{"+o(t.declarations)+"}"},keyframes:function(t){return"@"+(t.vendor||"")+"keyframes "+t.name+"{"+o(t.keyframes)+"}"},media:function(t){return"@media "+t.media+"{"+o(t.rules)+"}"},namespace:function(t){return"@namespace "+t.name+";"},page:function(t){return"@page "+(t.selectors.length?t.selectors.join(", "):"")+"{"+o(t.declarations)+"}"},"page-margin-box":function(t){return"@"+t.name+"{"+o(t.declarations)+"}"},rule:function(t){var e=t.declarations;if(e.length)return t.selectors.join(",")+"{"+o(e)+"}"},supports:function(t){return"@supports "+t.supports+"{"+o(t.rules)+"}"}};function o(t){for(var o="",i=0;i<t.length;i++){var a=t[i];n&&n(a);var s=r[a.type](a);s&&(o+=s,s.length&&a.selectors&&(o+=e))}return o}return o(t.stylesheet.rules)}function ZM(t,e){t.rules.forEach((function(n){n.rules?ZM(n,e):n.keyframes?n.keyframes.forEach((function(t){"keyframe"===t.type&&e(t.declarations,n)})):n.declarations&&e(n.declarations,t)}))}YM.range=$M;var JM="--",QM="var";function tB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},r=FM({},n,e);return"string"===typeof t&&(t=XM(t,r)),ZM(t.stylesheet,(function(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=o.type,a=o.property,s=o.value;if("declaration"===i)if(r.preserveVars||!a||0!==a.indexOf(JM)){if(-1!==s.indexOf(QM+"(")){var c=nB(s,r);c!==o.value&&(c=eB(c),r.preserveVars?(t.splice(n,0,{type:i,property:a,value:c}),n++):o.value=c)}}else t.splice(n,1),n--}})),qM(t)}function eB(t){var e=/calc\(([^)]+)\)/g;return(t.match(e)||[]).forEach((function(e){var n="calc".concat(e.split("calc").join(""));t=t.replace(e,n)})),t}function nB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(-1===t.indexOf("var("))return t;var r=HM("(",")",t);function o(t){var r=t.split(",")[0].replace(/[\s\n\t]/g,""),o=(t.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],i=Object.prototype.hasOwnProperty.call(e.variables,r)?String(e.variables[r]):void 0,a=i||(o?String(o):void 0),s=n||t;return i||e.onWarning('variable "'.concat(r,'" is undefined')),a&&"undefined"!==a&&a.length>0?nB(a,e,s):"var(".concat(s,")")}if(r){if("var"===r.pre.slice(-3)){var i=0===r.body.trim().length;return i?(e.onWarning("var() must contain a non-whitespace string"),t):r.pre.slice(0,-3)+o(r.body)+nB(r.post,e)}return r.pre+"(".concat(nB(r.body,e),")")+nB(r.post,e)}return-1!==t.indexOf("var(")&&e.onWarning('missing closing ")" in the value "'.concat(t,'"')),t}var rB="undefined"!==typeof window,oB=rB&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),iB={group:0,job:0},aB={rootElement:rB?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},sB={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},cB={dom:{},job:{},user:{}},uB=!1,lB=null,fB=0,pB=null,dB=!1;
/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (—), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if relative url()
 *                   paths will be converted to absolute urls in external CSS
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 * @param {function} [options.onFinally] Callback in modern and legacy browsers
 *                   after the ponyfill has finished all tasks. Passes 1) a
 *                   boolean indicating if the last ponyfill call resulted in a
 *                   style change, 2) a boolean indicating if the current
 *                   browser provides native support for CSS custom properties,
 *                   and 3) the ponyfill execution time in milliseconds.
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onError(message, node, xhr, url) {},
 *     onWarning(message) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {},
 *     onFinally(hasChanged, hasNativeSupport, benchmark)
 *   });
 */
function hB(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="cssVars(): ",n=FM({},aB,t);function r(t,r,o,i){!n.silent&&window.console&&console.error("".concat(e).concat(t,"\n"),r),n.onError(t,r,o,i)}function o(t){!n.silent&&window.console&&console.warn("".concat(e).concat(t)),n.onWarning(t)}function i(t){n.onFinally(Boolean(t),oB,_B()-n.__benchmark)}if(rB){if(n.watch)return n.watch=aB.watch,yB(n),void hB(n);if(!1===n.watch&&lB&&(lB.disconnect(),lB=null),!n.__benchmark){if(uB===n.rootElement)return void vB(t);var a=[].slice.call(n.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(n.__benchmark=_B(),n.exclude=[lB?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",n.exclude].filter((function(t){return t})).join(","),n.variables=bB(n.variables),a.forEach((function(t){var e="style"===t.nodeName.toLowerCase()&&t.__cssVars.text,n=e&&t.textContent!==t.__cssVars.text;e&&n&&(t.sheet&&(t.sheet.disabled=!1),t.setAttribute("data-cssvars",""))})),!lB){var s=[].slice.call(n.rootElement.querySelectorAll('[data-cssvars="out"]'));s.forEach((function(t){var e=t.getAttribute("data-cssvars-group"),r=e?n.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(e,'"]')):null;r||t.parentNode.removeChild(t)})),fB&&a.length<fB&&(fB=a.length,cB.dom={})}}if("loading"!==document.readyState)if(oB&&n.onlyLegacy){var c=!1;if(n.updateDOM){var u=n.rootElement.host||(n.rootElement===document?document.documentElement:n.rootElement);Object.keys(n.variables).forEach((function(t){var e=n.variables[t];c=c||e!==getComputedStyle(u).getPropertyValue(t),u.style.setProperty(t,e)}))}i(c)}else!dB&&(n.shadowDOM||n.rootElement.shadowRoot||n.rootElement.host)?zM({rootElement:aB.rootElement,include:aB.include,exclude:n.exclude,skipDisabled:!1,onSuccess:function(t,e,n){var r=(e.sheet||{}).disabled&&!e.__cssVars;return!r&&(t=t.replace(sB.cssComments,"").replace(sB.cssMediaQueries,""),t=(t.match(sB.cssVarDeclRules)||[]).join(""),t||!1)},onComplete:function(t,e,r){KM(t,{store:cB.dom,onWarning:o}),dB=!0,hB(n)}}):(uB=n.rootElement,zM({rootElement:n.rootElement,include:n.include,exclude:n.exclude,skipDisabled:!1,onBeforeSend:n.onBeforeSend,onError:function(t,e,n){var o=t.responseURL||wB(n,location.href),i=t.statusText?"(".concat(t.statusText,")"):"Unspecified Error"+(0===t.status?" (possibly CORS related)":""),a="CSS XHR Error: ".concat(o," ").concat(t.status," ").concat(i);r(a,e,t,o)},onSuccess:function(t,e,r){var o=(e.sheet||{}).disabled&&!e.__cssVars;if(o)return!1;var i="link"===e.nodeName.toLowerCase(),a="style"===e.nodeName.toLowerCase()&&t!==e.textContent,s=n.onSuccess(t,e,r);return t=void 0!==s&&!1===Boolean(s)?"":s||t,n.updateURLs&&(i||a)&&(t=gB(t,r)),t},onComplete:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=FM({},cB.dom,cB.user),c=!1;if(cB.job={},a.forEach((function(t,i){var a=e[i];if(t.__cssVars=t.__cssVars||{},t.__cssVars.text=a,sB.cssVars.test(a))try{var s=XM(a,{preserveStatic:n.preserveStatic,removeComments:!0});KM(s,{parseHost:Boolean(n.rootElement.host),store:cB.dom,onWarning:o}),t.__cssVars.tree=s}catch(c){r(c.message,t)}})),FM(cB.job,cB.dom),n.updateDOM?(FM(cB.user,n.variables),FM(cB.job,cB.user)):(FM(cB.job,cB.user,n.variables),FM(s,n.variables)),c=iB.job>0&&Boolean(Object.keys(cB.job).length>Object.keys(s).length||Boolean(Object.keys(s).length&&Object.keys(cB.job).some((function(t){return cB.job[t]!==s[t]})))),c)SB(n.rootElement),hB(n);else{var u=[],l=[],f=!1;if(n.updateDOM&&iB.job++,a.forEach((function(t,i){var a=!t.__cssVars.tree;if(t.__cssVars.tree)try{tB(t.__cssVars.tree,FM({},n,{variables:cB.job,onWarning:o}));var s=qM(t.__cssVars.tree);if(n.updateDOM){var c=e[i],p=sB.cssVarFunc.test(c);if(t.getAttribute("data-cssvars")||t.setAttribute("data-cssvars","src"),s.length&&p){var d=t.getAttribute("data-cssvars-group")||++iB.group,h=s.replace(/\s/g,""),y=n.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(d,'"]'))||document.createElement("style");f=f||sB.cssKeyframes.test(s),n.preserveStatic&&t.sheet&&(t.sheet.disabled=!0),y.hasAttribute("data-cssvars")||y.setAttribute("data-cssvars","out"),h===t.textContent.replace(/\s/g,"")?(a=!0,y&&y.parentNode&&(t.removeAttribute("data-cssvars-group"),y.parentNode.removeChild(y))):h!==y.textContent.replace(/\s/g,"")&&([t,y].forEach((function(t){t.setAttribute("data-cssvars-job",iB.job),t.setAttribute("data-cssvars-group",d)})),y.textContent=s,u.push(s),l.push(y),y.parentNode||t.parentNode.insertBefore(y,t.nextSibling))}}else t.textContent.replace(/\s/g,"")!==s&&u.push(s)}catch(v){r(v.message,t)}a&&t.setAttribute("data-cssvars","skip"),t.hasAttribute("data-cssvars-job")||t.setAttribute("data-cssvars-job",iB.job)})),fB=n.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,n.shadowDOM)for(var p,d=[].concat(n.rootElement).concat([].slice.call(n.rootElement.querySelectorAll("*"))),h=0;p=d[h];++h)if(p.shadowRoot&&p.shadowRoot.querySelector("style")){var y=FM({},n,{rootElement:p.shadowRoot});hB(y)}n.updateDOM&&f&&mB(n.rootElement),uB=!1,n.onComplete(u.join(""),l,JSON.parse(JSON.stringify(cB.job)),_B()-n.__benchmark),i(l.length)}}}));else document.addEventListener("DOMContentLoaded",(function e(n){hB(t),document.removeEventListener("DOMContentLoaded",e)}))}}function yB(t){function e(t){var e=n(t)&&t.hasAttribute("disabled"),r=(t.sheet||{}).disabled;return e||r}function n(t){var e="link"===t.nodeName.toLowerCase()&&-1!==(t.getAttribute("rel")||"").indexOf("stylesheet");return e}function r(t){return"style"===t.nodeName.toLowerCase()}function o(r){var o=!1;if("attributes"===r.type&&n(r.target)&&!e(r.target)){var i="disabled"===r.attributeName,a="href"===r.attributeName,s="skip"===r.target.getAttribute("data-cssvars"),c="src"===r.target.getAttribute("data-cssvars");i?o=!s&&!c:a&&(s?r.target.setAttribute("data-cssvars",""):c&&SB(t.rootElement,!0),o=!0)}return o}function i(t){var e=!1;if("childList"===t.type){var n=r(t.target),o="out"===t.target.getAttribute("data-cssvars");e=n&&!o}return e}function a(t){var o=!1;return"childList"===t.type&&(o=[].slice.call(t.addedNodes).some((function(t){var o=1===t.nodeType,i=o&&t.hasAttribute("data-cssvars"),a=r(t)&&sB.cssVars.test(t.textContent),s=!i&&(n(t)||a);return s&&!e(t)}))),o}function s(e){var n=!1;return"childList"===e.type&&(n=[].slice.call(e.removedNodes).some((function(e){var n=1===e.nodeType,r=n&&"out"===e.getAttribute("data-cssvars"),o=n&&"src"===e.getAttribute("data-cssvars"),i=o;if(o||r){var a=e.getAttribute("data-cssvars-group"),s=t.rootElement.querySelector('[data-cssvars-group="'.concat(a,'"]'));o&&SB(t.rootElement,!0),s&&s.parentNode.removeChild(s)}return i}))),n}window.MutationObserver&&(lB&&(lB.disconnect(),lB=null),lB=new MutationObserver((function(e){var n=e.some((function(t){return o(t)||i(t)||a(t)||s(t)}));n&&hB(t)})),lB.observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function vB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;clearTimeout(pB),pB=setTimeout((function(){t.__benchmark=null,hB(t)}),e)}function mB(t){var e=["animation-name","-moz-animation-name","-webkit-animation-name"].filter((function(t){return getComputedStyle(document.body)[t]}))[0];if(e){for(var n=t.getElementsByTagName("*"),r=[],o="__CSSVARSPONYFILL-KEYFRAMES__",i=0,a=n.length;i<a;i++){var s=n[i],c=getComputedStyle(s)[e];"none"!==c&&(s.style[e]+=o,r.push(s))}document.body.offsetHeight;for(var u=0,l=r.length;u<l;u++){var f=r[u].style;f[e]=f[e].replace(o,"")}}}function gB(t,e){var n=t.replace(sB.cssComments,"").match(sB.cssUrls)||[];return n.forEach((function(n){var r=n.replace(sB.cssUrls,"$1"),o=wB(r,e);t=t.replace(n,n.replace(r,o))})),t}function bB(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=/^-{2}/;return Object.keys(t).reduce((function(n,r){var o=e.test(r)?r:"--".concat(r.replace(/^-+/,""));return n[o]=t[r],n}),{})}function wB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href,n=document.implementation.createHTMLDocument(""),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),r.href=e,o.href=t,o.href}function _B(){return rB&&(window.performance||{}).now?window.performance.now():(new Date).getTime()}function SB(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[].slice.call(t.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));n.forEach((function(t){return t.setAttribute("data-cssvars","")})),e&&(cB.dom={})}hB.reset=function(){for(var t in iB.job=0,iB.group=0,uB=!1,lB&&(lB.disconnect(),lB=null),fB=0,pB=null,dB=!1,cB)cB[t]={}};var OB=hB;n("e9b1"),n("d7de");function IB(t,e){var n=new el.a({i18n:nC,store:CM,render:function(t){return t(NM,{props:{viewerSettings:e}})}}).$mount(t);return Km()&&(n.$el.classList.add("is-ie"),OB({rootElement:document,onlyLegacy:!0})),n}"undefined"===typeof window.Headers&&"undefined"!==typeof window.getHeadersPolyfill&&window.getHeadersPolyfill();var EB=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.showBanner?r("div",{staticClass:"use-app"},[r("div",{staticClass:"use-app__body"},[r("img",{staticClass:"use-app__icon",attrs:{src:n("7bc5"),alt:"Imaios DICOM Viewer logo"}}),r("p",{staticClass:"use-app__title"},[t._v(" "+t._s(t.$t("ui.use-app.title"))+" ")]),r("div",{staticClass:"use-app__dismiss"},[r("button",{staticClass:"use-app__dismiss-button",attrs:{"aria-label":t.$t("ui.use-app.dismiss")},on:{click:t.dismiss}},[r("XIcon",{staticClass:"use-app__dismiss-icon"})],1)])]),r("div",{staticClass:"use-app__footer"},[r("ImaiosButton",{staticClass:"use-app__button",on:{click:t.useTheApp}},[t._v(" "+t._s(t.$t("ui.use-app.button"))+" ")])],1)]):t._e()},CB=[],xB="https://apps.apple.com/us/app/idv-imaios-dicom-viewer/id1444841062",AB="https://play.google.com/store/apps/details?id=com.imaios.imaiosdicomviewer";function PB(t){return PB="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PB(t)}var TB=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jB=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":PB(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},DB="hideUseAppBanner",kB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hideBanner=!1,e}return TB(e,t),e.prototype.mounted=function(){this.hideBanner=!0===vc.localStorageHandler.get(DB)},Object.defineProperty(e.prototype,"showBanner",{get:function(){return!this.hideBanner&&qm()!==fm.UNKNOWN},enumerable:!1,configurable:!0}),e.prototype.useTheApp=function(){switch(qm()){case fm.ANDROID:window.open(AB,"_system");break;case fm.IOS:window.open(xB,"_system");break}},e.prototype.dismiss=function(){vc.localStorageHandler.set(DB,!0),this.hideBanner=!0},e=jB([_l({components:{ImaiosButton:jf,XIcon:jj.a}})],e),e}(el.a),LB=kB,RB=LB,MB=(n("a7a2"),zl(RB,EB,CB,!1,null,null,null)),BB=MB.exports,NB=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),FB=function(t){function e(e){var n=t.call(this)||this;return ST(e,BB),n}return NB(e,t),e}(l["Feature"]),UB=FB,zB=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VB=function(t){function e(e){var n=t.call(this,'Point with id "'.concat(e,'" was not found.'))||this;return n.name="PointNotFoundException",n}return zB(e,t),e}(Error),WB=VB,HB=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"checkbox",attrs:{for:t.uuid+t.name}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],staticClass:"checkbox__input",attrs:{id:t.uuid+t.name,type:"checkbox",name:t.name,disabled:t.disabled},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:function(e){var n=t.checked,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=null,a=t._i(n,i);r.checked?a<0&&(t.checked=n.concat([i])):a>-1&&(t.checked=n.slice(0,a).concat(n.slice(a+1)))}else t.checked=o}}}),n("span",{staticClass:"checkbox__box",class:{checked:t.checked,disabled:t.disabled},attrs:{"aria-hidden":"true"}},[n("CheckIcon",{staticClass:"checkbox__check"}),n("span",{staticClass:"checkbox__hover"})],1),n("span",{staticClass:"checkbox__label"},[t._t("default")],2)])},YB=[],GB=n("44be"),$B=n.n(GB);function XB(t){return XB="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XB(t)}var KB=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qB=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":XB(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},ZB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uuid=SI(),e}return KB(e,t),qB([El({type:String,required:!0})],e.prototype,"name",void 0),qB([El({type:Boolean,required:!1,default:!1})],e.prototype,"disabled",void 0),qB([Il("value","input",{type:Boolean,required:!0})],e.prototype,"checked",void 0),e=qB([_l({components:{CheckIcon:$B.a}})],e),e}(el.a),JB=ZB,QB=JB,tN=(n("c8cf"),zl(QB,HB,YB,!1,null,null,null)),eN=tN.exports,nN=function(){function t(t){this.selectableDecorator=vc.selectableDecorator,this.selectableDecorator.addResource({id:t,getButtonPosition:function(t,e,n,r){var o=r(t.getCenterX(),t.getEndY());return kg(n,o,e,t.getRotation())}})}return t}(),rN=nN,oN=function(){return oN=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},oN.apply(this,arguments)};function iN(t,e,n,r,o,i){var a={type:t,id:e,last_modified:Date.now(),version:null!==r&&void 0!==r?r:1,data:n};return null!==o&&(a.metadata=oN(oN({},aN),o)),null!==i&&(a.variations=oN(oN({},sN),i)),a}var aN={product:"IDV",product_version:"v3.0.1",product_platform:"web",user_agent:navigator.userAgent},sN={format_version:"0.0.1"},cN=[137,80,78,71,13,10,26,10],uN="png",lN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fN=function(t){function e(){var e=t.call(this,"png-file-handler")||this;return e.priority=0,e.id="png",e}return lN(e,t),e.prototype.canHandleBuffer=function(t){return this.checkBufferSignature(t)},e.prototype.checkBufferSignature=function(t){for(var e=0;e<cN.length;e++)if(t[e]!==cN[e])return!1;return!0},e.prototype.loadFromBuffer=function(t,e){var n=this;return new Promise((function(r){var o=e.fileName.split("/").pop().split(".")[0],i=RO(t,"image/png"),a=new Image;a.addEventListener("load",(function(){var t={content:[{src:i,seriesName:o,seriesId:o,type:no.PNG,name:e.fileName}],hasCompletedHandling:!0,fileName:[e.fileName]};n.publish(Ls,{result:t,context:e}),r()}),{once:!0}),a.src=i}))},e.prototype.getSupportedMimeTypes=function(){return["image/png"]},e}(Tn),pN=fN,dN={id:"base-png-series-builder",build:function(t){var e=t.result.content[0];return{name:e.seriesName,seriesId:e.seriesId,filterKey:e.seriesId,filesList:[e],imagesFormat:no.PNG,userCreated:!0}}},hN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yN=function(t){function e(){var e=t.call(this)||this;return e.imageService=vc.imageService,e.imageService.addFactory(no.PNG,new gO),e.fileHandlerService=vc.fileHandlerService,e.fileHandlerService.addResource(new pN,uN),e.seriesBuilderService=vc.seriesBuilderService,e.seriesBuilderService.addResource(dN),e.seriesBuilderService.addMapping(uN,Mh,dN.id),e}return hN(e,t),e}(l["Feature"]),vN=yN,mN="https://imaios-public-cases.s3.amazonaws.com/assets/demo_case.zip",gN=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ImaiosButton",{staticClass:"idv-placeholder__button",attrs:{variant:"secondary",disabled:t.isDisabled},on:{click:t.onclick},scopedSlots:t._u([{key:"icon",fn:function(){return[n("CaseIcon",{staticClass:"idv-placeholder__button-icon"})]},proxy:!0}])},[n("span",[t._v(t._s(t.$t("features.v-import-demo-case.label")))])])},bN=[],wN=n("7cc9"),_N=n.n(wN);function SN(t){return SN="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SN(t)}var ON,IN,EN,CN,xN,AN,PN,TN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jN=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":SN(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},DN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return TN(e,t),Object.defineProperty(e.prototype,"isDisabled",{get:function(){var t,e;return null!==(e=null===(t=this.$store.state[FN.MODULE_NAME])||void 0===t?void 0:t.isDisabled)&&void 0!==e&&e},enumerable:!1,configurable:!0}),e.prototype.onclick=function(){this.$emit("close"),this.$store.dispatch("".concat(FN.MODULE_NAME,"/perform:hook"),"load-demo-case")},e=jN([_l({components:{CaseIcon:_N.a,ImaiosButton:jf}})],e),e}(el.a),kN=DN,LN=kN,RN=zl(LN,gN,bN,!1,null,null,null),MN=RN.exports,BN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),NN=function(t){function e(e,n){var r=t.call(this)||this;return r.dispatch=n.$store.dispatch,r.fileHandlerService=vc.fileHandlerService,r.seriesService=vc.seriesService,r.loadingTopic=vc.topic.loading,r.initStoreModule(n),r.addDynamicComponent(),r.init(),r}return BN(e,t),e.prototype.initStoreModule=function(t){var n=this;t.$store.registerModule(e.MODULE_NAME,_T({actions:{disable:function(t){var e=t.commit;e("DISABLE")},enable:function(t){var e=t.commit;e("ENABLE")}},mutations:{DISABLE:function(t){t.isDisabled=!0},ENABLE:function(t){t.isDisabled=!1}},state:function(){return{isDisabled:!1}}})),this.dispatch(Zf(e.MODULE_NAME,"set:hook"),{hook:"load-demo-case",callback:function(){Hh(mN,n.fileHandlerService,n.loadingTopic,{handlingContext:Mh,fileName:"demo case"})}})},e.prototype.addDynamicComponent=function(){this.dispatch("dynamic-component/definition:register",{id:"import-demo-case",type:MN},ef),this.dispatch("dynamic-component/node:add-child",{id:"import-demo-case",parentId:"import-file-section",index:2},ef)},e.prototype.subscribe=function(){var t=this;return[{from:this.seriesService,name:H,action:function(){t.dispatch(Zf(e.MODULE_NAME,"disable"))}},{from:this.seriesService,name:G,action:function(){0===t.seriesService.getNumberOfResources()&&t.dispatch(Zf(e.MODULE_NAME,"enable"))}}]},e.MODULE_NAME="import-demo-case",e}(Wu),FN=NN,UN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zN=function(t){function e(){var e=t.call(this,"No API domain was set")||this;return e.name="NoApiDomainException",e}return UN(e,t),e}(Error),VN=zN;function WN(t){return t.type===CN.CHANNEL}function HN(t){return t.type===CN.ALBUM}(function(t){t["CHANNELS_SET"]="channels:set",t["ALBUMS_SET"]="albums:get",t["ROOT_CHANNELS_SET"]="root-channel:set",t["PATH_SELECT_ITEM"]="path:select-item",t["PATH_BACK"]="path:back",t["PATH_CLEAR"]="path:clear"})(ON||(ON={})),function(t){t["CHANNELS_SET"]="CHANNELS:SET",t["ALBUMS_SET"]="ALBUMS:SET",t["ROOT_CHANNELS_SET"]="ROOT_CHANNEL:SET",t["PATH_ADD_ITEM"]="PATH:ADD_ITEM",t["PATH_REMOVE_LAST"]="PATH:REMOVE_LAST",t["PATH_CLEAR"]="PATH:CLEAR"}(IN||(IN={})),function(t){t["ROOT_CHANNELS"]="channels",t["CHILDREN_BY_CHANNEL_ID"]="children-by-channel-id",t["CHANNEL_BY_ID"]="channel-by-id",t["ALBUM_BY_ID"]="album-by-id",t["SELECTED_ALBUM"]="selected:album",t["SELECTED_CHANNEL"]="selected:channel"}(EN||(EN={})),function(t){t["CHANNEL"]="channel_frontpage",t["ALBUM"]="clinical_case_album"}(CN||(CN={}));var YN={namespaced:!0,state:function(){return{channels:{},albums:{},rootChannels:[],path:[]}},actions:(xN={},xN[ON.CHANNELS_SET]=function(t,e){var n=t.commit;n(IN.CHANNELS_SET,e)},xN[ON.ALBUMS_SET]=function(t,e){var n=t.commit;n(IN.ALBUMS_SET,e)},xN[ON.ROOT_CHANNELS_SET]=function(t,e){var n=t.commit;n(IN.ROOT_CHANNELS_SET,e)},xN[ON.PATH_SELECT_ITEM]=function(t,e){var n=t.commit,r=t.getters,o=r[EN.SELECTED_ALBUM];null!==o&&n(IN.PATH_REMOVE_LAST),n(IN.PATH_ADD_ITEM,e)},xN[ON.PATH_BACK]=function(t){var e=t.commit,n=t.getters;null!==n[EN.SELECTED_ALBUM]&&e(IN.PATH_REMOVE_LAST),e(IN.PATH_REMOVE_LAST)},xN[ON.PATH_CLEAR]=function(t){var e=t.commit;e(IN.PATH_CLEAR)},xN),mutations:(AN={},AN[IN.CHANNELS_SET]=function(t,e){e.forEach((function(e){return el.a.set(t.channels,e.id,e)}))},AN[IN.ALBUMS_SET]=function(t,e){e.forEach((function(e){return el.a.set(t.albums,e.id,e)}))},AN[IN.ROOT_CHANNELS_SET]=function(t,e){t.rootChannels=e},AN[IN.PATH_ADD_ITEM]=function(t,e){t.path.push(e)},AN[IN.PATH_REMOVE_LAST]=function(t){t.path.pop()},AN[IN.PATH_CLEAR]=function(t){t.path=[]},AN),getters:(PN={},PN[EN.ROOT_CHANNELS]=function(t){return t.rootChannels},PN[EN.CHILDREN_BY_CHANNEL_ID]=function(t){return function(e){return t.channels[e].children}},PN[EN.CHANNEL_BY_ID]=function(t){return function(e){var n;return null!==(n=t.channels[e])&&void 0!==n?n:null}},PN[EN.ALBUM_BY_ID]=function(t){return function(e){var n;return null!==(n=t.albums[e])&&void 0!==n?n:null}},PN[EN.SELECTED_ALBUM]=function(t){var e,n=null!==(e=t.path[t.path.length-1])&&void 0!==e?e:null;return n&&n.type===CN.ALBUM?n.id:null},PN[EN.SELECTED_CHANNEL]=function(t,e){var n,r,o=null!==(n=t.path[t.path.length-1])&&void 0!==n?n:null;return null!==e[EN.SELECTED_ALBUM]&&(o=null!==(r=t.path[t.path.length-2])&&void 0!==r?r:null),o&&o.type===CN.CHANNEL?o.id:null},PN)},GN="channel-explorer",$N={SUBMIT:"channel-explorer:submit"},XN=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ModalWindow",{ref:"modal",staticClass:"dark channel-explorer-window",attrs:{"accept-translation-key":"features.channel-explorer.submit","on-accept":t.onSubmit,"on-cancel":t.onCancel,"prevent-accept":null===t.selectedAlbumId},on:{visibilityChanged:function(e){return t.$emit("visibilityChanged",e)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.$t("action.select_album"))+" ")]},proxy:!0},{key:"body",fn:function(){return[t.isShowing?n("AlbumSelector",{staticClass:"channel-explorer-window__body"}):t._e()]},proxy:!0}])})},KN=[],qN=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"album-selection",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.goBack.apply(null,arguments)}}},[t.selectedChannel?n("div",{staticClass:"album-selection__head"},[n("ImaiosButton",{staticClass:"album-selection__back",attrs:{"aria-label":t.$t("features.channel-explorer.back"),variant:"link"},on:{click:t.goBack},scopedSlots:t._u([{key:"icon",fn:function(){return[n("ArrowBottom",{staticClass:"album-selection__back-icon"})]},proxy:!0}],null,!1,592883204)}),n("div",{staticClass:"channel-item"},[n("img",{staticClass:"channel-item__img",attrs:{src:t.selectedChannel.img.src,alt:t.selectedChannel.img.alt,"aria-hidden":"true"}}),n("span",{staticClass:"channel-item__title"},[t._v(" "+t._s(t.selectedChannel.name)+" ")])])],1):t._e(),n("div",{ref:"scroller",staticClass:"album-selection__scroller"},[t._l(t.channelList,(function(e,r){return n("ChannelItem",{key:e,ref:"children",refInFor:!0,attrs:{"channel-id":e,name:"channel"},nativeOn:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.focus(r-1)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.focus(r+1)}]}})})),t._l(t.children.albums,(function(e,r){return n("AlbumItem",{key:e,ref:"children",refInFor:!0,attrs:{"album-id":e,name:"album"},nativeOn:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.focus(t.channelList.length+r-1)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.focus(t.channelList.length+r+1)}]}})}))],2)])},ZN=[],JN=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"album-item"},[n("input",{ref:"input",staticClass:"album-item__input",attrs:{id:t.name+t.uuid,type:"checkbox",name:t.albumId},domProps:{value:t.albumId},on:{focus:t.onFocus,change:t.onChange}}),n("label",{staticClass:"album-item__label",attrs:{for:t.name+t.uuid},on:{mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.select.apply(null,arguments)}}},[t.albumItem.img?n("img",{staticClass:"album-item__img",attrs:{src:t.albumItem.img.src,alt:t.albumItem.img.alt,"aria-hidden":"true"}}):n("span",{staticClass:"album-item__img-placeholder"},[n("span",[t._v(t._s(t.albumItem.name.slice(0,1).toUpperCase()))])]),n("span",{staticClass:"album-item__title"},[t._v(" "+t._s(t.albumItem.name)+" ")]),t.isSelected?n("CheckIcon",{staticClass:"album-item__button"}):t._e()],1)])},QN=[];function tF(t){return tF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tF(t)}var eF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nF=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":tF(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},rF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eF(e,t),e.prototype.created=function(){this.uuid=SI()},Object.defineProperty(e.prototype,"albumItem",{get:function(){return this.$store.getters[Zf(GN,EN.ALBUM_BY_ID)](this.albumId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.$store.getters[Zf(GN,EN.SELECTED_ALBUM)]===this.albumId},enumerable:!1,configurable:!0}),e.prototype.focus=function(){this.$refs.input.focus()},e.prototype.select=function(){this.$store.dispatch(Zf(GN,ON.PATH_SELECT_ITEM),{id:this.albumId,type:CN.ALBUM},ef)},e.prototype.onFocus=function(){this.$el.scrollIntoView({block:"center",behavior:"smooth"}),this.select()},e.prototype.onChange=function(t){t.target.checked&&this.select()},nF([El({required:!0})],e.prototype,"albumId",void 0),nF([El({required:!0})],e.prototype,"name",void 0),e=nF([_l({components:{CheckIcon:$B.a}})],e),e}(el.a),oF=rF,iF=oF,aF=(n("bfd3"),zl(iF,JN,QN,!1,null,null,null)),sF=aF.exports,cF=n("91cf"),uF=n.n(cF),lF=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"channel-item"},[n("input",{ref:"input",staticClass:"channel-item__input",attrs:{id:t.name+t.uuid,type:"button",name:t.name},on:{click:t.select,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:t.select.apply(null,arguments)},focus:t.onFocus}}),n("label",{staticClass:"channel-item__label",attrs:{for:t.name+t.uuid},on:{mousedown:t.select}},[t.channelItem.img?n("img",{staticClass:"channel-item__img",attrs:{src:t.channelItem.img.src,alt:t.channelItem.img.alt,"aria-hidden":"true"}}):n("span",{staticClass:"channel-item__img-placeholder"},[n("span",[t._v(t._s(t.channelItem.name.slice(0,1).toUpperCase()))])]),n("span",{staticClass:"channel-item__title"},[t._v(" "+t._s(t.channelItem.name)+" ")]),n("ChevronIcon",{staticClass:"channel-item__button"})],1)])},fF=[],pF=n("0040"),dF=n.n(pF);function hF(t){return hF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hF(t)}var yF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vF=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":hF(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},mF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yF(e,t),e.prototype.created=function(){this.uuid=SI()},Object.defineProperty(e.prototype,"channelItem",{get:function(){return this.$store.getters[Zf(GN,EN.CHANNEL_BY_ID)](this.channelId)},enumerable:!1,configurable:!0}),e.prototype.select=function(){this.$store.dispatch(Zf(GN,ON.PATH_SELECT_ITEM),{id:this.channelId,type:CN.CHANNEL},ef)},e.prototype.focus=function(){this.$refs.input.focus()},e.prototype.onFocus=function(){this.$el.scrollIntoView({block:"center",behavior:"smooth"})},vF([El({required:!0})],e.prototype,"channelId",void 0),vF([El({required:!0})],e.prototype,"name",void 0),e=vF([_l({components:{ChevronIcon:dF.a}})],e),e}(el.a),gF=mF,bF=gF,wF=(n("5512"),zl(bF,lF,fF,!1,null,null,null)),_F=wF.exports;function SF(t){return SF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SF(t)}var OF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),IF=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":SF(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},EF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return OF(e,t),Object.defineProperty(e.prototype,"channelId",{get:function(){return this.$store.getters[Zf(GN,EN.SELECTED_CHANNEL)]},enumerable:!1,configurable:!0}),e.prototype.watchChannelId=function(){var t=this;this.$nextTick((function(){var e;t.$refs.scroller.scrollTo({top:0}),null===(e=t.$refs.children[0])||void 0===e||e.focus()}))},Object.defineProperty(e.prototype,"children",{get:function(){return null===this.channelId?{albums:[],channels:[]}:this.$store.getters[Zf(GN,EN.CHILDREN_BY_CHANNEL_ID)](this.channelId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedChannel",{get:function(){return null===this.channelId?null:this.$store.getters[Zf(GN,EN.CHANNEL_BY_ID)](this.channelId)},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){var t=this;this.$nextTick((function(){t.$refs.children[0].focus()}))},e.prototype.goBack=function(){this.$store.dispatch(Zf(GN,ON.PATH_BACK),null,ef)},Object.defineProperty(e.prototype,"channelList",{get:function(){return null===this.channelId?this.$store.getters[Zf(GN,EN.ROOT_CHANNELS)]:this.$store.getters[Zf(GN,EN.CHILDREN_BY_CHANNEL_ID)](this.channelId).channels},enumerable:!1,configurable:!0}),e.prototype.focus=function(t){this.$refs.children[(t+this.$refs.children.length)%this.$refs.children.length].focus()},IF([Cl("channelId")],e.prototype,"watchChannelId",null),e=IF([_l({components:{AlbumItem:sF,ImaiosButton:jf,ArrowBottom:uF.a,ChannelItem:_F}})],e),e}(el.a),CF=EF,xF=CF,AF=(n("1608"),zl(xF,qN,ZN,!1,null,null,null)),PF=AF.exports;function TF(t){return TF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TF(t)}var jF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DF=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"===typeof Reflect?"undefined":TF(Reflect))&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},kF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShowing=!1,e}return jF(e,t),e.prototype.onCancel=function(){this.$emit("cancel"),this.$store.dispatch(Zf(GN,ON.PATH_CLEAR)),this.$refs.modal.hide()},e.prototype.onSubmit=function(){var t;this.$emit("submit",{album:null!==(t=this.selectedAlbumId)&&void 0!==t?t:null}),this.isShowing=!1,this.$refs.modal.hide()},Object.defineProperty(e.prototype,"selectedAlbumId",{get:function(){return this.$store.getters[Zf(GN,EN.SELECTED_ALBUM)]},enumerable:!1,configurable:!0}),e.prototype.show=function(){this.$refs.modal.show(),this.isShowing=!0},e=DF([_l({components:{ModalWindow:fA,AlbumSelector:PF}})],e),e}(el.a),LF=kF,RF=LF,MF=(n("214f"),zl(RF,XN,KN,!1,null,null,null)),BF=MF.exports,NF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),FF=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r["throw"](t))}catch(e){i(e)}}function c(t){t.done?n(t.value):o(t.value).then(a,s)}c((r=r.apply(t,e||[])).next())}))},UF=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},zF=function(t){function e(e,n){var r,o=this;o=t.call(this)||this,o.store=n.$store;var i=null===(r=e.getSettings())||void 0===r?void 0:r.apiDomain;if("undefined"===typeof i)throw new VN;return o.domain=i,o.publisher=new At["Publisher"]("channel-explorer"),vc.topic.channelExplorer=o.publisher,o.initStoreModule(),o.loadChannelTree(),o.initComponent(n),o}return NF(e,t),e.prototype.disable=function(){t.prototype.disable.call(this),this.component.$destroy(),this.component.$el.parentNode.removeChild(this.component.$el),this.store.unregisterModule(GN)},e.prototype.initComponent=function(t){this.component=ST(t,BF,{},document.body),this.component.$on("submit",this.submit.bind(this))},e.prototype.submit=function(t){var e=t.album;this.publisher.publish($N.SUBMIT,{album:e})},e.prototype.initStoreModule=function(){this.store.hasModule(GN)&&this.store.unregisterModule(GN),this.store.registerModule(GN,YN)},e.prototype.loadChannelTree=function(){var t=this;this.getChannelTree().then((function(e){var n=[],r=[];e.forEach((function(e){t.loadChild(e,n,r)})),t.store.dispatch(Zf(GN,ON.CHANNELS_SET),n,ef),t.store.dispatch(Zf(GN,ON.ALBUMS_SET),r,ef),t.store.dispatch(Zf(GN,ON.ROOT_CHANNELS_SET),e.map((function(t){var e=t.id;return e})),ef)})).catch((function(){t.onLoadFail()}))},e.prototype.loadChild=function(t,e,n){var r=this;if(WN(t)){var o=t.data.children.map((function(t){return HN(t)?t.id:null})).filter((function(t){return null!==t})),i=t.data.children.map((function(t){return WN(t)?t.id:null})).filter((function(t){return null!==t})),a={name:t.data.title,children:{albums:o,channels:i},id:t.id};t.data.img&&(a.img={alt:t.data.img.alt,src:t.data.img.uri}),e.push(a),t.data.children.forEach((function(t){return r.loadChild(t,e,n)}))}else if(HN(t)){var s={name:t.data.title,id:t.id};t.data.img&&(s.img={alt:t.data.img.alt,src:t.data.img.uri}),n.push(s)}},e.prototype.getChannelTree=function(){return FF(this,void 0,Promise,(function(){var t;return UF(this,(function(e){switch(e.label){case 0:return[4,window.imaios.fetch(Tw({domain:this.domain,path:"".concat(OI(),"/api/idv/channels/list")}))];case 1:return t=e.sent(),t.ok?[4,t.json()]:[3,3];case 2:return[2,e.sent()];case 3:throw new Error(t.statusText)}}))}))},e}(l["Feature"]),VF=zF,WF=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),HF=function(t){function e(e){var n=t.call(this,'The cell with id "'.concat(e,'" has no bound series.'))||this;return n.name="CellNotBoundException",n}return WF(e,t),e}(Error),YF=HF;window.dicomParser=s.a;var GF=IB;e["default"]=GF},fb2c:function(t,e,n){var r=n("74e8");r("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},fb6a:function(t,e,n){"use strict";var r=n("23e7"),o=n("e8b5"),i=n("68ee"),a=n("861d"),s=n("23cb"),c=n("50c4"),u=n("fc6a"),l=n("8418"),f=n("b622"),p=n("1dde"),d=p("slice"),h=f("species"),y=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var n,r,f,p=u(this),d=c(p.length),m=s(t,d),g=s(void 0===e?d:e,d);if(o(p)&&(n=p.constructor,i(n)&&(n===Array||o(n.prototype))?n=void 0:a(n)&&(n=n[h],null===n&&(n=void 0)),n===Array||void 0===n))return y.call(p,m,g);for(r=new(void 0===n?Array:n)(v(g-m,0)),f=0;m<g;m++,f++)m in p&&l(r,f,p[m]);return r.length=f,r}})},fc6a:function(t,e,n){var r=n("44ad"),o=n("1d80");t.exports=function(t){return r(o(t))}},fce3:function(t,e,n){var r=n("d039"),o=n("da84"),i=o.RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,n){var r=n("4930");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fe78:function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.879 3.509c-5.153-.229-9.491 4.173-9.39 9.428.044 2.293 1.331 5.064 3.047 6.965l1.649-1.647a2.045 2.045 0 01.509-2.042l7.637-7.651a2.047 2.047 0 012.055-.51l1.492-1.494c-2.156-1.852-4.532-2.94-7-3.049zm.066-1.499C6.878 1.74 1.872 6.896 1.99 12.966c.058 3.006 1.845 6.48 4.057 8.582a.71.71 0 00.994-.029l2.71-2.709a.545.545 0 00.003-.769.545.545 0 01.002-.768l7.637-7.652a.547.547 0 01.774 0c.214.214.56.214.774 0l2.567-2.572a.729.729 0 00-.006-1.047C19.006 3.65 16.093 2.15 12.945 2.01z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.879 3.509c-5.153-.229-9.491 4.173-9.39 9.428.044 2.293 1.331 5.064 3.047 6.965l1.649-1.647a2.045 2.045 0 01.509-2.042l7.637-7.651a2.047 2.047 0 012.055-.51l1.492-1.494c-2.156-1.852-4.532-2.94-7-3.049zm.066-1.499C6.878 1.74 1.872 6.896 1.99 12.966c.058 3.006 1.845 6.48 4.057 8.582a.71.71 0 00.994-.029l2.71-2.709a.545.545 0 00.003-.769.545.545 0 01.002-.768l7.637-7.652a.547.547 0 01.774 0c.214.214.56.214.774 0l2.567-2.572a.729.729 0 00-.006-1.047C19.006 3.65 16.093 2.15 12.945 2.01z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.696 7.721c2.58-2.585 5.314-2.347 6.764-1.932.518.149.86.555.95 1.027.09.458-.06.937-.406 1.283L8.19 14.912a1.434 1.434 0 01-1.223.416 1.317 1.317 0 01-1.047-.858 5.866 5.866 0 01-.31-2.893c.178-1.207.77-2.543 2.086-3.856zm6.116-.551c-1.153-.274-3.115-.332-5.055 1.612h-.001c-1.102 1.1-1.534 2.146-1.662 3.015a4.337 4.337 0 00.158 1.932l6.56-6.56z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.696 7.721c2.58-2.585 5.314-2.347 6.764-1.932.518.149.86.555.95 1.027.09.458-.06.937-.406 1.283L8.19 14.912a1.434 1.434 0 01-1.223.416 1.317 1.317 0 01-1.047-.858 5.866 5.866 0 01-.31-2.893c.178-1.207.77-2.543 2.086-3.856zm6.116-.551c-1.153-.274-3.115-.332-5.055 1.612h-.001c-1.102 1.1-1.534 2.146-1.662 3.015a4.337 4.337 0 00.158 1.932l6.56-6.56zM18.506 3.8a.5.5 0 01.13.695l-1.001 1.468a.5.5 0 11-.826-.564l1.002-1.468a.5.5 0 01.695-.13z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.506 3.8a.5.5 0 01.13.695l-1.001 1.468a.5.5 0 11-.826-.564l1.002-1.468a.5.5 0 01.695-.13zM10.612 2.435a.5.5 0 01.597.38l.321 1.433a.5.5 0 11-.976.218l-.32-1.433a.5.5 0 01.378-.598z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.612 2.435a.5.5 0 01.597.38l.321 1.433a.5.5 0 11-.976.218l-.32-1.433a.5.5 0 01.378-.598zM5 14.038a.5.5 0 01-.409.577l-1.618.277a.5.5 0 11-.169-.986l1.619-.277a.5.5 0 01.577.409z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 14.038a.5.5 0 01-.409.577l-1.618.277a.5.5 0 11-.169-.986l1.619-.277a.5.5 0 01.577.409zM4.082 6.812a.5.5 0 01.69-.155l1.294.82a.5.5 0 11-.534.845l-1.295-.82a.5.5 0 01-.155-.69z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.082 6.812a.5.5 0 01.69-.155l1.294.82a.5.5 0 11-.534.845l-1.295-.82a.5.5 0 01-.155-.69zM6.22 16.91a.5.5 0 01-.151.69l-1.443.926a.5.5 0 01-.54-.842l1.443-.925a.5.5 0 01.69.15z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.22 16.91a.5.5 0 01-.151.69l-1.443.926a.5.5 0 01-.54-.842l1.443-.925a.5.5 0 01.69.15zM14.525 2.44a.5.5 0 01.374.6l-.334 1.44a.5.5 0 01-.974-.225l.334-1.441a.5.5 0 01.6-.375z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.525 2.44a.5.5 0 01.374.6l-.334 1.44a.5.5 0 01-.974-.225l.334-1.441a.5.5 0 01.6-.375zM2.453 10.615a.5.5 0 01.58-.406l1.453.255a.5.5 0 11-.173.985l-1.454-.255a.5.5 0 01-.406-.579z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.453 10.615a.5.5 0 01.58-.406l1.453.255a.5.5 0 11-.173.985l-1.454-.255a.5.5 0 01-.406-.579zM6.79 4.07a.5.5 0 01.7.106l.875 1.187a.5.5 0 01-.804.594L6.685 4.77a.5.5 0 01.105-.7z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.79 4.07a.5.5 0 01.7.106l.875 1.187a.5.5 0 01-.804.594L6.685 4.77a.5.5 0 01.105-.7z"}})]))}}},fea9:function(t,e,n){var r=n("da84");t.exports=r.Promise},ff02:function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.067 10.16a.75.75 0 01-.014 1.06l-5.02 4.891a.75.75 0 11-1.047-1.074l5.02-4.89a.75.75 0 011.06.013z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.972 10.16a.75.75 0 011.06-.014l5.021 4.89a.75.75 0 11-1.047 1.075l-5.02-4.89a.75.75 0 01-.014-1.06z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.536 4.995a.75.75 0 01.75-.75h7.733c1.793 0 3.546.517 5.04 1.488A8.921 8.921 0 0120.41 9.71a8.676 8.676 0 01.522 5.133 8.808 8.808 0 01-2.487 4.546 9.159 9.159 0 01-4.645 2.426 9.294 9.294 0 01-5.239-.494 9.045 9.045 0 01-4.084-3.254 8.723 8.723 0 01-1.547-4.93.75.75 0 111.5-.004 7.223 7.223 0 001.283 4.083A7.546 7.546 0 009.12 19.93a7.795 7.795 0 004.393.414 7.659 7.659 0 003.884-2.027 7.308 7.308 0 002.065-3.772 7.176 7.176 0 00-.432-4.246 7.422 7.422 0 00-2.79-3.307 7.747 7.747 0 00-4.222-1.246H4.286a.75.75 0 01-.75-.75z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.748 2.239a.75.75 0 01-.014 1.06l-1.75 1.705 1.75 1.708a.75.75 0 11-1.047 1.074L3.386 5.54a.75.75 0 010-1.074l2.302-2.242a.75.75 0 011.06.014z"}})]))}}},ffde:function(t,e,n){n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");var r=["class","staticClass","style","staticStyle","attrs"];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=c(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function c(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n("cca6"),n("99af"),t.exports={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),a=e.children,c=void 0===a?[]:a,u=o.class,l=o.staticClass,f=o.style,p=o.staticStyle,d=o.attrs,h=void 0===d?{}:d,y=s(o,r);return n("svg",i({class:[u,l],style:[f,p],attrs:Object.assign({viewBox:"0 0 24 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h)},y),c.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 19.503h14a.5.5 0 00.5-.5v-14a.5.5 0 00-.5-.5H5a.5.5 0 00-.5.5v14a.5.5 0 00.5.5zm14 1.5H5a2 2 0 01-2-2v-14a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2z"}}),n("circle",{attrs:{cx:"12",cy:"12.003",r:"1.75"}})]))}}}})}));
//# sourceMappingURL=idv.umd.min.js.map
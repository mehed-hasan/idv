!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.IMJSDK=e():t.IMJSDK=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=189)}([function(t,e,n){var r=n(2),o=n(27).f,i=n(31),a=n(17),u=n(75),c=n(101),s=n(61);t.exports=function(t,e){var n,l,f,h,p,v=t.target,d=t.global,y=t.stat;if(n=d?r:y?r[v]||u(v,{}):(r[v]||{}).prototype)for(l in e){if(h=e[l],f=t.noTargetGet?(p=o(n,l))&&p.value:n[l],!s(d?l:v+(y?".":"#")+l,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;c(h,f)}(t.sham||f&&f.sham)&&i(h,"sham",!0),a(n,l,h,t)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(134))},function(t,e,n){var r=n(2),o=n(53),i=n(8),a=n(54),u=n(73),c=n(98),s=o("wks"),l=r.Symbol,f=c?l:l&&l.withoutSetter||a;t.exports=function(t){return i(s,t)&&(u||"string"==typeof s[t])||(u&&i(l,t)?s[t]=l[t]:s[t]=f("Symbol."+t)),s[t]}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,n){var r=n(4);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},function(t,e,n){var r=n(5);t.exports=function(t){if(r(t))return t;throw TypeError(String(t)+" is not an object")}},function(t,e,n){var r=n(1);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(12),o={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return o.call(r(t),e)}},function(t,e,n){var r=n(7),o=n(96),i=n(6),a=n(51),u=Object.defineProperty;e.f=r?u:function(t,e,n){if(i(t),e=a(e),i(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(79),o=n(17),i=n(143);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){"use strict";var r=n(16),o=n(67),i=n(46),a=n(32),u=n(83),c="Array Iterator",s=a.set,l=a.getterFor(c);t.exports=u(Array,"Array",(function(t,e){s(this,{type:c,target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r=n(28);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(62);t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)}},function(t,e,n){"use strict";var r=n(112).charAt,o=n(13),i=n(32),a=n(83),u="String Iterator",c=i.set,s=i.getterFor(u);a(String,"String",(function(t){c(this,{type:u,string:o(t),index:0})}),(function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(2),o=n(113),i=n(114),a=n(11),u=n(31),c=n(3),s=c("iterator"),l=c("toStringTag"),f=a.values,h=function(t,e){if(t){if(t[s]!==f)try{u(t,s,f)}catch(e){t[s]=f}if(t[l]||u(t,l,e),o[e])for(var n in a)if(t[n]!==a[n])try{u(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var p in o)h(r[p]&&r[p].prototype,p);h(i,"DOMTokenList")},function(t,e,n){var r=n(56),o=n(28);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(2),o=n(4),i=n(8),a=n(31),u=n(75),c=n(57),s=n(32),l=n(49).CONFIGURABLE,f=s.get,h=s.enforce,p=String(String).split("String");(t.exports=function(t,e,n,c){var s,f=!!c&&!!c.unsafe,v=!!c&&!!c.enumerable,d=!!c&&!!c.noTargetGet,y=c&&void 0!==c.name?c.name:e;o(n)&&("Symbol("===String(y).slice(0,7)&&(y="["+String(y).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||l&&n.name!==y)&&a(n,"name",y),(s=h(n)).source||(s.source=p.join("string"==typeof y?y:""))),t!==r?(f?!d&&t[e]&&(v=!0):delete t[e],v?t[e]=n:a(t,e,n)):v?t[e]=n:u(e,n)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||c(this)}))},function(t,e,n){n(0)({target:"Object",stat:!0},{setPrototypeOf:n(63)})},function(t,e,n){var r=n(0),o=n(1),i=n(12),a=n(64),u=n(105);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!u},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,n){var r=n(0),o=n(24),i=n(106),a=n(6),u=n(5),c=n(33),s=n(140),l=n(1),f=o("Reflect","construct"),h=l((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),p=!l((function(){f((function(){}))})),v=h||p;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(p&&!h)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(s.apply(t,r))}var o=n.prototype,l=c(u(o)?o:Object.prototype),v=Function.apply.call(t,l,e);return u(v)?v:l}})},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(24),a=n(38),u=n(7),c=n(73),s=n(1),l=n(8),f=n(66),h=n(4),p=n(5),v=n(52),d=n(6),y=n(12),g=n(16),b=n(51),m=n(13),x=n(39),w=n(33),O=n(42),k=n(41),E=n(108),S=n(78),T=n(27),j=n(9),P=n(55),M=n(17),C=n(53),R=n(58),_=n(40),I=n(54),L=n(3),F=n(109),A=n(110),D=n(43),N=n(32),X=n(44).forEach,Y=R("hidden"),B="Symbol",U=L("toPrimitive"),W=N.set,q=N.getterFor(B),z=Object.prototype,V=o.Symbol,H=i("JSON","stringify"),G=T.f,K=j.f,Z=E.f,$=P.f,J=C("symbols"),Q=C("op-symbols"),tt=C("string-to-symbol-registry"),et=C("symbol-to-string-registry"),nt=C("wks"),rt=o.QObject,ot=!rt||!rt.prototype||!rt.prototype.findChild,it=u&&s((function(){return 7!=w(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=G(z,e);r&&delete z[e],K(t,e,n),r&&t!==z&&K(z,e,r)}:K,at=function(t,e){var n=J[t]=w(V.prototype);return W(n,{type:B,tag:t,description:e}),u||(n.description=e),n},ut=function(t,e,n){t===z&&ut(Q,e,n),d(t);var r=b(e);return d(n),l(J,r)?(n.enumerable?(l(t,Y)&&t[Y][r]&&(t[Y][r]=!1),n=w(n,{enumerable:x(0,!1)})):(l(t,Y)||K(t,Y,x(1,{})),t[Y][r]=!0),it(t,r,n)):K(t,r,n)},ct=function(t,e){d(t);var n=g(e),r=O(n).concat(ht(n));return X(r,(function(e){u&&!st.call(n,e)||ut(t,e,n[e])})),t},st=function(t){var e=b(t),n=$.call(this,e);return!(this===z&&l(J,e)&&!l(Q,e))&&(!(n||!l(this,e)||!l(J,e)||l(this,Y)&&this[Y][e])||n)},lt=function(t,e){var n=g(t),r=b(e);if(n!==z||!l(J,r)||l(Q,r)){var o=G(n,r);return!o||!l(J,r)||l(n,Y)&&n[Y][r]||(o.enumerable=!0),o}},ft=function(t){var e=Z(g(t)),n=[];return X(e,(function(t){l(J,t)||l(_,t)||n.push(t)})),n},ht=function(t){var e=t===z,n=Z(e?Q:g(t)),r=[];return X(n,(function(t){!l(J,t)||e&&!l(z,t)||r.push(J[t])})),r};if(c||(M((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,e=I(t),n=function(t){this===z&&n.call(Q,t),l(this,Y)&&l(this[Y],e)&&(this[Y][e]=!1),it(this,e,x(1,t))};return u&&ot&&it(z,e,{configurable:!0,set:n}),at(e,t)}).prototype,"toString",(function(){return q(this).tag})),M(V,"withoutSetter",(function(t){return at(I(t),t)})),P.f=st,j.f=ut,T.f=lt,k.f=E.f=ft,S.f=ht,F.f=function(t){return at(L(t),t)},u&&(K(V.prototype,"description",{configurable:!0,get:function(){return q(this).description}}),a||M(z,"propertyIsEnumerable",st,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:V}),X(O(nt),(function(t){A(t)})),r({target:B,stat:!0,forced:!c},{for:function(t){var e=m(t);if(l(tt,e))return tt[e];var n=V(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!v(t))throw TypeError(t+" is not a symbol");if(l(et,t))return et[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(t,e){return void 0===e?w(t):ct(w(t),e)},defineProperty:ut,defineProperties:ct,getOwnPropertyDescriptor:lt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ft,getOwnPropertySymbols:ht}),r({target:"Object",stat:!0,forced:s((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(y(t))}}),H&&r({target:"JSON",stat:!0,forced:!c||s((function(){var t=V();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))}))},{stringify:function(t,e,n){for(var r,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=e,(p(e)||void 0!==t)&&!v(t))return f(e)||(e=function(t,e){if(h(r)&&(e=r.call(this,t,e)),!v(e))return e}),o[1]=e,H.apply(null,o)}}),!V.prototype[U]){var pt=V.prototype.valueOf;M(V.prototype,U,(function(){return pt.apply(this,arguments)}))}D(V,B),_[Y]=!0},function(t,e,n){"use strict";var r=n(0),o=n(7),i=n(2),a=n(8),u=n(4),c=n(5),s=n(9).f,l=n(101),f=i.Symbol;if(o&&u(f)&&(!("description"in f.prototype)||void 0!==f().description)){var h={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new f(t):void 0===t?f():f(t);return""===t&&(h[e]=!0),e};l(p,f);var v=p.prototype=f.prototype;v.constructor=p;var d=v.toString,y="Symbol(test)"==String(f("test")),g=/^Symbol\((.*)\)[^)]+$/;s(v,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=d.call(t);if(a(h,t))return"";var n=y?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},function(t,e,n){n(110)("iterator")},function(t,e,n){var r=n(2),o=n(4),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t]):r[t]&&r[t][e]}},function(t,e,n){var r=n(76);t.exports=function(t){return r(t.length)}},function(t,e,n){var r=n(2),o=n(113),i=n(114),a=n(156),u=n(31),c=function(t){if(t&&t.forEach!==a)try{u(t,"forEach",a)}catch(e){t.forEach=a}};for(var s in o)o[s]&&c(r[s]&&r[s].prototype);c(i)},function(t,e,n){var r=n(7),o=n(55),i=n(39),a=n(16),u=n(51),c=n(8),s=n(96),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=u(e),s)try{return l(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(24);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(4),o=n(99);t.exports=function(t){if(r(t))return t;throw TypeError(o(t)+" is not a function")}},function(t,e,n){var r=n(7),o=n(9),i=n(39);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r,o,i,a=n(136),u=n(2),c=n(5),s=n(31),l=n(8),f=n(74),h=n(58),p=n(40),v="Object already initialized",d=u.WeakMap;if(a||f.state){var y=f.state||(f.state=new d),g=y.get,b=y.has,m=y.set;r=function(t,e){if(b.call(y,t))throw new TypeError(v);return e.facade=t,m.call(y,t,e),e},o=function(t){return g.call(y,t)||{}},i=function(t){return b.call(y,t)}}else{var x=h("state");p[x]=!0,r=function(t,e){if(l(t,x))throw new TypeError(v);return e.facade=t,s(t,x,e),e},o=function(t){return l(t,x)?t[x]:{}},i=function(t){return l(t,x)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r,o=n(6),i=n(139),a=n(77),u=n(40),c=n(107),s=n(50),l=n(58)("IE_PROTO"),f=function(){},h=function(t){return"<script>"+t+"<\/script>"},p=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}v="undefined"!=typeof document?document.domain&&r?p(r):function(){var t,e=s("iframe");return e.style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F}():p(r);for(var t=a.length;t--;)delete v.prototype[a[t]];return v()};u[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=o(t),n=new f,f.prototype=null,n[l]=t):n=v(),void 0===e?n:i(n,e)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(0),o=n(12),i=n(42);r({target:"Object",stat:!0,forced:n(1)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,e,n){var r,o,i=n(2),a=n(29),u=i.process,c=i.Deno,s=u&&u.versions||c&&c.version,l=s&&s.v8;l?o=(r=l.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){var r=n(30);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},function(t,e){t.exports=!1},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports={}},function(t,e,n){var r=n(103),o=n(77).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(103),o=n(77);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(9).f,o=n(8),i=n(3)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(45),o=n(56),i=n(12),a=n(25),u=n(82),c=[].push,s=function(t){var e=1==t,n=2==t,s=3==t,l=4==t,f=6==t,h=7==t,p=5==t||f;return function(v,d,y,g){for(var b,m,x=i(v),w=o(x),O=r(d,y,3),k=a(w),E=0,S=g||u,T=e?S(v,k):n||h?S(v,0):void 0;k>E;E++)if((p||E in w)&&(m=O(b=w[E],E,x),t))if(e)T[E]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return E;case 2:c.call(T,b)}else switch(t){case 4:return!1;case 7:c.call(T,b)}return f?-1:s||l?l:T}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}},function(t,e,n){var r=n(30);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports={}},function(t,e,n){var r=n(1),o=n(3),i=n(36),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){"use strict";var r=n(51),o=n(9),i=n(39);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){var r=n(7),o=n(8),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,u=o(i,"name"),c=u&&"something"===function(){}.name,s=u&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:u,PROPER:c,CONFIGURABLE:s}},function(t,e,n){var r=n(2),o=n(5),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(97),o=n(52);t.exports=function(t){var e=r(t,"string");return o(e)?e:String(e)}},function(t,e,n){var r=n(4),o=n(24),i=n(98);t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return r(e)&&Object(t)instanceof e}},function(t,e,n){var r=n(38),o=n(74);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.18.2",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(1),o=n(34),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(4),o=n(74),i=Function.toString;r(o.inspectSource)||(o.inspectSource=function(t){return i.call(t)}),t.exports=o.inspectSource},function(t,e,n){var r=n(53),o=n(54),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(60),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){var e=+t;return e!=e||0===e?0:(e>0?r:n)(e)}},function(t,e,n){var r=n(1),o=n(4),i=/#|\.prototype\./,a=function(t,e){var n=c[u(t)];return n==l||n!=s&&(o(e)?r(e):!!e)},u=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=a.data={},s=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},function(t,e,n){var r=n(79),o=n(4),i=n(34),a=n(3)("toStringTag"),u="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?n:u?i(e):"Object"==(r=i(e))&&o(e.callee)?"Arguments":r}},function(t,e,n){var r=n(6),o=n(138);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){var r=n(8),o=n(4),i=n(12),a=n(58),u=n(105),c=a("IE_PROTO"),s=Object.prototype;t.exports=u?Object.getPrototypeOf:function(t){var e=i(t);if(r(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof Object?s:null}},function(t,e,n){var r=n(1),o=n(4),i=n(62),a=n(24),u=n(57),c=[],s=a("Reflect","construct"),l=/^\s*(?:class|function)\b/,f=l.exec,h=!l.exec((function(){})),p=function(t){if(!o(t))return!1;try{return s(Object,c,t),!0}catch(t){return!1}};t.exports=!s||r((function(){var t;return p(p.call)||!p(Object)||!p((function(){t=!0}))||t}))?function(t){if(!o(t))return!1;switch(i(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!f.call(l,u(t))}:p},function(t,e,n){var r=n(34);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(3),o=n(33),i=n(9),a=r("unscopables"),u=Array.prototype;null==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),t.exports=function(t){u[a][t]=!0}},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(66),a=n(5),u=n(12),c=n(25),s=n(48),l=n(82),f=n(47),h=n(3),p=n(36),v=h("isConcatSpreadable"),d=9007199254740991,y="Maximum allowed index exceeded",g=p>=51||!o((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),b=f("concat"),m=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,forced:!g||!b},{concat:function(t){var e,n,r,o,i,a=u(this),f=l(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(m(i=-1===e?a:arguments[e])){if(h+(o=c(i))>d)throw TypeError(y);for(n=0;n<o;n++,h++)n in i&&s(f,h,i[n])}else{if(h>=d)throw TypeError(y);s(f,h++,i)}return f.length=h,f}})},function(t,e,n){var r=n(0),o=n(1),i=n(16),a=n(27).f,u=n(7),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!u||c,sham:!u},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},function(t,e,n){"use strict";var r=n(0),o=n(44).filter;r({target:"Array",proto:!0,forced:!n(47)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(13),o=n(129),i=n(130),a=n(53),u=n(33),c=n(32).get,s=n(182),l=n(183),f=RegExp.prototype.exec,h=a("native-string-replace",String.prototype.replace),p=f,v=function(){var t=/a/,e=/b*/g;return f.call(t,"a"),f.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),d=i.UNSUPPORTED_Y||i.BROKEN_CARET,y=void 0!==/()??/.exec("")[1];(v||y||d||s||l)&&(p=function(t){var e,n,i,a,s,l,g,b=this,m=c(b),x=r(t),w=m.raw;if(w)return w.lastIndex=b.lastIndex,e=p.call(w,x),b.lastIndex=w.lastIndex,e;var O=m.groups,k=d&&b.sticky,E=o.call(b),S=b.source,T=0,j=x;if(k&&(-1===(E=E.replace("y","")).indexOf("g")&&(E+="g"),j=x.slice(b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&"\n"!==x.charAt(b.lastIndex-1))&&(S="(?: "+S+")",j=" "+j,T++),n=new RegExp("^(?:"+S+")",E)),y&&(n=new RegExp("^"+S+"$(?!\\s)",E)),v&&(i=b.lastIndex),a=f.call(k?n:b,j),k?a?(a.input=a.input.slice(T),a[0]=a[0].slice(T),a.index=b.lastIndex,b.lastIndex+=a[0].length):b.lastIndex=0:v&&a&&(b.lastIndex=b.global?a.index+a[0].length:i),y&&a&&a.length>1&&h.call(a[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(a[s]=void 0)})),a&&O)for(a.groups=l=u(null),s=0;s<O.length;s++)l[(g=O[s])[0]]=a[g[1]];return a}),t.exports=p},function(t,e,n){var r=n(7),o=n(49).EXISTS,i=n(9).f,a=Function.prototype,u=a.toString,c=/^\s*function ([^ (]*)/;r&&!o&&i(a,"name",{configurable:!0,get:function(){try{return u.call(this).match(c)[1]}catch(t){return""}}})},function(t,e,n){var r=n(36),o=n(1);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e,n){var r=n(2),o=n(75),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},function(t,e,n){var r=n(2);t.exports=function(t,e){try{Object.defineProperty(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(60),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r={};r[n(3)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(28),o=n(13),i="["+n(81)+"]",a=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),c=function(t){return function(e){var n=o(r(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(u,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){var r=n(142);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},function(t,e,n){"use strict";var r=n(0),o=n(38),i=n(49),a=n(4),u=n(144),c=n(64),s=n(63),l=n(43),f=n(31),h=n(17),p=n(3),v=n(46),d=n(111),y=i.PROPER,g=i.CONFIGURABLE,b=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,x=p("iterator"),w="keys",O="values",k="entries",E=function(){return this};t.exports=function(t,e,n,i,p,d,S){u(n,e,i);var T,j,P,M=function(t){if(t===p&&L)return L;if(!m&&t in _)return _[t];switch(t){case w:case O:case k:return function(){return new n(this,t)}}return function(){return new n(this)}},C=e+" Iterator",R=!1,_=t.prototype,I=_[x]||_["@@iterator"]||p&&_[p],L=!m&&I||M(p),F="Array"==e&&_.entries||I;if(F&&(T=c(F.call(new t)))!==Object.prototype&&T.next&&(o||c(T)===b||(s?s(T,b):a(T[x])||h(T,x,E)),l(T,C,!0,!0),o&&(v[C]=E)),y&&p==O&&I&&I.name!==O&&(!o&&g?f(_,"name",O):(R=!0,L=function(){return I.call(this)})),p)if(j={values:M(O),keys:d?L:M(w),entries:M(k)},S)for(P in j)(m||R||!(P in _))&&h(_,P,j[P]);else r({target:e,proto:!0,forced:m||R},j);return o&&!S||_[x]===L||h(_,x,L,{name:p}),v[e]=L,j}},function(t,e){t.exports=function(t,e,n){if(t instanceof e)return t;throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}},function(t,e,n){var r=n(6),o=n(117),i=n(25),a=n(45),u=n(118),c=n(86),s=n(119),l=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var f,h,p,v,d,y,g,b=n&&n.that,m=!(!n||!n.AS_ENTRIES),x=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),O=a(e,b,1+m+w),k=function(t){return f&&s(f,"normal",t),new l(!0,t)},E=function(t){return m?(r(t),w?O(t[0],t[1],k):O(t[0],t[1])):w?O(t,k):O(t)};if(x)f=t;else{if(!(h=c(t)))throw TypeError(String(t)+" is not iterable");if(o(h)){for(p=0,v=i(t);v>p;p++)if((d=E(t[p]))&&d instanceof l)return d;return new l(!1)}f=u(t,h)}for(y=f.next;!(g=y.call(f)).done;){try{d=E(g.value)}catch(t){s(f,"throw",t)}if("object"==typeof d&&d&&d instanceof l)return d}return new l(!1)}},function(t,e,n){var r=n(62),o=n(37),i=n(46),a=n(3)("iterator");t.exports=function(t){if(null!=t)return o(t,a)||o(t,"@@iterator")||i[r(t)]}},function(t,e,n){var r=n(3)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r=n(34),o=n(2);t.exports="process"==r(o.process)},function(t,e,n){"use strict";var r=n(1);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){"use strict";var r=n(0),o=n(44).map;r({target:"Array",proto:!0,forced:!n(47)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(0)({target:"Number",stat:!0},{isFinite:n(162)})},function(t,e,n){"use strict";var r=n(7),o=n(2),i=n(61),a=n(17),u=n(8),c=n(124),s=n(52),l=n(97),f=n(1),h=n(41).f,p=n(27).f,v=n(9).f,d=n(163),y=n(80).trim,g="Number",b=o.Number,m=b.prototype,x=function(t){var e=l(t,"number");return"bigint"==typeof e?e:w(e)},w=function(t){var e,n,r,o,i,a,u,c,f=l(t,"number");if(s(f))throw TypeError("Cannot convert a Symbol value to a number");if("string"==typeof f&&f.length>2)if(43===(e=(f=y(f)).charCodeAt(0))||45===e){if(88===(n=f.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(f.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+f}for(a=(i=f.slice(2)).length,u=0;u<a;u++)if((c=i.charCodeAt(u))<48||c>o)return NaN;return parseInt(i,r)}return+f};if(i(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var O,k=function(t){var e=arguments.length<1?0:b(x(t)),n=this;return n instanceof k&&f((function(){d(n)}))?c(Object(e),n,k):e},E=r?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),S=0;E.length>S;S++)u(b,O=E[S])&&!u(k,O)&&v(k,O,p(b,O));k.prototype=m,m.constructor=k,a(o,g,k)}},function(t,e,n){var r=n(0),o=n(164).values;r({target:"Object",stat:!0},{values:function(t){return o(t)}})},function(t,e,n){var r=n(0),o=n(7),i=n(102),a=n(16),u=n(27),c=n(48);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=u.f,s=i(r),l={},f=0;s.length>f;)void 0!==(n=o(r,e=s[f++]))&&c(l,e,n);return l}})},function(t,e,n){"use strict";var r=n(0),o=n(71);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,n){var r=n(7),o=n(1),i=n(50);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(5),o=n(52),i=n(37),a=n(135),u=n(3)("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var n,c=i(t,u);if(c){if(void 0===e&&(e="default"),n=c.call(t,e),!r(n)||o(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},function(t,e,n){var r=n(73);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e){t.exports=function(t){try{return String(t)}catch(t){return"Object"}}},function(t,e,n){var r=n(0),o=n(137);r({global:!0,forced:parseFloat!=o},{parseFloat:o})},function(t,e,n){var r=n(8),o=n(102),i=n(27),a=n(9);t.exports=function(t,e){for(var n=o(e),u=a.f,c=i.f,s=0;s<n.length;s++){var l=n[s];r(t,l)||u(t,l,c(e,l))}}},function(t,e,n){var r=n(24),o=n(41),i=n(78),a=n(6);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(8),o=n(16),i=n(104).indexOf,a=n(40);t.exports=function(t,e){var n,u=o(t),c=0,s=[];for(n in u)!r(a,n)&&r(u,n)&&s.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~i(s,n)||s.push(n));return s}},function(t,e,n){var r=n(16),o=n(59),i=n(25),a=function(t){return function(e,n,a){var u,c=r(e),s=i(c),l=o(a,s);if(t&&n!=n){for(;s>l;)if((u=c[l++])!=u)return!0}else for(;s>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(1);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(65),o=n(99);t.exports=function(t){if(r(t))return t;throw TypeError(o(t)+" is not a constructor")}},function(t,e,n){var r=n(24);t.exports=r("document","documentElement")},function(t,e,n){var r=n(16),o=n(41).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},function(t,e,n){var r=n(3);e.f=r},function(t,e,n){var r=n(141),o=n(8),i=n(109),a=n(9).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,n){"use strict";var r,o,i,a=n(1),u=n(4),c=n(33),s=n(64),l=n(17),f=n(3),h=n(38),p=f("iterator"),v=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(r=o):v=!0),null==r||a((function(){var t={};return r[p].call(t)!==t}))?r={}:h&&(r=c(r)),u(r[p])||l(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},function(t,e,n){var r=n(60),o=n(13),i=n(28),a=function(t){return function(e,n){var a,u,c=o(i(e)),s=r(n),l=c.length;return s<0||s>=l?t?"":void 0:(a=c.charCodeAt(s))<55296||a>56319||s+1===l||(u=c.charCodeAt(s+1))<56320||u>57343?t?c.charAt(s):a:t?c.slice(s,s+2):u-56320+(a-55296<<10)+65536}};t.exports={codeAt:a(!1),charAt:a(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(50)("span").classList,o=r&&r.constructor&&r.constructor.prototype;t.exports=o===Object.prototype?void 0:o},function(t,e,n){var r=n(17);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){"use strict";var r=n(24),o=n(9),i=n(3),a=n(7),u=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[u]&&n(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(3),o=n(46),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r=n(30),o=n(6),i=n(86);t.exports=function(t,e){var n=arguments.length<2?i(t):e;if(r(n))return o(n.call(t));throw TypeError(String(t)+" is not iterable")}},function(t,e,n){var r=n(6),o=n(37);t.exports=function(t,e,n){var i,a;r(t);try{if(!(i=o(t,"return"))){if("throw"===e)throw n;return n}i=i.call(t)}catch(t){a=!0,i=t}if("throw"===e)throw n;if(a)throw i;return r(i),n}},function(t,e,n){var r=n(6),o=n(106),i=n(3)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r,o,i,a,u=n(2),c=n(4),s=n(1),l=n(45),f=n(107),h=n(50),p=n(122),v=n(88),d=u.setImmediate,y=u.clearImmediate,g=u.process,b=u.MessageChannel,m=u.Dispatch,x=0,w={};try{r=u.location}catch(t){}var O=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},k=function(t){return function(){O(t)}},E=function(t){O(t.data)},S=function(t){u.postMessage(String(t),r.protocol+"//"+r.host)};d&&y||(d=function(t){for(var e=[],n=arguments.length,r=1;n>r;)e.push(arguments[r++]);return w[++x]=function(){(c(t)?t:Function(t)).apply(void 0,e)},o(x),x},y=function(t){delete w[t]},v?o=function(t){g.nextTick(k(t))}:m&&m.now?o=function(t){m.now(k(t))}:b&&!p?(a=(i=new b).port2,i.port1.onmessage=E,o=l(a.postMessage,a,1)):u.addEventListener&&c(u.postMessage)&&!u.importScripts&&r&&"file:"!==r.protocol&&!s(S)?(o=S,u.addEventListener("message",E,!1)):o="onreadystatechange"in h("script")?function(t){f.appendChild(h("script")).onreadystatechange=function(){f.removeChild(this),O(t)}}:function(t){setTimeout(k(t),0)}),t.exports={set:d,clear:y}},function(t,e,n){var r=n(29);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(t,e,n){"use strict";var r=n(30),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){var r=n(4),o=n(5),i=n(63);t.exports=function(t,e,n){var a,u;return i&&r(a=e.constructor)&&a!==n&&o(u=a.prototype)&&u!==n.prototype&&i(t,u),t}},function(t,e,n){"use strict";var r=n(0),o=n(66),i=n(65),a=n(5),u=n(59),c=n(25),s=n(16),l=n(48),f=n(3),h=n(47)("slice"),p=f("species"),v=[].slice,d=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(t,e){var n,r,f,h=s(this),y=c(h),g=u(t,y),b=u(void 0===e?y:e,y);if(o(h)&&(n=h.constructor,(i(n)&&(n===Array||o(n.prototype))||a(n)&&null===(n=n[p]))&&(n=void 0),n===Array||void 0===n))return v.call(h,g,b);for(r=new(void 0===n?Array:n)(d(b-g,0)),f=0;g<b;g++,f++)g in h&&l(r,f,h[g]);return r.length=f,r}})},function(t,e,n){var r=n(5),o=n(34),i=n(3)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(0),o=n(171);r({target:"Array",stat:!0,forced:!n(87)((function(t){Array.from(t)}))},{from:o})},function(t,e,n){var r=n(0),o=n(40),i=n(5),a=n(8),u=n(9).f,c=n(41),s=n(108),l=n(54),f=n(177),h=!1,p=l("meta"),v=0,d=Object.isExtensible||function(){return!0},y=function(t){u(t,p,{value:{objectID:"O"+v++,weakData:{}}})},g=t.exports={enable:function(){g.enable=function(){},h=!0;var t=c.f,e=[].splice,n={};n[p]=1,t(n).length&&(c.f=function(n){for(var r=t(n),o=0,i=r.length;o<i;o++)if(r[o]===p){e.call(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}))},fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,p)){if(!d(t))return"F";if(!e)return"E";y(t)}return t[p].objectID},getWeakData:function(t,e){if(!a(t,p)){if(!d(t))return!0;if(!e)return!1;y(t)}return t[p].weakData},onFreeze:function(t){return f&&h&&d(t)&&!a(t,p)&&y(t),t}};o[p]=!0},function(t,e,n){"use strict";var r=n(6);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(1),o=n(2).RegExp;e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){"use strict";n(95);var r=n(17),o=n(71),i=n(1),a=n(3),u=n(31),c=a("species"),s=RegExp.prototype;t.exports=function(t,e,n,l){var f=a(t),h=!i((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),p=h&&!i((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!h||!p||n){var v=/./[f],d=e(f,""[t],(function(t,e,n,r,i){var a=e.exec;return a===o||a===s.exec?h&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}));r(String.prototype,t,d[0]),r(s,f,d[1])}l&&u(s[f],"sham",!0)}},function(t,e,n){"use strict";var r=n(112).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(6),o=n(4),i=n(34),a=n(71);t.exports=function(t,e){var n=t.exec;if(o(n)){var u=n.call(t,e);return null!==u&&r(u),u}if("RegExp"===i(t))return a.call(t,e);throw TypeError("RegExp#exec called on incompatible receiver")}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(4),o=n(5);t.exports=function(t,e){var n,i;if("string"===e&&r(n=t.toString)&&!o(i=n.call(t)))return i;if(r(n=t.valueOf)&&!o(i=n.call(t)))return i;if("string"!==e&&r(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(2),o=n(4),i=n(57),a=r.WeakMap;t.exports=o(a)&&/native code/.test(i(a))},function(t,e,n){var r=n(2),o=n(1),i=n(13),a=n(80).trim,u=n(81),c=r.parseFloat,s=r.Symbol,l=s&&s.iterator,f=1/c(u+"-0")!=-1/0||l&&!o((function(){c(Object(l))}));t.exports=f?function(t){var e=a(i(t)),n=c(e);return 0===n&&"-"==e.charAt(0)?-0:n}:c},function(t,e,n){var r=n(4);t.exports=function(t){if("object"==typeof t||r(t))return t;throw TypeError("Can't set "+String(t)+" as a prototype")}},function(t,e,n){var r=n(7),o=n(9),i=n(6),a=n(42);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),u=r.length,c=0;u>c;)o.f(t,n=r[c++],e[n]);return t}},function(t,e,n){"use strict";var r=n(30),o=n(5),i=[].slice,a={},u=function(t,e,n){if(!(e in a)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=i.call(arguments,1),a=function(){var r=n.concat(i.call(arguments));return this instanceof a?u(e,r.length,r):e.apply(t,r)};return o(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){var r=n(2);t.exports=r},function(t,e,n){var r=n(66),o=n(65),i=n(5),a=n(3)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,(o(e)&&(e===Array||r(e.prototype))||i(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(79),o=n(62);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){"use strict";var r=n(111).IteratorPrototype,o=n(33),i=n(39),a=n(43),u=n(46),c=function(){return this};t.exports=function(t,e,n){var s=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,s,!1,!0),u[s]=c,t}},function(t,e,n){"use strict";var r,o,i,a,u=n(0),c=n(38),s=n(2),l=n(24),f=n(146),h=n(17),p=n(115),v=n(63),d=n(43),y=n(116),g=n(30),b=n(4),m=n(5),x=n(84),w=n(57),O=n(85),k=n(87),E=n(120),S=n(121).set,T=n(147),j=n(150),P=n(151),M=n(123),C=n(152),R=n(32),_=n(61),I=n(3),L=n(153),F=n(88),A=n(36),D=I("species"),N="Promise",X=R.get,Y=R.set,B=R.getterFor(N),U=f&&f.prototype,W=f,q=U,z=s.TypeError,V=s.document,H=s.process,G=M.f,K=G,Z=!!(V&&V.createEvent&&s.dispatchEvent),$=b(s.PromiseRejectionEvent),J="unhandledrejection",Q=!1,tt=_(N,(function(){var t=w(W),e=t!==String(W);if(!e&&66===A)return!0;if(c&&!q.finally)return!0;if(A>=51&&/native code/.test(t))return!1;var n=new W((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[D]=r,!(Q=n.then((function(){}))instanceof r)||!e&&L&&!$})),et=tt||!k((function(t){W.all(t).catch((function(){}))})),nt=function(t){var e;return!(!m(t)||!b(e=t.then))&&e},rt=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;T((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var a,u,c,s=n[i++],l=o?s.ok:s.fail,f=s.resolve,h=s.reject,p=s.domain;try{l?(o||(2===t.rejection&&ut(t),t.rejection=1),!0===l?a=r:(p&&p.enter(),a=l(r),p&&(p.exit(),c=!0)),a===s.promise?h(z("Promise-chain cycle")):(u=nt(a))?u.call(a,f,h):f(a)):h(r)}catch(t){p&&!c&&p.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&it(t)}))}},ot=function(t,e,n){var r,o;Z?((r=V.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:e,reason:n},!$&&(o=s["on"+t])?o(r):t===J&&P("Unhandled promise rejection",n)},it=function(t){S.call(s,(function(){var e,n=t.facade,r=t.value;if(at(t)&&(e=C((function(){F?H.emit("unhandledRejection",r,n):ot(J,n,r)})),t.rejection=F||at(t)?2:1,e.error))throw e.value}))},at=function(t){return 1!==t.rejection&&!t.parent},ut=function(t){S.call(s,(function(){var e=t.facade;F?H.emit("rejectionHandled",e):ot("rejectionhandled",e,t.value)}))},ct=function(t,e,n){return function(r){t(e,r,n)}},st=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,rt(t,!0))},lt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw z("Promise can't be resolved itself");var r=nt(e);r?T((function(){var n={done:!1};try{r.call(e,ct(lt,n,t),ct(st,n,t))}catch(e){st(n,e,t)}})):(t.value=e,t.state=1,rt(t,!1))}catch(e){st({done:!1},e,t)}}};if(tt&&(q=(W=function(t){x(this,W,N),g(t),r.call(this);var e=X(this);try{t(ct(lt,e),ct(st,e))}catch(t){st(e,t)}}).prototype,(r=function(t){Y(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(q,{then:function(t,e){var n=B(this),r=G(E(this,W));return r.ok=!b(t)||t,r.fail=b(e)&&e,r.domain=F?H.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&rt(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=X(t);this.promise=t,this.resolve=ct(lt,e),this.reject=ct(st,e)},M.f=G=function(t){return t===W||t===i?new o(t):K(t)},!c&&b(f)&&U!==Object.prototype)){a=U.then,Q||(h(U,"then",(function(t,e){var n=this;return new W((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),h(U,"catch",q.catch,{unsafe:!0}));try{delete U.constructor}catch(t){}v&&v(U,q)}u({global:!0,wrap:!0,forced:tt},{Promise:W}),d(W,N,!1,!0),y(N),i=l(N),u({target:N,stat:!0,forced:tt},{reject:function(t){var e=G(this);return e.reject.call(void 0,t),e.promise}}),u({target:N,stat:!0,forced:c||tt},{resolve:function(t){return j(c&&this===i?W:this,t)}}),u({target:N,stat:!0,forced:et},{all:function(t){var e=this,n=G(e),r=n.resolve,o=n.reject,i=C((function(){var n=g(e.resolve),i=[],a=0,u=1;O(t,(function(t){var c=a++,s=!1;i.push(void 0),u++,n.call(e,t).then((function(t){s||(s=!0,i[c]=t,--u||r(i))}),o)})),--u||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=G(e),r=n.reject,o=C((function(){var o=g(e.resolve);O(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(2);t.exports=r.Promise},function(t,e,n){var r,o,i,a,u,c,s,l,f=n(2),h=n(27).f,p=n(121).set,v=n(122),d=n(148),y=n(149),g=n(88),b=f.MutationObserver||f.WebKitMutationObserver,m=f.document,x=f.process,w=f.Promise,O=h(f,"queueMicrotask"),k=O&&O.value;k||(r=function(){var t,e;for(g&&(t=x.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},v||g||y||!b||!m?!d&&w&&w.resolve?((s=w.resolve(void 0)).constructor=w,l=s.then,a=function(){l.call(s,r)}):a=g?function(){x.nextTick(r)}:function(){p.call(f,r)}:(u=!0,c=m.createTextNode(""),new b(r).observe(c,{characterData:!0}),a=function(){c.data=u=!u})),t.exports=k||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(29),o=n(2);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},function(t,e,n){var r=n(29);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(6),o=n(5),i=n(123);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(2);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e){t.exports="object"==typeof window},function(t,e,n){var r=n(0),o=n(155);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e,n){"use strict";var r=n(7),o=n(1),i=n(42),a=n(78),u=n(55),c=n(12),s=n(56),l=Object.assign,f=Object.defineProperty;t.exports=!l||o((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||i(l({},e)).join("")!=o}))?function(t,e){for(var n=c(t),o=arguments.length,l=1,f=a.f,h=u.f;o>l;)for(var p,v=s(arguments[l++]),d=f?i(v).concat(f(v)):i(v),y=d.length,g=0;y>g;)p=d[g++],r&&!h.call(v,p)||(n[p]=v[p]);return n}:l},function(t,e,n){"use strict";var r=n(44).forEach,o=n(89)("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){"use strict";var r=n(0),o=n(30),i=n(12),a=n(25),u=n(13),c=n(1),s=n(158),l=n(89),f=n(159),h=n(160),p=n(36),v=n(161),d=[],y=d.sort,g=c((function(){d.sort(void 0)})),b=c((function(){d.sort(null)})),m=l("sort"),x=!c((function(){if(p)return p<70;if(!(f&&f>3)){if(h)return!0;if(v)return v<603;var t,e,n,r,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)d.push({k:e+r,v:n})}for(d.sort((function(t,e){return e.v-t.v})),r=0;r<d.length;r++)e=d[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:g||!b||!m||!x},{sort:function(t){void 0!==t&&o(t);var e=i(this);if(x)return void 0===t?y.call(e):y.call(e,t);var n,r,c=[],l=a(e);for(r=0;r<l;r++)r in e&&c.push(e[r]);for(n=(c=s(c,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:u(e)>u(n)?1:-1}}(t))).length,r=0;r<n;)e[r]=c[r++];for(;r<l;)delete e[r++];return e}})},function(t,e){var n=Math.floor,r=function(t,e){var a=t.length,u=n(a/2);return a<8?o(t,e):i(r(t.slice(0,u),e),r(t.slice(u),e),e)},o=function(t,e){for(var n,r,o=t.length,i=1;i<o;){for(r=i,n=t[i];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},i=function(t,e,n){for(var r=t.length,o=e.length,i=0,a=0,u=[];i<r||a<o;)i<r&&a<o?u.push(n(t[i],e[a])<=0?t[i++]:e[a++]):u.push(i<r?t[i++]:e[a++]);return u};t.exports=r},function(t,e,n){var r=n(29).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},function(t,e,n){var r=n(29);t.exports=/MSIE|Trident/.test(r)},function(t,e,n){var r=n(29).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},function(t,e,n){var r=n(2).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},function(t,e){var n=1..valueOf;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(7),o=n(42),i=n(16),a=n(55).f,u=function(t){return function(e){for(var n,u=i(e),c=o(u),s=c.length,l=0,f=[];s>l;)n=c[l++],r&&!a.call(u,n)||f.push(t?[n,u[n]]:u[n]);return f}};t.exports={entries:u(!0),values:u(!1)}},function(t,e,n){var r=n(0),o=n(5),i=n(6),a=n(166),u=n(27),c=n(64);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,s,l=arguments.length<3?e:arguments[2];return i(e)===l?e[n]:(r=u.f(e,n))?a(r)?r.value:void 0===r.get?void 0:r.get.call(l):o(s=c(e))?t(s,n,l):void 0}})},function(t,e,n){var r=n(8);t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},function(t,e,n){"use strict";var r=n(0),o=n(104).includes,i=n(67);r({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){"use strict";var r=n(0),o=n(169),i=n(28),a=n(13);r({target:"String",proto:!0,forced:!n(170)("includes")},{includes:function(t){return!!~a(i(this)).indexOf(a(o(t)),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(126);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(3)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";var r=n(45),o=n(12),i=n(172),a=n(117),u=n(65),c=n(25),s=n(48),l=n(118),f=n(86);t.exports=function(t){var e=o(t),n=u(this),h=arguments.length,p=h>1?arguments[1]:void 0,v=void 0!==p;v&&(p=r(p,h>2?arguments[2]:void 0,2));var d,y,g,b,m,x,w=f(e),O=0;if(!w||this==Array&&a(w))for(d=c(e),y=n?new this(d):Array(d);d>O;O++)x=v?p(e[O],O):e[O],s(y,O,x);else for(m=(b=l(e,w)).next,y=n?new this:[];!(g=m.call(b)).done;O++)x=v?i(b,p,[g.value,O],!0):g.value,s(y,O,x);return y.length=O,y}},function(t,e,n){var r=n(6),o=n(119);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){o(t,"throw",e)}}},function(t,e,n){"use strict";var r=n(0),o=n(44).findIndex,i=n(67),a="findIndex",u=!0;a in[]&&Array(1).findIndex((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(a)},function(t,e,n){"use strict";var r=n(0),o=n(59),i=n(60),a=n(25),u=n(12),c=n(82),s=n(48),l=n(47)("splice"),f=Math.max,h=Math.min,p=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!l},{splice:function(t,e){var n,r,l,d,y,g,b=u(this),m=a(b),x=o(t,m),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=m-x):(n=w-2,r=h(f(i(e),0),m-x)),m+n-r>p)throw TypeError(v);for(l=c(b,r),d=0;d<r;d++)(y=x+d)in b&&s(l,d,b[y]);if(l.length=r,n<r){for(d=x;d<m-r;d++)g=d+n,(y=d+r)in b?b[g]=b[y]:delete b[g];for(d=m;d>m-r+n;d--)delete b[d-1]}else if(n>r)for(d=m-r;d>x;d--)g=d+n-1,(y=d+r-1)in b?b[g]=b[y]:delete b[g];for(d=0;d<n;d++)b[d+x]=arguments[d+2];return b.length=m-r+n,l}})},function(t,e,n){"use strict";var r=n(176),o=n(178);t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(61),a=n(17),u=n(128),c=n(85),s=n(84),l=n(4),f=n(5),h=n(1),p=n(87),v=n(43),d=n(124);t.exports=function(t,e,n){var y=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),b=y?"set":"add",m=o[t],x=m&&m.prototype,w=m,O={},k=function(t){var e=x[t];a(x,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(i(t,!l(m)||!(g||x.forEach&&!h((function(){(new m).entries().next()})))))w=n.getConstructor(e,t,y,b),u.enable();else if(i(t,!0)){var E=new w,S=E[b](g?{}:-0,1)!=E,T=h((function(){E.has(1)})),j=p((function(t){new m(t)})),P=!g&&h((function(){for(var t=new m,e=5;e--;)t[b](e,e);return!t.has(-0)}));j||((w=e((function(e,n){s(e,w,t);var r=d(new m,e,w);return null!=n&&c(n,r[b],{that:r,AS_ENTRIES:y}),r}))).prototype=x,x.constructor=w),(T||P)&&(k("delete"),k("has"),y&&k("get")),(P||S)&&k(b),g&&x.clear&&delete x.clear}return O[t]=w,r({global:!0,forced:w!=m},O),v(w,t),g||n.setStrong(w,t,y),w}},function(t,e,n){var r=n(1);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){"use strict";var r=n(9).f,o=n(33),i=n(115),a=n(45),u=n(84),c=n(85),s=n(83),l=n(116),f=n(7),h=n(128).fastKey,p=n(32),v=p.set,d=p.getterFor;t.exports={getConstructor:function(t,e,n,s){var l=t((function(t,r){u(t,l,e),v(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=r&&c(r,t[s],{that:t,AS_ENTRIES:n})})),p=d(e),y=function(t,e,n){var r,o,i=p(t),a=g(t,e);return a?a.value=n:(i.last=a={index:o=h(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},g=function(t,e){var n,r=p(t),o=h(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(l.prototype,{clear:function(){for(var t=p(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=this,n=p(e),r=g(e,t);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),f?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=p(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),i(l.prototype,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),f&&r(l.prototype,"size",{get:function(){return p(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",o=d(e),i=d(r);s(t,e,(function(t,e){v(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},function(t,e,n){"use strict";var r=n(49).PROPER,o=n(17),i=n(6),a=n(13),u=n(1),c=n(129),s="toString",l=RegExp.prototype,f=l.toString,h=u((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),p=r&&f.name!=s;(h||p)&&o(RegExp.prototype,s,(function(){var t=i(this),e=a(t.source),n=t.flags;return"/"+e+"/"+a(void 0===n&&t instanceof RegExp&&!("flags"in l)?c.call(t):n)}),{unsafe:!0})},function(t,e,n){var r=n(0),o=n(181),i=n(67);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e,n){"use strict";var r=n(12),o=n(59),i=n(25);t.exports=function(t){for(var e=r(this),n=i(e),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,s=void 0===c?n:o(c,n);s>u;)e[u++]=t;return e}},function(t,e,n){var r=n(1),o=n(2).RegExp;t.exports=r((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,e,n){var r=n(1),o=n(2).RegExp;t.exports=r((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,n){"use strict";var r=n(131),o=n(126),i=n(6),a=n(28),u=n(120),c=n(132),s=n(76),l=n(13),f=n(37),h=n(133),p=n(71),v=n(130),d=n(1),y=v.UNSUPPORTED_Y,g=[].push,b=Math.min,m=4294967295;r("split",(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=l(a(this)),i=void 0===n?m:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);for(var u,c,s,f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,d=new RegExp(t.source,h+"g");(u=p.call(d,r))&&!((c=d.lastIndex)>v&&(f.push(r.slice(v,u.index)),u.length>1&&u.index<r.length&&g.apply(f,u.slice(1)),s=u[0].length,v=c,f.length>=i));)d.lastIndex===u.index&&d.lastIndex++;return v===r.length?!s&&d.test("")||f.push(""):f.push(r.slice(v)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),i=null==e?void 0:f(e,t);return i?i.call(e,o,n):r.call(l(o),e,n)},function(t,o){var a=i(this),f=l(t),p=n(r,a,f,o,r!==e);if(p.done)return p.value;var v=u(a,RegExp),d=a.unicode,g=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(y?"g":"y"),x=new v(y?"^(?:"+a.source+")":a,g),w=void 0===o?m:o>>>0;if(0===w)return[];if(0===f.length)return null===h(x,f)?[f]:[];for(var O=0,k=0,E=[];k<f.length;){x.lastIndex=y?0:k;var S,T=h(x,y?f.slice(k):f);if(null===T||(S=b(s(x.lastIndex+(y?k:0)),f.length))===O)k=c(f,k,d);else{if(E.push(f.slice(O,k)),E.length===w)return E;for(var j=1;j<=T.length-1;j++)if(E.push(T[j]),E.length===w)return E;k=O=S}}return E.push(f.slice(O)),E}]}),!!d((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),y)},function(t,e,n){"use strict";var r=n(0),o=n(56),i=n(16),a=n(89),u=[].join,c=o!=Object,s=a("join",",");r({target:"Array",proto:!0,forced:c||!s},{join:function(t){return u.call(i(this),void 0===t?",":t)}})},function(t,e,n){var r=n(0),o=n(187);r({global:!0,forced:parseInt!=o},{parseInt:o})},function(t,e,n){var r=n(2),o=n(1),i=n(13),a=n(80).trim,u=n(81),c=r.parseInt,s=r.Symbol,l=s&&s.iterator,f=/^[+-]?0[Xx]/,h=8!==c(u+"08")||22!==c(u+"0x16")||l&&!o((function(){c(Object(l))}));t.exports=h?function(t,e){var n=a(i(t));return c(n,e>>>0||(f.test(n)?16:10))}:c},function(t,e,n){"use strict";var r=n(131),o=n(6),i=n(76),a=n(13),u=n(28),c=n(37),s=n(132),l=n(133);r("match",(function(t,e,n){return[function(e){var n=u(this),r=null==e?void 0:c(e,t);return r?r.call(e,n):new RegExp(e)[t](a(n))},function(t){var r=o(this),u=a(t),c=n(e,r,u);if(c.done)return c.value;if(!r.global)return l(r,u);var f=r.unicode;r.lastIndex=0;for(var h,p=[],v=0;null!==(h=l(r,u));){var d=a(h[0]);p[v]=d,""===d&&(r.lastIndex=s(u,i(r.lastIndex),f)),v++}return 0===v?null:p}]}))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e),n.d(e,"Listenable",(function(){return o})),n.d(e,"SmartComponent",(function(){return D})),n.d(e,"MouseController",(function(){return z})),n.d(e,"KeyboardController",(function(){return K})),n.d(e,"PointerState",(function(){return X})),n.d(e,"Vec3",(function(){return J})),n.d(e,"Line",(function(){return ut})),n.d(e,"Geometry",(function(){return tt})),n.d(e,"ImaiosCanvas",(function(){return it})),n.d(e,"TransformMatrix",(function(){return nt})),n.d(e,"Feature",(function(){return f})),n.d(e,"PublisherSubscriberFeature",(function(){return T})),n.d(e,"PointerController",(function(){return gt})),n.d(e,"ResourceManagerService",(function(){return Nt})),n.d(e,"SelectableMultiplesResourceManagerService",(function(){return Jt})),n.d(e,"SelectableOnePerOneResourceManagerService",(function(){return zt})),n.d(e,"Resource",(function(){return mt})),n.d(e,"SelectableMultipleResource",(function(){return Rt})),n.d(e,"SelectableOnePerOneResource",(function(){return St})),n.d(e,"RequestFullscreenFeatureFactory",(function(){return se})),n.d(e,"RequestFullscreenFeature",(function(){return ue})),n.d(e,"RequestFullscreenFeatureEVENT",(function(){return ce})),n(72),n(100),n(18),n(19),n(20),n(21),n(22),n(10),n(23),n(11),n(14),n(15),n(145),n(154),n(35),n(26),n(157),n(90),n(91),n(92),n(68),n(93),n(125),n(165),n(69);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.core={listeners:[]}}return function(t,e,n){e&&r(t.prototype,e)}(t,[{key:"listen",value:function(t,e){document.addEventListener(t,e,!1),this.core.listeners.push({name:t,task:e})}},{key:"destroy",value:function(){this.core.listeners.forEach((function(t){document.removeEventListener(t.name,t.task)}))}}]),t}();function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(167),n(168),n(127),n(173),n(174),n(70),n(94);var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}(n);function n(){return a(this,n),e.apply(this,arguments)}return function(t,e,n){e&&u(t.prototype,e)}(n,[{key:"bind",value:function(t){}},{key:"isEnabled",value:function(){return!0===this.enabled}},{key:"disable",value:function(){this.enabled=!1}},{key:"enable",value:function(){this.enabled=!0}},{key:"toggle",value:function(){this.enabled?this.disable():this.enable()}}]),n}(o);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t){return!!t&&!(!window.debug||!window.debug.publish)&&(window.debug.publish.includes?window.debug.publish.includes.includes(t):window.debug.publish.excludes?!window.debug.publish.excludes.includes(t):null!==(e=window.debug.publish.log)&&void 0!==e&&e);var e}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.core.subscribers[t];w(t)&&(console.groupCollapsed(t),console.debug(e),window.debug.publish.trace&&(console.groupCollapsed("trace"),console.trace(),console.groupEnd()),console.groupEnd()),Array.isArray(n)&&Array.from(n).forEach((function(t){t.callback(e)}))}function k(t,e,n){if(D.isComponent(t)&&t.hasFeature("publisher-subscriber")){var r={subscription_id:"".concat(this._id,"#").concat(t._id,"#").concat(this.core.nbSubscriptions),callback:n};return r.unsubscribe=S.unsubscribeFactory(this,r,e,t),S.addSubscription(this,e,r,t),S.addSubscriber(this,e,r,t),r}return null}function E(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof e.message&&(e.message=[e.message]),Array.isArray(e.message)&&e.message.forEach((function(e){var n=t.core.subscriptions[e];Array.isArray(n)&&n.map((function(t){return t.unsubscribe})).forEach((function(t){t()}))}))}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x(t);if(e){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,n),e.call(this,t)}return function(t,e,n){e&&g(t.prototype,e),n&&g(t,n)}(n,[{key:"init",value:function(t){t.core.subscribers={},t.core.subscriptions={},t.core.nbSubscriptions=0,t.core.nbSubscribers=0,t.publish=O.bind(t),t.subscribe=k.bind(t),t.unsubscribe=E.bind(t),this.destroy=n.destroy.bind(this,t)}}],[{key:"addSubscription",value:function(t,e,n,r){!0!==Array.isArray(t.core.subscriptions[e])&&(t.core.subscriptions[e]=[]),t.core.subscriptions[e].push(v({component_id:r._id},n)),t.core.nbSubscriptions++}},{key:"unsubscribeFactory",value:function(t,e,n,r){return function(){var o=r.core.subscribers[n];if(Array.isArray(o)){var i=o.findIndex((function(t){return t.subscription_id===e.subscription_id}));i>=0&&(delete o.splice(i,1).callback,r.core.nbSubscribers--,0===r.core.subscribers[n].length&&delete r.core.subscribers[n])}var a=t.core.subscriptions[n];if(Array.isArray(a)){var u=a.findIndex((function(t){return t.subscription_id===e.subscription_id}));u>=0&&(delete a.splice(u,1).unsubscribe,0===t.core.subscriptions[n].length&&delete t.core.subscriptions[n],t.core.nbSubscriptions--)}}}},{key:"addSubscriber",value:function(t,e,n,r){!0!==Array.isArray(r.core.subscribers[e])&&(r.core.subscribers[e]=[]),r.core.subscribers[e].push(v({component_id:t._id},n)),r.core.nbSubscribers++}},{key:"destroy",value:function(t){Object.values(t.core.subscriptions).forEach((function(t){t.forEach((function(t){return t.unsubscribe()}))})),Object.values(t.core.subscribers).forEach((function(t){t.forEach((function(t){return t.unsubscribe()}))}))}}]),n}(f),T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new S(e);return n.init(t,e),n};function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(){}var F=0,A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=I(t);if(e){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return P(this,n),t=e.call(this,r),void 0===r.component&&(r.component={}),Object.defineProperties(t.core,{instancied_at:{value:Date.now(),writable:!1,configurable:!1},_id:{value:"component_"+F++,writable:!1,configurable:!1},isSmartComponent:{value:!0,writable:!1,configurable:!1}}),t._id=r._id||t.core._id,t.features={"publisher-subscriber":{bindFeature:T,priority:-1}},t.quietEvents={},t.setup(r),t}return function(t,e,n){e&&M(t.prototype,e),n&&M(t,n)}(n,[{key:"featureIsEnabled",value:function(t){var e=this.features[t];return"object"===j(e)&&"function"==typeof e.isEnabled&&(e.isEnabled()||!1)}},{key:"is",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==t&&this._id===t._id}},{key:"store",value:function(t,e){this.data[t]=e}},{key:"get",value:function(t){return void 0!==this.data[t]?this.data[t]:null}},{key:"setBehavior",value:function(t,e){this.behaviours[t]=e}},{key:"hasFeature",value:function(t){return void 0!==this.features[t]}},{key:"getBehavior",value:function(t){return this.behaviours[t]}},{key:"clearBehavior",value:function(t){delete this.behaviours[t]}},{key:"behave",value:function(t,e){var n=this.getBehavior(t);if("function"==typeof n)return n(e)}},{key:"hide",value:function(t){t.classList.add("im-hidden")}},{key:"show",value:function(t){t.classList.remove("im-hidden")}},{key:"doAsync",value:function(t){new Promise((function(e){t(),e()})).then(L)}},{key:"setup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0!==t.component.name?this.name=t.component.name:void 0!==t.name?this.name=t.name:this.name=this._id,this.ui={},this.label={},this.data={},this.behaviours={},this.onSetup(t),this.injectFeatures(Object.assign({},t.component.features,t.features,this.features))}},{key:"onSetup",value:function(t){}},{key:"setId",value:function(t){this._id=t}},{key:"checkInjectionRulesBindTo",value:function(t,e){if(void 0===e.bindTo)return!0;if(Array.isArray(e.bindTo)){if(!1===e.bindTo.has(this.name))return!1}else{if("function"==typeof e.bindTo)return e.bindTo(this,e);if(this.name!==e.bindTo)return!1}return!0}},{key:"checkInjectionBindMethod",value:function(t,e){return"function"==typeof e||(void 0===e.bind&&"function"!=typeof e.bindFeature&&(e.bindFeature=defaultSettings.featuresRecorded[t]),void 0!==e.bindFeature||(this.notifyError("Unable to find '".concat(t,"' in built-in viewer features")),!1))}},{key:"checkInjectionRules",value:function(t,e){return!(!0!==this.injectionRules.bindTo&&void 0!==e.bindTo||!0===this.injectionRules.bindTo&&!0!==this.checkInjectionRulesBindTo(t,e)||!0!==this.checkInjectionBindMethod(t,e))}},{key:"injectFeatures",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.keys(e);n.map((function(t){var n={name:t},r=e[t];return n.bindFeature="function"==typeof r?r:r.bindFeature,Number.isFinite(r.priority)?n.priority=r.priority:n.priority=Number.POSITIVE_INFINITY,n})).sort((function(t,e){return t.priority-e.priority})).forEach((function(e){t.injectFeature(e.name,e.bindFeature)}))}},{key:"injectFeature",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!1!==e&&!1!==e.enabled){var n;try{"function"==typeof e.bindFeature?n=e.bindFeature(this,e):"function"==typeof e&&(n=e(this,e)),this.features[t]=void 0!==n?n:e,this.publish&&this.publish("feature-added",{name:t,data:e})}catch(e){this.notifyError('Unable to bind feature "'.concat(t,'" to component "').concat(this.name,'"')),console.error(e)}return!0}}},{key:"quiet",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===e?this.quietEvents[t]=!0:delete this.quietEvents[t]}},{key:"resetQuietEvents",value:function(){var t=this;Object.keys(this.quietEvents).forEach((function(e){delete t.quietEvents[e]}))}},{key:"isQuiet",value:function(t){return!0===this.quietEvents[t]}},{key:"emit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.isQuiet(t)){var n=e.target||document;n.dispatchEvent(this.createCustomEvent(t,Object.assign({emitter:this},e)))}}},{key:"destroy",value:function(){C(I(n.prototype),"destroy",this).call(this),this.publish("destroy",this),Object.values(this.features).forEach((function(t){"function"==typeof t.destroy&&t.destroy()}))}},{key:"createCustomEvent",value:function(t,e){if("undefined"!=typeof window){if("function"==typeof window.CustomEvent)return new CustomEvent(t,e);var n=e||{bubbles:!1,cancelable:!1,detail:void 0},r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),r}}},{key:"notifyWarning",value:function(t){n.verboseMode&&(console.log("%c -- ".concat(this.name," WARNING --"),"color: orange; font-weight:bold"),console.log(t))}},{key:"notifyError",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.verboseMode&&console.error(t),"undefined"!=typeof window&&window.newrelic&&window.newrelic.noticeError(t),!0===e)throw new Error(t)}},{key:"notifyLog",value:function(t){console.log("%c --  ".concat(this.name," LOG --"),"color: blue; font-weight:bold"),console.log.apply(console,Array.prototype.slice.call(arguments))}}],[{key:"isComponent",value:function(t){return"object"===j(t)&&"object"===j(t.core)&&!0===t.core.isSmartComponent}}]),n}(o);A.verboseMode=!0,A.enableVerboseMode=function(){A.verboseMode=!0},A.disableVerboseMode=function(){A.verboseMode=!1};var D=A;function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var X=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={coords:{x:0,y:0},lastCoords:{x:0,y:0},delta:{x:0,y:0},lastCoordsOnScreen:{x:0,y:0},lastMouseDownCoords:{x:0,y:0}},this.isDown=!1,this.mouseDownTarget=null}return function(t,e,n){e&&N(t.prototype,e),n&&N(t,n)}(t,[{key:"setCoords",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=this.data.coords;this.setLastCoords(i.x,i.y),i.x=t,i.y=e,this.data.delta.x=Math.round((i.x-this.data.lastCoords.x)*n*r),this.data.delta.y=Math.round((i.y-this.data.lastCoords.y)*n*o)}},{key:"setLastCoords",value:function(t,e){var n=this.data.lastCoords;n.x=t,n.y=e}},{key:"getLastCoords",value:function(){var t=this.data.lastCoords;return{x:t.x,y:t.y}}},{key:"setLastMouseDownCoords",value:function(t,e){var n=this.data.lastMouseDownCoords;n.x=t,n.y=e}},{key:"getLastMouseDownCoords",value:function(){var t=this.data.lastMouseDownCoords;return{x:t.x,y:t.y}}},{key:"setMouseDownTarget",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.mouseDownTarget=t}},{key:"getMouseDownTarget",value:function(){return this.mouseDownTarget}},{key:"update",value:function(e){var n=t.retrieveCoords(e),r=e.target,o=1,i=1;if(Number.isFinite(r.width)&&Number.isFinite(r.height)){var a=r.getBoundingClientRect();o=r.width/a.width,i=r.height/a.height}this.setCoords(n.x,n.y,1,o,i)}}],[{key:"retrieveCoords",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e||t.target,r=n.getBoundingClientRect(),o=t;return t.changedTouches&&t.changedTouches[0]&&(o=t.changedTouches[0]),{x:o.clientX-r.left,y:o.clientY-r.top}}}]),t}();function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W(t,e){if(e&&("object"===Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=q(t);if(e){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W(this,n)}}(n);function n(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),void 0===t.name&&(t.name="mouse-controller"),(r=e.call(this,t)).domTarget=t.domTarget||window,r.lockPointer=t.lockPointer||!1;var o=t.defaultIsAvoid?n.avoid:null;return r.onMouseMove=t.onMouseMove||o,r.onMouseDown=t.onMouseDown||o,r.onMouseUp=t.onMouseUp||o,r.onClick=t.onClick||o,r.onDoubleClick=t.onDoubleClick||o,r.onMouseEnter=t.onMouseEnter||o,r.onMouseLeave=t.onMouseLeave||o,r.onMouseWheel=t.onMouseWheel||o,r.onTouchStart=t.onTouchStart||t.onMouseDown||o,r.onTouchMove=t.onTouchMove||t.onMouseMove||o,r.onTouchEnd=t.onTouchEnd||t.onMouseUp||o,r.sensivity=1,r.notify(),r.init(t),r}return function(t,e,n){e&&B(t.prototype,e)}(n,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0!==t.state?this.state=t.state:this.state=new X,this.lockPointer&&this.requestPointerLock(),document.addEventListener("contextmenu",(function(t){return!1}),!1),this.domTarget.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1}),!1),null!==this.onMouseMove&&this.domTarget.addEventListener("mousemove",this.onMouseMove,!1),null!==this.onMouseDown&&this.domTarget.addEventListener("mousedown",this.onMouseDown,!1),null!==this.onMouseUp&&this.domTarget.addEventListener("mouseup",this.onMouseUp,!1),null!==this.onClick&&this.domTarget.addEventListener("click",this.onClick,!1),null!==this.onDoubleClick&&this.domTarget.addEventListener("dblclick",this.onDoubleClick,!1),null!==this.onMouseEnter&&this.domTarget.addEventListener("mouseenter",this.onMouseEnter,!1),null!==this.onMouseLeave&&this.domTarget.addEventListener("mouseleave",this.onMouseLeave,!1),null!==this.onMouseWheel&&(this.domTarget.addEventListener("mousewheel",this.onMouseWheel,!1),this.domTarget.addEventListener("DOMMouseScroll",this.onMouseWheel,!1)),null!==this.onTouchStart){var e=this;this.domTarget.addEventListener("touchstart",(function(t){e.onTouchStart(t)}),{passive:!1})}null!==this.onTouchMove&&(e=this,this.domTarget.addEventListener("touchmove",this.onTouchMove,{passive:!1})),null!==this.onTouchEnd&&this.domTarget.addEventListener("touchend",this.onTouchEnd,!1)}},{key:"isLeftClick",value:function(t){return"object"===Y(t)&&1==t.which}},{key:"isRightClick",value:function(t){return"object"===Y(t)&&3===t.which}},{key:"avoid",value:function(){}},{key:"getMouseCoords",value:function(t){var e=t.target.getBoundingClientRect();if(this.isTouchEvent(t))var n=1*(t.changedTouches[0].clientX-e.left),r=1*(t.changedTouches[0].clientY-e.top);else n=1*(t.clientX-e.left),r=1*(t.clientY-e.top);return{x:n,y:r}}},{key:"notify",value:function(){try{this.boundRect=this.domTarget.getBoundingClientRect()}catch(t){this.boundRect?(this.boundRect.width=this.domTarget.clientWidth,this.boundRect.height=this.domTarget.clientHeight):this.boundRect={width:this.domTarget.clientWidth,height:this.domTarget.clientHeight},this.notifyError(t)}this.isTargetEmpty()?(this.ratioX=1,this.ratioY=1):(this.ratioX=Math.round(this.domTarget.width/this.boundRect.width),this.ratioY=Math.round(this.domTarget.height/this.boundRect.height))}},{key:"isTargetEmpty",value:function(){return void 0===this.domTarget.width||void 0===this.domTarget.height||0===this.boundRect.width||0===this.boundRect.height}},{key:"setCoords",value:function(t,e){this.state.setCoords(t,e,this.sensivity,this.ratioX,this.ratioY)}},{key:"isTouchEvent",value:function(t){return t.changedTouches}},{key:"updateCoords",value:function(t){var e;e=this.isTouchEvent()?t.changedTouches[0]:t,this.setCoords((e.clientX-this.boundRect.left)*this.ratioX,(e.clientY-this.boundRect.top)*this.ratioY)}},{key:"getPointerMovement",value:function(t){t.target;var e=t._movementX*this.sensivity,n=t._movementY*this.sensivity;return e||(e=0),n||(n=0),{x:e,y:n}}},{key:"setPointerMovement",value:function(t,e){var n=this.state.data.lastCoordsOnScreen;return n.x&&n.y&&(t._movementX=parseFloat(e.x-n.x),t._movementY=parseFloat(e.y-n.y)),t}},{key:"requestPointerLock",value:function(){var t=this.domTarget;t.addEventListener("click",(function(){t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock&&t.requestPointerLock()}),!1)}},{key:"exitPointerLock",value:function(){document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock()}}]),n}(D);function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(175);var G=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};V(this,t),this.elementsExcluded=new Set(n.elementsExcluded||t.elementsExcluded);var r=n.eventsRecognized||t.eventsRecognized;this.handler=n.handler,this.component=n.component,this.keysFired={},r.forEach((function(t){document.addEventListener(t,(function(n){if(e.isAllowed(n)){var r,o=n.key.toLowerCase();if(void 0===(r="control"!==o&&"alt"!==o&&"shift"!==o?e.handler["".concat(n.ctrlKey?"ctrl+":"").concat(n.altKey?"alt+":"").concat(n.shiftKey?"shift+":"").concat(o)]:e.handler[o])){if(void 0===e.handler["*"])return;r=e.handler["*"]}var i=!0;!0===r.triggerOncePerPression&&!0!==e.applyTriggerOncePerPressionConstraint(t,o)&&(i=!1),!0===i&&"function"==typeof r[t]&&r[t](n,e.component)}}))}))}return function(t,e,n){e&&H(t.prototype,e)}(t,[{key:"applyTriggerOncePerPressionConstraint",value:function(t,e){return"keydown"===t?!this.isFired(e)&&(this.fire(e),!0):"keyup"===t?(this.unfire(e),!0):void 0}},{key:"isAllowed",value:function(t){return!(this.isElementExcluded(t)||this.isContentEditable(t))}},{key:"isElementExcluded",value:function(t){return this.elementsExcluded.has(t.target.tagName.toLowerCase())}},{key:"isContentEditable",value:function(t){var e=t.target.getAttribute("contenteditable");return null!==e||"string"==typeof e&&e.length>0}},{key:"isFired",value:function(t){return!0===this.keysFired[t]}},{key:"fire",value:function(t){this.keysFired[t]=!0}},{key:"unfire",value:function(t){this.keysFired[t]=!1}}]),t}();G.elementsExcluded=new Set(["textarea","input"]),G.eventsRecognized=new Set(["keydown","keyup"]);var K=G;function Z(t,e,n){this.data=void 0!==t?[t,e,n]:[0,0,0]}n(179),Z.initialized=!1,Z.POOL={instances:[],avaibles:[],initialSize:10},Z.initialize=function(){if(!1===Z.initialized){for(var t=0;t<Z.POOL.initialSize;++t){var e=new Z;Z.POOL.instances.push(e),Z.POOL.avaibles.push(e)}Z.initialized=!0}},Z.getComplementOfCouple=function(t,e){return e[0].equals(t[0])||e[0].equals(t[1])?e[1]:e[0]},Z.fromPoints=function(t,e){return new Z(e.getX()-t.getX(),e.getY()-t.getY(),e.getZ()-t.getZ())},Z.local=function(t,e,n){return new Z(t,e,n)},Z.use=function(t,e,n){var r;return t=t||0,e=e||0,n=n||0,Z.POOL.avaibles.length>0?r=Z.POOL.avaibles.pop():(r=new Z,Z.POOL.instances.push(r)),r.set(t,e,n),r.inUse=!0,r},Z.getOne=function(t,e,n){var r;return t=t||0,e=e||0,n=n||0,Z.POOL.avaibles.length>0?r=Z.POOL.avaibles.pop():(r=new Z,Z.POOL.instances.push(r)),r.set(t,e,n),r.inUse=!0,r},Z.getInstance=function(t){return!0===t?Z.use():new Z},Z.determinant=function(t,e){return t.getX()*e.getY()-t.getY()*e.getX()},Z.det3x3=function(t,e,n){var r=t[0],o=e[0],i=n[0],a=t[1],u=e[1],c=n[1],s=t[2],l=e[2],f=n[2];return r*(u*f-l*c)+a*(l*i-f*o)+s*(o*c-u*i)},Z.prototype.inUse=!1,Z.prototype.recycle=function(){!0===this.inUse&&(this.inUse=!1,Z.POOL.avaibles.push(this))},Z.prototype.setX=function(t){return this.data[0]=t,this},Z.prototype.setY=function(t){return this.data[1]=t,this},Z.prototype.setZ=function(t){return this.data[2]=t,this},Z.prototype.getX=function(t){return this.data[0]},Z.prototype.getY=function(t){return this.data[1]},Z.prototype.getZ=function(){return this.data[2]},Z.prototype.set=function(t,e,n){return this.data[0]=t,this.data[1]=e,this.data[2]=n,this},Z.prototype.affect=function(t){return this.data[0]=t.data[0],this.data[1]=t.data[1],this.data[2]=t.data[2],this},Z.prototype.getNorm=function(){return Math.sqrt(this.data[0]*this.data[0]+this.data[1]*this.data[1]+this.data[2]*this.data[2])},Z.prototype.getNorm2=function(){return this.data[0]*this.data[0]+this.data[1]*this.data[1]+this.data[2]*this.data[2]},Z.prototype.normalize=function(){var t=this.getNorm();return t>0&&this.set(this.data[0]/t,this.data[1]/t,this.data[2]/t),this},Z.prototype.isNull=function(){return 0===this.data[0]&&0===this.data[1]&&0===this.data[2]},Z.prototype.cross=function(t,e){var n=Z.use().affect(t),r=Z.use().affect(e);return this.set(n.data[1]*r.data[2]-n.data[2]*r.data[1],n.data[2]*r.data[0]-n.data[0]*r.data[2],n.data[0]*r.data[1]-n.data[1]*r.data[0]),n.recycle(),r.recycle(),this},Z.prototype.round=function(t){return this.set(Math.round(this.data[0]*t)/t,Math.round(this.data[1]*t)/t,Math.round(this.data[2]*t)/t),this},Z.prototype.approxEqual=function(t){return this.distance(t)<.1},Z.prototype.isInSpace=function(t,e){return void 0===e&&(e=0),this.data[0]<t.minX-e||this.data[1]<t.minY-e||this.data[2]<t.minZ-e||this.data[0]>t.maxX+e||this.data[1]>t.maxY+e||this.data[2]>t.maxZ+e},Z.prototype.isInSpace2D=function(t,e){return void 0===e&&(e=0),this.data[0]<t.minX-e||this.data[1]<t.minY-e||this.data[0]>t.maxX+e||this.data[1]>t.maxY+e},Z.prototype.copy=function(t){return Z.getInstance(t).set(this.data[0],this.data[1],this.data[2])},Z.prototype.equals=function(t){return this.data[0]===t.data[0]&&this.data[1]===t.data[1]&&this.data[2]===t.data[2]},Z.prototype.distance=function(t){return Math.sqrt((t.data[0]-this.data[0])*(t.data[0]-this.data[0])+(t.data[1]-this.data[1])*(t.data[1]-this.data[1])+(t.data[2]-this.data[2])*(t.data[2]-this.data[2]))},Z.prototype.angle=function(t){var e=this.scalar(t)/(this.getNorm()*t.getNorm());return Math.acos(function(t,e,n){return t<=-1?-1:t>=1?1:t}(e))},Z.prototype.signedAngleXY=function(t){return Math.atan2(this.getX()*t.getY()-this.getY()*t.getX(),this.getX()*t.getX()+this.getY()*t.getY())},Z.prototype.rotateZ=function(t,e){var n=this.data[0]-t.data[0],r=this.data[1]-t.data[1],o=this.data[2]-t.data[2];return this.set(n*Math.cos(e)-r*Math.sin(e)+t.data[0],n*Math.sin(e)+r*Math.cos(e)+t.data[1],o+t.data[2]),this},Z.prototype.get=function(t){return this.data[t]},Z.from2D=function(t,e,n){return Z.getInstance(n).set(t,e,0)},Z.prototype.scalar=function(t){return this.data[0]*t.data[0]+this.data[1]*t.data[1]+this.data[2]*t.data[2]},Z.prototype.isColinear=function(t){for(var e=0;0===t.data[e]&&e<t.data.length;)e++;if(e===t.length-1)return!1;for(var n=this.data[e]/t.data[e],r=!0,o=0;o<this.data.length;++o)0!==t.data[o]&&(n>this.data[o]/t.data[o]-.1&&n<this.data[o]/t.data[o]+.1||(r=!1));return r&&0!==n},Z.prototype.minus=function(t,e){return Z.getInstance(e).set(this.data[0]-t.data[0],this.data[1]-t.data[1],this.data[2]-t.data[2])},Z.prototype.plus=function(t,e){return Z.getInstance(e).set(this.data[0]+t.data[0],this.data[1]+t.data[1],this.data[2]+t.data[2])},Z.prototype.add=function(t){return this.set(this.data[0]+t.data[0],this.data[1]+t.data[1],this.data[2]+t.data[2]),this},Z.prototype.substract=function(t){return this.set(this.data[0]-t.data[0],this.data[1]-t.data[1],this.data[2]-t.data[2]),this},Z.prototype.divideScalar=function(t){return 0!==t&&this.set(this.data[0]/t,this.data[1]/t,this.data[2]/t),this},Z.prototype.multiplyScalar=function(t){return this.set(this.data[0]*t,this.data[1]*t,this.data[2]*t),this},Z.prototype.distance=function(t){return this.minus(t).getNorm()},Z.prototype.transformMat4=function(t,e){var n=t.data[0],r=t.data[1],o=t.data[2],i=e[3]*n+e[7]*r+e[11]*o+e[15];return i=i||1,this.set((e[0]*n+e[4]*r+e[8]*o+e[12])/i,(e[1]*n+e[5]*r+e[9]*o+e[13])/i,(e[2]*n+e[6]*r+e[10]*o+e[14])/i),this},Z.prototype.translate=function(t,e,n){return void 0===e?this.set(this.data[0]-t.data[0],this.data[1]-t.data[1],this.data[2]-t.data[2]):this.set(this.data[0]+t,this.data[1]+e,this.data[2]+n),this},Z.prototype.inverseSens=function(){return this.data[0]*=-1,this.data[1]*=-1,this.data[2]*=-1,this},Z.prototype.scale=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.data[0]*=t,this.data[1]*=e,this.data[2]*=n,this},Z.prototype.transfert=function(t){this.affect(t(this))},Z.prototype.swap=function(t){var e=t.data[0],n=t.data[1],r=t.data[2];return t.data[0]=this.data[0],t.data[1]=this.data[1],t.data[2]=this.data[2],this.set(e,n,r),this},Z.prototype.movePoint=function(t,e){this.set(this.data[0]+t*e.getX(),this.data[1]+t*e.getY(),this.data[2]+t*e.getZ())},Z.prototype.getIndexOfAbsoluteComposanteMax=function(){var t=0,e=0;return this.data.forEach((function(n,r){var o=Math.abs(n);t<o&&(t=o,e=r)})),e},Z.prototype.isValid=function(){var t=this.data[0],e=this.data[1],n=this.data[2];return Number.isFinite(t)&&Number.isFinite(e)&&Number.isFinite(n)},Z.prototype.toString=function(){return"[x: ".concat(this.data[0],"|y: ").concat(this.data[1],"|z: ").concat(this.data[2],"]")},Z.prototype.translateAlongVector=function(t){this.translate(t.getX(),t.getY(),t.getZ())},Z.initialize(),"undefined"!=typeof window&&void 0===window.Vec3&&(window.Vec3=Z);var J=Z,Q={getXByDistanceAndAngle:function(t,e,n){return t+Math.cos(n%360*Math.PI/180)*e},getYByDistanceAndAngle:function(t,e,n){return t+-1*Math.sin(n%360*Math.PI/180)*e},getReverseAngle:function(t){return(t+180)%360},getAngleBetween2XY:function(t,e,n,r){var o=r-e,i=n-t,a=Math.atan2(-o,i);return a<0&&(a+=2*Math.PI),180*a/Math.PI},getDistanceBetween2XY:function(t,e,n,r){var o=Math.pow(n-t,2),i=Math.pow(e-r,2);return Math.sqrt(o+i)},rotatePointAroundCenter:function(t,e,n,r,o){var i=Math.PI/180*o,a=Math.cos(i),u=Math.sin(i);return{x:a*(n-t)+u*(r-e)+t,y:a*(r-e)-u*(n-t)+e}},getCartesianEquationOfLine:function(t,e){var n=e.getY()-t.getY(),r=t.getX()-e.getX();return{a:n,b:r,c:-(t.getY()*r+n*t.getX())}},pointCircleCollide:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===n)return!1;var o=e[0]-t[0],i=e[1]-t[1],a=o*o+i*i,u=a<=n*n;return!0===r?{distance:Math.sqrt(a),hasCollision:u}:u},lineCircleCollide:function(t,e,n,r,o){if(Q.pointCircleCollide(t,n,r))return o&&(o[0]=t[0],o[1]=t[1]),!0;if(Q.pointCircleCollide(e,n,r))return o&&(o[0]=e[0],o[1]=e[1]),!0;var i=t[0],a=t[1],u=e[0],c=e[1],s=n[0],l=n[1],f=u-i,h=c-a,p=f*f+h*h,v=f,d=h;if(p>0){var y=((s-i)*f+(l-a)*h)/p;v*=y,d*=y}o||(o=[0,0]),o[0]=i+v,o[1]=a+d;var g=v*v+d*d;return Q.pointCircleCollide(o,n,r)&&g<=p&&v*f+d*h>=0},distancePointToLine2D:function(t,e,n){var r=Q.getCartesianEquationOfLine(e,n),o=Math.abs(r.a*t.getX()+r.b*t.getY()+r.c),i=r.a*r.a+r.b*r.b;return o/Math.sqrt(i)},distancePointToEdge2D:function(t,e,n,r){var o=t.distance(e),i=e.distance(n),a=t.distance(n),u=i+r;return o<u&&a<u?Q.distancePointToLine2D(t,e,n):Math.min(o,a)},gauss:function(t){for(var e=0;e<3;e++){for(var n=Math.abs(t[e][e]),r=e,o=e+1;o<3;o++)Math.abs(t[o][e])>n&&(n=Math.abs(t[o][e]),r=o);for(o=e;o<4;o++){var i=t[r][o];t[r][o]=t[e][o],t[e][o]=i}for(o=e+1;o<3;o++)for(var a=-t[o][e]/t[e][e],u=e;u<4;u++)e==u?t[o][u]=0:t[o][u]+=a*t[e][u]}var c=new Array(3);for(e=2;e>-1;e--)for(c[e]=0===t[e][e]?0:t[e][3]/t[e][e],o=e-1;o>-1;o--)t[o][3]-=t[o][e]*c[e];return c},getCartesianEquationOfPlane:function(t,e,n){var r=new J;return void 0!==n?r.cross(e,n):r.affect(e),{a:r.getX(),b:r.getY(),c:r.getZ(),d:-r.getX()*t.getX()-r.getY()*t.getY()-r.getZ()*t.getZ()}},intersection2D:function(t,e,n,r){var o=t.getX()-e.getX(),i=t.getY()-e.getY(),a=n.getX()-r.getX(),u=n.getY()-r.getY(),c=o*u-i*a;if(Math.abs(c)<.01)return new J(null,null,null);var s=t.getX()*e.getY()-t.getY()*e.getX(),l=n.getX()*r.getY()-n.getY()*r.getX();return new J((s*a-l*o)/c,(s*u-l*i)/c,0)},AABBRayIntersection:function(t,e,n){var r=J.use(t.min.getX(),t.min.getY(),0),o=J.use(t.max.getX(),t.min.getY(),0),i=J.use(t.min.getX(),t.max.getY(),0),a=J.use(t.max.getX(),t.max.getY(),0),u=[];u.push(Q.intersection2D(r,o,e,n)),u.push(Q.intersection2D(r,i,e,n)),u.push(Q.intersection2D(o,a,e,n)),u.push(Q.intersection2D(i,a,e,n));var c=[];return u.forEach((function(e){null!==e.getX()&&!0===t.containsPoint(e)&&c.push(e)})),r.recycle(),o.recycle(),i.recycle(),a.recycle(),c}},tt=Q;function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(180),n(95),n(184),n(185),n(186);var nt=function(){function t(e,n,r,o,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.matrix=this.svg.createSVGMatrix(),this.setTransform(e,n,r,o,i,a)}return function(t,e,n){e&&et(t.prototype,e)}(t,[{key:"setTransformMatrix",value:function(t){this.matrix=t}},{key:"getTransformMatrix",value:function(){return this.matrix}},{key:"scale",value:function(t,e){this.matrix=this.matrix.scaleNonUniform(t,e)}},{key:"rotate",value:function(t){this.matrix=this.matrix.rotate(180*t/Math.PI)}},{key:"translate",value:function(t,e){this.matrix=this.matrix.translate(t,e)}},{key:"setTransform",value:function(t,e,n,r,o,i){this.matrix.a=t,this.matrix.b=e,this.matrix.c=n,this.matrix.d=r,this.matrix.e=o,this.matrix.f=i}},{key:"transform",value:function(t,e,n,r,o,i){var a=this.svg.createSVGMatrix();a.a=t,a.b=e,a.c=n,a.d=r,a.e=o,a.f=i,this.matrix=this.matrix.multiply(a)}},{key:"transformCoordinates",value:function(t,e){var n=this.svg.createSVGPoint();return n.x=parseFloat(t),n.y=parseFloat(e),n.matrixTransform(this.matrix.inverse())}},{key:"multiply",value:function(t){this.matrix.multiply(t)}},{key:"getComputedScaleX",value:function(){return Math.sqrt(this.matrix.a*this.matrix.a+this.matrix.c*this.matrix.c)}},{key:"getComputedScaleY",value:function(){return Math.sqrt(this.matrix.d*this.matrix.d+this.matrix.b*this.matrix.b)}},{key:"getTx",value:function(){return this.matrix.e}},{key:"getTy",value:function(){return this.matrix.f}},{key:"getScaleX",value:function(){return this.matrix.a}},{key:"getScaleY",value:function(){return this.matrix.d}},{key:"getSkewX",value:function(){return this.matrix.b}},{key:"getSkewY",value:function(){return this.matrix.c}},{key:"flipX",value:function(){this.matrix=this.matrix.flipX()}},{key:"flipY",value:function(){this.matrix=this.matrix.flipY()}}]),t}();function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ot=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.width,r=e.height;switch(this.canvasTag=document.createElement("canvas"),this.canvasTag.width=n,this.canvasTag.height=r,this.canvasTag.style.zIndex=e.cssZIndex,this.canvasTag.style.position=e.cssPosition,this.canvasTag.style.pointerEvents=e.cssPointerEvents,this.context=this.canvasTag.getContext("2d"),this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowBlur=0,this.context.shadowColor=null,this.transformMatrix=new nt(1,0,0,1,0,0),this.canvasWidth=n,this.canvasHeight=r,this.savedTransforms=[],this.baseLineForText="top",this.container=e.canvasDiv,e.addStatusId){case 1:this.container.appendChild(this.canvasTag);break;case 0:this.container.insertBefore(this.canvasTag,this.container.firstChild);break;default:throw'missing "addStatusId" parameter'}this.ellipsisWidth=0,this.ellipsis="...",this.space=" ",this.spaceWidth=0,!1!==e.useMouseController&&this.setupListener(),this.resize(n,r)}return function(t,e,n){e&&rt(t.prototype,e),n&&rt(t,n)}(t,[{key:"getContainer",value:function(){return this.container}},{key:"setupListener",value:function(){this.mouseController=new z({name:"icanvas-mouse-controller",domTarget:this.canvasTag,defaultIsAvoid:!0})}},{key:"getImageUrl",value:function(){return this.canvasTag.toDataURL("image/png")}},{key:"saveImage",value:function(){window.open(this.canvasTag.toDataURL("image/jpeg",1))}},{key:"getCanvasHeight",value:function(){return this.canvasHeight}},{key:"setCanvasHeight",value:function(t){return t=Math.floor(t),this.canvasTag.height!==t&&(this.canvasTag.height=t,this.canvasHeight=t),this.canvasHeight}},{key:"getCanvasWidth",value:function(){return this.canvasWidth}},{key:"setCanvasWidth",value:function(t){return t=Math.floor(t),this.canvasTag.width!==t&&(this.canvasTag.width=t,this.canvasWidth=t),this.canvasWidth}},{key:"setOnMouseDown",value:function(t){this.mouseController.onMouseDown=t,this.mouseController.onTouchStart=t}},{key:"setOnMouseMove",value:function(t){this.mouseController.onMouseMove=t,this.mouseController.onTouchMove=t}},{key:"setOnMouseUp",value:function(t){this.mouseController.onMouseUp=t,this.mouseController.onTouchEnd=t}},{key:"setOnMouseEnter",value:function(t){this.mouseController.onMouseEnter=t}},{key:"setOnMouseLeave",value:function(t){this.mouseController.onMouseLeave=t}},{key:"setOnMouseOut",value:function(t){this.mouseController.onMouseOut=t}},{key:"setOnMouseWheel",value:function(t){this.mouseController.onMouseWheel=t}},{key:"setOnClick",value:function(t){this.mouseController.onClick=t}},{key:"setOnDoubleClick",value:function(t){this.mouseController.onDoubleClick=t}},{key:"setKeyDownHandler",value:function(t){document.addEventListener("keydown",t)}},{key:"setId",value:function(t){this.canvasTag.setAttribute("id",t)}},{key:"setCss",value:function(t,e){$(this.canvasTag).css(t,e)}},{key:"setLineWidth",value:function(t){this.context.lineWidth=t}},{key:"getOffset",value:function(){return{left:this.canvasTag.offsetLeft,top:this.canvasTag.offsetTop}}},{key:"setTextBaseline",value:function(t){this.baseLineForText=t,this.context.textBaseline=this.baseLineForText}},{key:"setTextAlign",value:function(t){this.context.textAlign=t}},{key:"setFillStyle",value:function(t){this.context.fillStyle=t}},{key:"setStrokeStyle",value:function(t){this.context.strokeStyle=t}},{key:"beginPath",value:function(){this.context.beginPath()}},{key:"moveTo",value:function(t,e){this.context.moveTo(t,e)}},{key:"lineTo",value:function(t,e){this.context.lineTo(t,e)}},{key:"stroke",value:function(){this.context.stroke()}},{key:"drawLine",value:function(t){var e=this.context;e.fillStyle=t.color,e.strokeStyle=t.color,e.beginPath(),e.moveTo(Math.floor(t.a.getX()),Math.floor(t.a.getY())),e.lineTo(Math.floor(t.b.getX()),Math.floor(t.b.getY())),e.fill(),e.stroke(),e.closePath()}},{key:"drawImage",value:function(t,e,n,r,o){r&&o?this.context.drawImage(t,e,n,r,o):this.context.drawImage(t,e,n)}},{key:"fillCircle",value:function(e,n,r,o,i){this.context.beginPath(),this.context.arc(e,n,r,0,2*Math.PI,!1);var a=t.getColorFromHex(i);this.context.fillStyle="rgba("+a.r+","+a.g+","+a.b+","+o+")",this.context.fill(),t.recycleColor(a)}},{key:"strokeCircle",value:function(e,n,r,o,i,a){this.context.beginPath(),this.context.arc(e,n,r,0,2*Math.PI,!1);var u=t.getColorFromHex(i);this.context.lineWidth=a,this.context.strokeStyle="rgba("+u.r+","+u.g+","+u.b+","+o+")",this.context.stroke(),t.recycleColor(u)}},{key:"fillEllipsis",value:function(e,n,r,o,i,a,u){this.context.beginPath(),this.context.ellipse(e,n,r,o,i,0,2*Math.PI,!1);var c=t.getColorFromHex(u);this.context.fillStyle="rgba("+c.r+","+c.g+","+c.b+","+a+")",this.context.fill(),t.recycleColor(c)}},{key:"strokeEllipsis",value:function(e,n,r,o,i,a,u,c){this.context.beginPath(),this.context.ellipse(e,n,Math.abs(r),Math.abs(o),i,0,2*Math.PI,!1),this.context.lineWidth=c;var s=t.getColorFromHex(u);this.context.strokeStyle="rgba("+s.r+","+s.g+","+s.b+","+a+")",this.context.stroke(),t.recycleColor(s)}},{key:"drawRect",value:function(e,n,r,o,i,a){this.context.beginPath(),this.context.rect(e,n,r,o);var u=t.getColorFromHex(a);this.context.fillStyle="rgba("+u.r+","+u.g+","+u.b+","+i+")",this.context.fill(),t.recycleColor(u)}},{key:"strokeRect",value:function(e,n,r,o,i,a){this.context.beginPath(),this.context.rect(e,n,r,o);var u=t.getColorFromHex(a);this.context.strokeStyle="rgba("+u.r+","+u.g+","+u.b+","+i+")",this.context.stroke(),t.recycleColor(u)}},{key:"fillRect",value:function(e,n,r,o,i,a){this.context.beginPath(),this.context.rect(e,n,r,o);var u=t.getColorFromHex(a);this.context.fillStyle="rgba("+u.r+","+u.g+","+u.b+","+i+")",this.context.fill(),t.recycleColor(u)}},{key:"clearCanvas",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getCanvasWidth(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.getCanvasHeight(),o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!0===o&&(this.saveCanvas(),this.setTransform(1,0,0,1,0,0)),this.context.clearRect(t,e,n,r),!0===o&&this.restoreCanvas()}},{key:"saveCanvas",value:function(){this.savedTransforms.push(new TransformMatrix(this.getScaleX(),this.getSkewX(),this.getSkewY(),this.getScaleY(),this.getTx(),this.getTy())),this.context.save()}},{key:"restoreCanvas",value:function(){this.transformMatrix=this.savedTransforms.pop(),this.context.restore()}},{key:"setGlobalAlpha",value:function(t){this.context.globalAlpha=t}},{key:"resize",value:function(t,e){this.canvasWidth=t,this.canvasHeight=e,this.canvasTag.width=t,this.canvasTag.height=e,this.context.textBaseline=this.baseLineForText}},{key:"getTransformMatrix",value:function(){return this.transformMatrix}},{key:"scale",value:function(t,e){this.transformMatrix.scale(t,e),this.context.scale(t,e)}},{key:"rotate",value:function(t){this.transformMatrix.rotate(t),this.context.rotate(t)}},{key:"translate",value:function(t,e){this.transformMatrix.translate(t,e),this.context.translate(t,e)}},{key:"setTransform",value:function(t,e,n,r,o,i){this.transformMatrix.setTransform(t,e,n,r,o,i),this.context.setTransform(t,e,n,r,o,i)}},{key:"transform",value:function(t,e,n,r,o,i){this.transformMatrix.transform(t,e,n,r,o,i),this.context.transform(t,e,n,r,o,i)}},{key:"transformCoordinates",value:function(t,e){return this.transformMatrix.transformCoordinates(t,e)}},{key:"getTx",value:function(){return this.transformMatrix.getTx()}},{key:"getTy",value:function(){return this.transformMatrix.getTy()}},{key:"getComputedScaleX",value:function(t){return(t?-1:1)*this.transformMatrix.getComputedScaleX()}},{key:"getComputedScaleY",value:function(t){return t?-this.transformMatrix.getComputedScaleY():this.transformMatrix.getComputedScaleY()}},{key:"getScaleX",value:function(){return this.transformMatrix.getScaleX()}},{key:"getScaleY",value:function(){return this.transformMatrix.getScaleY()}},{key:"getSkewX",value:function(){return this.transformMatrix.getSkewX()}},{key:"getSkewY",value:function(){return this.transformMatrix.getSkewY()}},{key:"flipX",value:function(){this.transformMatrix.flipX(),this.setTransform(-this.transformMatrix.getScaleX(),-this.transformMatrix.getSkewX(),-this.transformMatrix.getSkewY(),this.transformMatrix.getScaleY(),this.transformMatrix.getTx(),this.transformMatrix.getTy())}},{key:"flipX2",value:function(){this.transformMatrix.flipX(),this.setTransform(this.transformMatrix.getScaleX(),-this.transformMatrix.getSkewX(),this.transformMatrix.getSkewY(),this.transformMatrix.getScaleY(),this.transformMatrix.getTx(),this.transformMatrix.getTy())}},{key:"flipY2",value:function(){this.transformMatrix.flipY(),this.setTransform(-this.transformMatrix.getScaleX(),-this.transformMatrix.getSkewX(),-this.transformMatrix.getSkewY(),this.transformMatrix.getScaleY(),this.transformMatrix.getTx(),this.transformMatrix.getTy())}},{key:"flipXY",value:function(){this.transformMatrix.flipX(),this.setTransform(-this.transformMatrix.getScaleX(),this.transformMatrix.getSkewX(),this.transformMatrix.getSkewY(),this.transformMatrix.getScaleY(),this.transformMatrix.getTx(),this.transformMatrix.getTy())}},{key:"flipY",value:function(){this.transformMatrix.flipY(),this.setTransform(this.transformMatrix.getScaleX(),this.transformMatrix.getSkewX(),-this.transformMatrix.getSkewY(),this.transformMatrix.getScaleY(),this.transformMatrix.getTx(),this.transformMatrix.getTy())}},{key:"measureTextInCanvas",value:function(t){return this.context.measureText(t).width}},{key:"stringEllipsis",value:function(t,e,n){var r=this.context.measureText(t).width;if(r<e&&!1===n)return t;for(var o=t.length;r>=e-this.ellipsisWidth&&o-- >0;)t=t.substring(0,o),r=this.context.measureText(t).width;return t+this.ellipsis}},{key:"drawMultilineText",value:function(t,e,n,r,o,i,a,u){if(!1===u)var c=Math.ceil(e+r);else c=Math.ceil(e);var s=Math.ceil(n),l=this.context.measureText(t).width,f=0;if(l>r){for(var h=this,p=t.split(this.space),v=p.map((function(t){return h.context.measureText(t).width})),d=!1,y=0,g=0,b=0,m=0,x=0;x<i;++x){for(;y<v.length&&b<r;)b+=v[y],++y;if(b>r&&y>g+1&&(b-=v[--y]),0==x&&(m=b),x<i-1)this.context.fillText(p.slice(g,y).join(" "),c,s+o*x),b+=(y-g)*this.spaceWidth;else if(y-g==0&&y<p.length){b+=v[++y],d=!0;var w=p.slice(g,y).join(this.space);this.context.measureText(w).width<r?(w=this.stringEllipsis(w,r,y<v.length),b+=(y-g)*this.spaceWidth+this.ellipsisWidth):b+=(y-g)*this.spaceWidth,this.context.fillText(w,c,s+o*x)}else y-g!=0&&y<=p.length&&(d=!0,w=p.slice(g,y).join(this.space),this.context.measureText(w).width<r?(w=this.stringEllipsis(w,r,y<v.length),b+=(y-g)*this.spaceWidth+this.ellipsisWidth):b+=(y-g)*this.spaceWidth,this.context.fillText(w,c,s+o*x));f<b&&(f=b),a&&(b=Math.ceil(b),this.context.beginPath(),!1===u?(this.context.moveTo(c,s+2+o*(x+1)),this.context.lineTo(c-b,s+2+o*(x+1))):(this.context.moveTo(c,s+2+o*(x+1)),this.context.lineTo(c+b,s+2+o*(x+1))),this.context.stroke()),b=0,g=y}return{lengthOfFirstLine:(!0===d?-1:1)*m,maxLength:f}}return this.context.fillText(t,c,s),a&&(this.context.beginPath(),this.context.moveTo(c,s+o+2),!1===u?this.context.lineTo(c-l,s+o+2):this.context.lineTo(e+l,s+o+2),this.context.stroke()),{lengthOfFirstLine:l,maxLength:l}}},{key:"getLabelInfos",value:function(t,e,n,r){var o=this.context.measureText(t).width,i=Math.min(Math.max(Math.ceil(o/n),1),r),a=i*(e+EAnatomyViewer.STYLE.LINE_INTERVAL_PX);return LabelToDrawInfos.getOne(a,t,t.length,i)}},{key:"setCanvasBackground",value:function(t){this.canvasTag.style.backgroundColor="#"+t}},{key:"hide",value:function(){this.canvasTag.style.display="none"}},{key:"show",value:function(){this.canvasTag.style.display="block"}},{key:"getColor",value:function(t){}}],[{key:"recycleColor",value:function(t){}},{key:"getColorFromHex",value:function(e){if("#"==e.charAt(0)&&(e=e.substr(1)),t.COLOR_POOL.AVAILABLE.length>0)var n=t.COLOR_POOL.AVAILABLE.pop();else n={r:0,g:0,b:0};var r=parseInt(e,16);return n.r=r>>16,n.g=r>>8&255,n.b=255&r,n}}]),t}();ot.COLOR_POOL={AVAILABLE:[{r:0,g:0,b:0},{r:0,g:0,b:0},{r:0,g:0,b:0}]};var it=ot;function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ut=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=e,this.b=n,this.color=r,this.accuracy=.1}return function(t,e,n){e&&at(t.prototype,e)}(t,[{key:"getDirection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return J.getInstance(t).affect(this.b).substract(this.a).normalize()}},{key:"recycle",value:function(){this.a.recycle(),this.b.recycle()}},{key:"setAccuracy",value:function(t){this.accuracy=t}},{key:"hasPoint",value:function(t){var e=t.distance(this.a),n=this.a.distance(this.b),r=t.distance(this.b);return Math.abs(e+r-n)<this.accuracy}},{key:"getIntersectionWith",value:function(t){var e=tt.intersection2D(this.a,this.b,t.a,t.b);return null!==e&&!1===this.hasPoint(e)&&(e=null),e}}]),t}();function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pt(t,e){if(e&&("object"===ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vt(t)}function vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dt(t);if(e){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pt(this,n)}}(n);function n(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({name:"pointer-controller"},t))).target=t.target,r.handlers={pointer:new z({domTarget:r.target,onMouseMove:r.onMouseMove.bind(vt(r)),onMouseDown:r.onMouseDown.bind(vt(r)),onMouseUp:r.onMouseUp.bind(vt(r)),onClick:r.onClick.bind(vt(r)),onDoubleClick:r.onDoubleClick.bind(vt(r)),onMouseEnter:r.onMouseEnter.bind(vt(r)),onMouseLeave:r.onMouseLeave.bind(vt(r)),onMouseWheel:r.onMouseWheel.bind(vt(r))})},r.state={pointer:t.state.pointer||new X};var o=t.clickSensitivity||{};return r.clickSensitivity={min:o.min||80,max:o.max||200},r.lastClickTimestamp=Date.now(),r.lastDBClickTimestamp=Date.now(),r.longClickTimer=null,r}return function(t,e,n){e&&ft(t.prototype,e),n&&ft(t,n)}(n,[{key:"updatePointerCoords",value:function(t){this.state.pointer.update(t),this.state.pointer.data.lastCoordsOnScreen.x=t.clientX,this.state.pointer.data.lastCoordsOnScreen.y=t.clientY}},{key:"clearLongClickTimer",value:function(){clearTimeout(this.longClickTimer),this.longClickTimer=null}},{key:"enable",value:function(){this.data.enabled=!0}},{key:"disable",value:function(){this.data.enabled=!1}},{key:"isEnabled",value:function(){return!0===this.data.enabled}},{key:"onMouseMove",value:function(t){!0===this.isEnabled()&&(this.updatePointerCoords(t),this.publish(n.EVENT.POINTER_MOVE,t),this.clearLongClickTimer())}},{key:"onMouseDown",value:function(t){var e=this;this.updatePointerCoords(t),this.state.pointer.setMouseDownTarget(t.target),this.state.pointer.isDown=!0;var r=Date.now(),o=r-this.lastClickTimestamp;if(o<=this.clickSensitivity.min)this.lastClickTimestamp=r;else{if(this.state.pointer.isDown=!0,this.lastClickTimestamp=r,o<this.clickSensitivity.max)return this.onDoubleClick(t);null===this.longClickTimer&&(this.longClickTimer=setTimeout((function(){e.publish(n.EVENT.LONG_CLICK)}),500)),this.publish(n.EVENT.POINTER_DOWN,t)}}},{key:"onMouseUp",value:function(t){this.updatePointerCoords(t),clearTimeout(this.longClickTimer),this.state.pointer.isDown=!1,this.publish(n.EVENT.POINTER_UP,t),t.preventDefault()}},{key:"onMouseEnter",value:function(t){this.updatePointerCoords(t),this.publish(n.EVENT.POINTER_ENTER,t)}},{key:"onMouseLeave",value:function(t){this.state.pointer.isDown&&(this.state.pointer.isDown=!1,this.clearLongClickTimer()),this.publish(n.EVENT.POINTER_LEAVE,t)}},{key:"onMouseWheel",value:function(t){this.publish(n.EVENT.MOUSE_WHEEL,t)}},{key:"onClick",value:function(t){}},{key:"onDoubleClick",value:function(t){var e=Date.now();e-this.lastDBClickTimestamp<2*this.clickSensitivity.min||(this.lastDBClickTimestamp=e,this.lastClickTimestamp=e,this.publish(n.EVENT.DOUBLE_CLICK,t))}}],[{key:"isRightClick",value:function(t){return 3===t.which||2===t.button}}]),n}(D);yt.EVENT={POINTER_MOVE:"pointer-move",POINTER_DOWN:"pointer-down",POINTER_UP:"pointer-up",POINTER_ENTER:"pointer-enter",POINTER_LEAVE:"pointer-leave",LONG_CLICK:"long-click",DOUBLE_CLICK:"double-click",MOUSE_WHEEL:"mouse-wheel"};var gt=yt;function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var mt=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};bt(this,t),this.availables=e.container||{}};function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kt(t,e){if(e&&("object"===xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Et(t);if(e){var o=Et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kt(this,n)}}(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wt(this,n),(t=e.call(this,r)).default_id=null,t.current_id=null,t}return n}(mt);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t,e){if(e&&("object"===Tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ct(t){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ct(t);if(e){var o=Ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mt(this,n)}}(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jt(this,n),(t=e.call(this,r)).default_id=[],t.current_id=[],t}return n}(mt);function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function At(t,e){if(e&&("object"===_t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Dt(t);if(e){var o=Dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return It(this,n),t=e.call(this,r),void 0!==r.resources?t.data.resources=r.resources:t.data.resources=new mt,t}return function(t,e,n){e&&Lt(t.prototype,e)}(n,[{key:"isAvailable",value:function(t){return null!==this.findById(t)}},{key:"addResource",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.id;this.data.resources.availables[e]=t}},{key:"findById",value:function(t){return this.data.resources.availables[t]||null}},{key:"updateById",value:function(t,e){var n=this.findById(t);for(var r in e)n.hasOwnProperty(r)&&(n[r]=e[r])}},{key:"getResources",value:function(){return this.data.resources.availables}},{key:"findOne",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.values(this.getResources()),n=null,r=0,o=function(){var o=!0,i=e[r];Object.keys(t).forEach((function(e){var n=t[e];i.hasOwnProperty(e)&&i[e]===n?o=o&&!0:(o=!1,r++)})),!0===o&&(n=i)};null===n&&r<e.length;)o();return n}},{key:"find",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.values(this.getResources()),n=Object.keys(t);return e.filter((function(e){var r=!0;return n.forEach((function(n){var o=t[n];r=!!e.hasOwnProperty(n)&&(void 0!==o&&Array.isArray(o.$in)?r&&o.$in.indexOf(e[n])>=0:void 0!==o&&Array.isArray(o.$or)?r&&o.$or.some((function(t){return t===e[n]})):e[n]===o&&r&&!0)})),r}))}}]),n}(D);function Xt(t){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wt(t,e){if(e&&("object"===Xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qt(t);if(e){var o=qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wt(this,n)}}(n);function n(){var t,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Yt(this,n),(r=e.call(this,o)).data.resources=null!==(t=o.resources)&&void 0!==t?t:new St,r}return function(t,e,n){e&&Bt(t.prototype,e)}(n,[{key:"setDefault",value:function(t){if(!this.isAvailable(t))throw"Unknown resource ".concat(t);this.data.resources.default_id=t}},{key:"getDefault",value:function(){return this.data.resources.availables[this.data.resources.default_id]||null}},{key:"getDefaultId",value:function(){return this.data.resources.default_id}},{key:"hasDefault",value:function(){return null!==this.data.resources.default_id}},{key:"isDefault",value:function(t){return this.getDefaultId()===t}},{key:"setCurrent",value:function(t){if(!this.isAvailable(t))throw"Unknown resource ".concat(t);this.data.resources.current_id=t}},{key:"getCurrent",value:function(){return this.data.resources.availables[this.data.resources.current_id]||null}},{key:"getCurrentId",value:function(){return this.data.resources.current_id}},{key:"hasContent",value:function(){return null!==this.getCurrent()}},{key:"isCurrent",value:function(t){return this.getCurrentId()===t}}]),n}(Nt);function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kt(t,e){return(Kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zt(t,e){if(e&&("object"===Vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kt(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$t(t);if(e){var o=$t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zt(this,n)}}(n);function n(){var t,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ht(this,n),(r=e.call(this,o)).data.resources=null!==(t=o.resources)&&void 0!==t?t:new Rt,r}return function(t,e,n){e&&Gt(t.prototype,e)}(n,[{key:"isSelected",value:function(t){return this.data.resources.current_id.has(t)}},{key:"getCurrentIds",value:function(){return Array.from(this.data.resources.current_id)}},{key:"getCurrent",value:function(){for(var t=[],e=0,n=Array.from(this.data.resources.current_id);e<n.length;e++){var r=n[e];t.push(this.data.resources.availables[r])}return t}},{key:"toggle",value:function(t){return this.isSelected(t)?(this.select(t),!0):(this.unselect(t),!1)}},{key:"select",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{this.data.resources.current_id.add(t),!0!==e&&this.onSelect(t)}catch(t){console.error(t)}}},{key:"onSelect",value:function(t){}},{key:"unselect",value:function(t){try{this.data.resources.current_id.delete(t),this.onUnselect(t)}catch(t){console.error(t)}}},{key:"onUnselect",value:function(t){}},{key:"selectAll",value:function(){var t=this;Object.keys(this.data.resources.availables).forEach((function(e){t.select(e,!0)}))}},{key:"unselectAll",value:function(){this.data.resources.current_id.clear()}}]),n}(Nt);function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?te(Object(n),!0).forEach((function(e){ne(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oe(t,e){return(oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ie(t,e){if(e&&("object"===Qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ae(t){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(188);var ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oe(t,e)}(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ae(t);if(e){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ie(this,n)}}(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this)).initialize=function(e){r.init(e,t)},r}return function(t,e,n){e&&re(t.prototype,e),n&&re(t,n)}(n,[{key:"init",value:function(t,e){return t.store("isFullScreen",!1),n.isSafariIOS()?this.initFullscreenModeForIOS(t,e.element):this.initFullscreenMode(t,e.element),this}},{key:"onFullScreen",value:function(t,e){t.emit("onFullScreen"),t.store("isFullScreen",!0),e.classList.add("fullscreen"),t.publish(ce.ON_FULLSCREEN)}},{key:"onExitFullScreen",value:function(t,e){t.emit("onExitFullscreen"),t.store("isFullScreen",!1),e.classList.remove("fullscreen"),t.publish(ce.ON_EXIT_FULLSCREEN)}},{key:"onFullScreenChange",value:function(t,e){document[this.getLeaveFullscreenHandler(t).propertyName]!==e&&this.onExitFullScreen(t,e)}},{key:"initFullscreenModeForIOS",value:function(t,e){var n=document.body,r=function(e){try{e.preventDefault()}catch(e){t.notifyError(e)}};t.setBehavior("toggleFullScreen",(function(){!1===t.get("isFullScreen")?(e.classList.add("fullscreen"),n.classList.add("no-scroll"),n.ontouchmove=r,n.parentElement.ontouchmove=r,e.style.height=window.innerHeight+"px"):(e.classList.remove("fullscreen"),n.classList.remove("no-scroll"),n.ontouchmove=null,n.parentElement.ontouchmove=null,e.style.height="")}))}},{key:"initFullscreenMode",value:function(t,e){var n=this,r=this.getFullscreenHandler(t,e);t.listen(r.eventName,(function(){n.onFullScreenChange(t,e)})),"fullscreenchange"!==r.eventName&&t.listen("fullscreenchange",(function(){n.onFullScreenChange(t,e)})),t.setBehavior("toggleFullScreen",(function(){!1===t.get("isFullScreen")?(r.requestFullScreen(),n.onFullScreen(t,e)):(r.exitFullscreen(),n.onExitFullScreen(t,e))}))}},{key:"getOpenFullscreenHandler",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;return"function"==typeof r.requestFullscreen?(e="requestFullscreen",n="fullscreenChange"):"function"==typeof r.mozRequestFullScreen?(e="mozRequestFullScreen",n="mozfullscreenchange"):"function"==typeof r.webkitRequestFullscreen?(e="webkitRequestFullScreen",n="webkitfullscreenchange"):"function"==typeof r.msRequestFullscreen&&(e="msRequestFullscreen",n="MSFullscreenChange"),{requestFullScreen:function(){try{r[e]()}catch(e){t.notifyError(e)}},eventName:n}}},{key:"getLeaveFullscreenHandler",value:function(t){var e=null,n=null;if("function"==typeof document.exitFullscreen)e="exitFullscreen";else if("function"==typeof document.webkitExitFullscreen)e="webkitExitFullscreen";else if("function"==typeof document.mozCancelFullScreen)e="mozCancelFullScreen";else{if("function"!=typeof document.msExitFullscreen)throw new Error("No exit fullscreen method");e="msExitFullscreen"}if("fullscreenElement"in document)n="fullscreenElement";else if("webkitFullscreenElement"in document)n="webkitFullscreenElement";else if("mozFullScreenElement"in document)n="mozFullScreenElement";else{if(!("msFullscreenElement"in document))throw new Error("No fullscreen element property");n="msFullscreenElement "}return{exitFullscreen:function(){if(null===n||document[n])try{document[e]()}catch(e){t.notifyError(e)}},propertyName:n}}},{key:"getFullscreenHandler",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;return ee(ee({},this.getOpenFullscreenHandler(t,e)),this.getLeaveFullscreenHandler(t))}}],[{key:"isSafariIOS",value:function(){return null!==navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&null!==navigator.userAgent.match(/AppleWebKit/)}}]),n}(f),ce={ON_FULLSCREEN:"onFullscreen",ON_EXIT_FULLSCREEN:"onExitFullscreen"},se=function(t,e){return new ue(e)}}])}));
//# sourceMappingURL=im-jsdk.js.map